{"version":3,"file":"static/js/832.b562960c.chunk.js","mappings":"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","sources":["components/RichTextEditor/index.tsx","components/PdfPageEditor/index.tsx"],"sourcesContent":["import React, { useCallback, useRef } from 'react';\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport Underline from '@tiptap/extension-underline';\r\nimport Image from '@tiptap/extension-image';\r\nimport Table from '@tiptap/extension-table';\r\nimport TableRow from '@tiptap/extension-table-row';\r\nimport TableHeader from '@tiptap/extension-table-header';\r\nimport TableCell from '@tiptap/extension-table-cell';\r\nimport { Box, ButtonGroup, IconButton } from '@mui/material';\r\nimport {\r\n  FormatBold,\r\n  FormatItalic,\r\n  FormatListBulleted,\r\n  FormatListNumbered,\r\n  Undo,\r\n  Redo,\r\n  Image as ImageIcon,\r\n  TableChart,\r\n  Delete as DeleteIcon,\r\n  KeyboardArrowUp as ArrowUpIcon,\r\n  KeyboardArrowDown as ArrowDownIcon,\r\n  KeyboardArrowLeft as ArrowLeftIcon,\r\n  KeyboardArrowRight as ArrowRightIcon\r\n} from '@mui/icons-material';\r\n\r\n\r\ninterface RichTextEditorProps {\r\n  content: string;\r\n  onChange: (content: string) => void;\r\n  readOnly?: boolean;\r\n}\r\n\r\nconst RichTextEditor: React.FC<RichTextEditorProps> = ({ content, onChange, readOnly = false }) => {\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Underline,\r\n      Image.configure({\r\n        inline: true,\r\n        allowBase64: true,\r\n      }),\r\n      Table.configure({\r\n        resizable: true,\r\n      }),\r\n      TableRow,\r\n      TableHeader,\r\n      TableCell,\r\n    ],\r\n    content,\r\n    onUpdate: ({ editor }) => {\r\n      onChange(editor.getHTML());\r\n    },\r\n    editable: !readOnly,\r\n  });\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      const base64 = event.target?.result as string;\r\n      editor?.chain().focus().setImage({ src: base64 }).run();\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const addTable = useCallback(() => {\r\n    editor?.chain().focus().insertTable({ rows: 3, cols: 3, withHeaderRow: true }).run();\r\n  }, [editor]);\r\n\r\n  const addColumnBefore = useCallback(() => {\r\n    editor?.chain().focus().addColumnBefore().run();\r\n  }, [editor]);\r\n\r\n  const addColumnAfter = useCallback(() => {\r\n    editor?.chain().focus().addColumnAfter().run();\r\n  }, [editor]);\r\n\r\n  const addRowBefore = useCallback(() => {\r\n    editor?.chain().focus().addRowBefore().run();\r\n  }, [editor]);\r\n\r\n  const addRowAfter = useCallback(() => {\r\n    editor?.chain().focus().addRowAfter().run();\r\n  }, [editor]);\r\n\r\n  const deleteRow = useCallback(() => {\r\n    editor?.chain().focus().deleteRow().run();\r\n  }, [editor]);\r\n\r\n  const deleteColumn = useCallback(() => {\r\n    editor?.chain().focus().deleteColumn().run();\r\n  }, [editor]);\r\n\r\n  const deleteTable = useCallback(() => {\r\n    editor?.chain().focus().deleteTable().run();\r\n  }, [editor]);\r\n\r\n  if (!editor) {\r\n    return <div>Đang tải trình soạn thảo...</div>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ border: '1px solid #e0e0e0', borderRadius: 1, overflow: 'hidden' }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          gap: 0.5,\r\n          p: 1,\r\n          borderBottom: '1px solid #e0e0e0',\r\n          bgcolor: '#f5f5f5',\r\n        }}\r\n      >\r\n        {/* Text Formatting Buttons */}\r\n        <ButtonGroup size=\"small\" variant=\"text\">\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().toggleBold().run()}\r\n            color={editor.isActive('bold') ? 'primary' : 'default'}\r\n            title=\"Đậm\"\r\n          >\r\n            <FormatBold />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().toggleItalic().run()}\r\n            color={editor.isActive('italic') ? 'primary' : 'default'}\r\n            title=\"Nghiêng\"\r\n          >\r\n            <FormatItalic />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().toggleUnderline().run()}\r\n            color={editor.isActive('underline') ? 'primary' : 'default'}\r\n            title=\"Gạch chân\"\r\n          >\r\n            <FormatBold sx={{ textDecoration: 'underline' }} />\r\n          </IconButton>\r\n        </ButtonGroup>\r\n\r\n        {/* List Buttons */}\r\n        <ButtonGroup size=\"small\" variant=\"text\">\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n            color={editor.isActive('bulletList') ? 'primary' : 'default'}\r\n            title=\"Danh sách không thứ tự\"\r\n          >\r\n            <FormatListBulleted />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().toggleOrderedList().run()}\r\n            color={editor.isActive('orderedList') ? 'primary' : 'default'}\r\n            title=\"Danh sách có thứ tự\"\r\n          >\r\n            <FormatListNumbered />\r\n          </IconButton>\r\n        </ButtonGroup>\r\n\r\n        {/* Table Controls */}\r\n        <ButtonGroup size=\"small\" variant=\"text\">\r\n          <IconButton\r\n            onClick={addTable}\r\n            title=\"Chèn bảng\"\r\n          >\r\n            <TableChart />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={addRowBefore}\r\n            disabled={!editor.can().addRowBefore()}\r\n            title=\"Thêm hàng phía trên\"\r\n          >\r\n            <ArrowUpIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={addRowAfter}\r\n            disabled={!editor.can().addRowAfter()}\r\n            title=\"Thêm hàng phía dưới\"\r\n          >\r\n            <ArrowDownIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={addColumnBefore}\r\n            disabled={!editor.can().addColumnBefore()}\r\n            title=\"Thêm cột bên trái\"\r\n          >\r\n            <ArrowLeftIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={addColumnAfter}\r\n            disabled={!editor.can().addColumnAfter()}\r\n            title=\"Thêm cột bên phải\"\r\n          >\r\n            <ArrowRightIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={deleteRow}\r\n            disabled={!editor.can().deleteRow()}\r\n            title=\"Xóa hàng\"\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={deleteColumn}\r\n            disabled={!editor.can().deleteColumn()}\r\n            title=\"Xóa cột\"\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={deleteTable}\r\n            disabled={!editor.can().deleteTable()}\r\n            title=\"Xóa bảng\"\r\n          >\r\n            <TableChart />\r\n          </IconButton>\r\n        </ButtonGroup>\r\n\r\n        {/* Image Upload */}\r\n        <ButtonGroup size=\"small\" variant=\"text\">\r\n          <IconButton\r\n            onClick={() => fileInputRef.current?.click()}\r\n            title=\"Chèn ảnh\"\r\n          >\r\n            <ImageIcon />\r\n          </IconButton>\r\n        </ButtonGroup>\r\n\r\n        {/* Undo/Redo */}\r\n        <ButtonGroup size=\"small\" variant=\"text\">\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().undo().run()}\r\n            disabled={!editor.can().undo()}\r\n            title=\"Hoàn tác\"\r\n          >\r\n            <Undo />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => editor.chain().focus().redo().run()}\r\n            disabled={!editor.can().redo()}\r\n            title=\"Làm lại\"\r\n          >\r\n            <Redo />\r\n          </IconButton>\r\n        </ButtonGroup>\r\n      </Box>\r\n\r\n      {/* Editor Content */}\r\n      <Box sx={{ \r\n        p: 2, \r\n        minHeight: '300px', \r\n        maxHeight: '70vh', \r\n        overflowY: 'auto',\r\n        '& .ProseMirror': {\r\n          '& table': {\r\n            borderCollapse: 'collapse',\r\n            margin: '1rem 0',\r\n            width: '100%',\r\n            tableLayout: 'fixed',\r\n          },\r\n          '& table td, & table th': {\r\n            border: '1px solid #ccc',\r\n            padding: '8px 12px',\r\n            position: 'relative',\r\n            textAlign: 'left',\r\n            verticalAlign: 'top',\r\n          },\r\n          '& table th': {\r\n            backgroundColor: '#f3f3f3',\r\n            fontWeight: 'bold',\r\n          },\r\n          '& table .selectedCell': {\r\n            backgroundColor: 'rgba(200, 200, 255, 0.4)',\r\n          },\r\n        }\r\n      }}>\r\n        <EditorContent editor={editor} />\r\n      </Box>\r\n\r\n      {/* Hidden file input for image upload */}\r\n      <input\r\n        type=\"file\"\r\n        ref={fileInputRef}\r\n        style={{ display: 'none' }}\r\n        accept=\"image/*\"\r\n        onChange={handleFileChange}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RichTextEditor;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Box, Typography, IconButton, Paper, Button } from '@mui/material';\r\nimport { Add as AddIcon, Save as SaveIcon, PictureAsPdf as PdfIcon, Print as PrintIcon, Delete as DeleteIcon, Edit as EditIcon } from '@mui/icons-material';\r\nimport { Document, Page, Text, View, StyleSheet, pdf, Font } from '@react-pdf/renderer';\r\nimport RichTextEditor from '../RichTextEditor';\r\n\r\n// Đăng ký font chữ hỗ trợ tiếng Việt\r\nFont.register({\r\n  family: 'Roboto',\r\n  fonts: [\r\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf', fontWeight: 'normal' },\r\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-bold-webfont.ttf', fontWeight: 'bold' },\r\n    { src: 'https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-italic-webfont.ttf', fontStyle: 'italic' },\r\n  ],\r\n});\r\n\r\n// Đăng ký font Noto Sans hỗ trợ tiếng Việt tốt hơn\r\nFont.register({\r\n  family: 'NotoSans',\r\n  fonts: [\r\n    { src: 'https://cdn.jsdelivr.net/npm/@fontsource/noto-sans@4.5.1/files/noto-sans-vietnamese-400-normal.woff', fontWeight: 'normal' },\r\n    { src: 'https://cdn.jsdelivr.net/npm/@fontsource/noto-sans@4.5.1/files/noto-sans-vietnamese-700-normal.woff', fontWeight: 'bold' },\r\n  ],\r\n});\r\n\r\n// Đăng ký font Source Sans Pro hỗ trợ tiếng Việt\r\nFont.register({\r\n  family: 'SourceSansPro',\r\n  fonts: [\r\n    { src: 'https://cdn.jsdelivr.net/npm/source-sans-pro@3.6.0/TTF/SourceSansPro-Regular.ttf', fontWeight: 'normal' },\r\n    { src: 'https://cdn.jsdelivr.net/npm/source-sans-pro@3.6.0/TTF/SourceSansPro-Bold.ttf', fontWeight: 'bold' },\r\n    { src: 'https://cdn.jsdelivr.net/npm/source-sans-pro@3.6.0/TTF/SourceSansPro-Italic.ttf', fontStyle: 'italic' },\r\n    { src: 'https://cdn.jsdelivr.net/npm/source-sans-pro@3.6.0/TTF/SourceSansPro-BoldItalic.ttf', fontWeight: 'bold', fontStyle: 'italic' },\r\n  ],\r\n});\r\n\r\n// Đặt font mặc định cho toàn bộ PDF\r\nFont.registerHyphenationCallback(word => [word]);\r\n\r\n// A4 dimensions in mm\r\nconst A4_WIDTH_MM = 210;\r\nconst A4_HEIGHT_MM = 297;\r\nconst MM_TO_PX = 3.78; // Approximate conversion factor\r\n\r\n// Calculate pixel dimensions based on 96 DPI\r\nconst A4_WIDTH_PX = A4_WIDTH_MM * MM_TO_PX;\r\nconst A4_HEIGHT_PX = A4_HEIGHT_MM * MM_TO_PX;\r\n\r\n// Reduced padding for better space utilization\r\nconst PAGE_PADDING = '10mm';\r\n\r\n// Định nghĩa styles cho PDF\r\nconst styles = StyleSheet.create({\r\n  page: {\r\n    flexDirection: 'column',\r\n    backgroundColor: '#ffffff',\r\n    padding: 30,\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  section: {\r\n    margin: 10,\r\n    padding: 10,\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  text: {\r\n    fontSize: 12,\r\n    marginBottom: 5,\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  table: {\r\n    width: 'auto',\r\n    borderStyle: 'solid',\r\n    borderWidth: 1,\r\n    borderColor: '#bfbfbf',\r\n    marginVertical: 10,\r\n  },\r\n  tableRow: {\r\n    flexDirection: 'row',\r\n  },\r\n  tableHeaderCell: {\r\n    backgroundColor: '#f0f0f0',\r\n    fontWeight: 'bold',\r\n    padding: 5,\r\n    borderStyle: 'solid',\r\n    borderWidth: 1,\r\n    borderColor: '#bfbfbf',\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  tableCell: {\r\n    padding: 5,\r\n    borderStyle: 'solid',\r\n    borderWidth: 1,\r\n    borderColor: '#bfbfbf',\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n  pageNumber: {\r\n    position: 'absolute',\r\n    fontSize: 10,\r\n    bottom: 20,\r\n    right: 20,\r\n    textAlign: 'right',\r\n    color: 'grey',\r\n    fontFamily: 'SourceSansPro',\r\n  },\r\n});\r\n\r\n// Hàm chuyển đổi HTML thành cấu trúc dữ liệu cho React-PDF\r\nconst parseHtmlContent = (htmlContent: string) => {\r\n  // Tạo một DOM parser\r\n  const parser = new DOMParser();\r\n  const doc = parser.parseFromString(htmlContent, 'text/html');\r\n  \r\n  // Mảng chứa các phần tử đã parse\r\n  const parsedElements: any[] = [];\r\n  \r\n  // Xử lý các phần tử con\r\n  const processNode = (node: Node, depth = 0): any => {\r\n    if (node.nodeType === Node.TEXT_NODE) {\r\n      const text = node.textContent?.trim();\r\n      if (text) {\r\n        // Đảm bảo hiển thị đúng tiếng Việt bằng cách giữ nguyên mã Unicode\r\n        return { type: 'text', content: text };\r\n      }\r\n      return null;\r\n    }\r\n    \r\n    if (node.nodeType === Node.ELEMENT_NODE) {\r\n      const element = node as Element;\r\n      const tagName = element.tagName.toLowerCase();\r\n      \r\n      // Xử lý các loại phần tử khác nhau\r\n      switch (tagName) {\r\n        case 'h1':\r\n          return { type: 'heading1', content: element.textContent || '' };\r\n        case 'h2':\r\n          return { type: 'heading2', content: element.textContent || '' };\r\n        case 'p':\r\n          return { type: 'paragraph', content: element.textContent || '' };\r\n        case 'strong':\r\n        case 'b':\r\n          return { type: 'bold', content: element.textContent || '' };\r\n        case 'em':\r\n        case 'i':\r\n          return { type: 'italic', content: element.textContent || '' };\r\n        case 'u':\r\n          return { type: 'underline', content: element.textContent || '' };\r\n        case 'table':\r\n          const rows: any[] = [];\r\n          const tableRows = element.querySelectorAll('tr');\r\n          \r\n          tableRows.forEach((row, rowIndex) => {\r\n            const cells: any[] = [];\r\n            const isHeader = rowIndex === 0 || row.querySelector('th');\r\n            \r\n            row.querySelectorAll('th, td').forEach((cell) => {\r\n              cells.push({\r\n                content: cell.textContent || '',\r\n                isHeader: cell.tagName.toLowerCase() === 'th',\r\n              });\r\n            });\r\n            \r\n            rows.push({ cells, isHeader });\r\n          });\r\n          \r\n          return { type: 'table', rows };\r\n        case 'ul':\r\n        case 'ol':\r\n          const items: string[] = [];\r\n          element.querySelectorAll('li').forEach((li) => {\r\n            items.push(li.textContent || '');\r\n          });\r\n          return { \r\n            type: tagName === 'ul' ? 'bulletList' : 'numberedList', \r\n            items \r\n          };\r\n        default:\r\n          // Xử lý các phần tử có phần tử con\r\n          const children: any[] = [];\r\n          element.childNodes.forEach((child) => {\r\n            const processed = processNode(child, depth + 1);\r\n            if (processed) {\r\n              children.push(processed);\r\n            }\r\n          });\r\n          \r\n          if (children.length > 0) {\r\n            return { type: 'container', children };\r\n          }\r\n          return null;\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  };\r\n  \r\n  // Xử lý tất cả các phần tử con của body\r\n  doc.body.childNodes.forEach((node) => {\r\n    const processed = processNode(node);\r\n    if (processed) {\r\n      parsedElements.push(processed);\r\n    }\r\n  });\r\n  \r\n  return parsedElements;\r\n};\r\n\r\n// Component để render các phần tử đã parse\r\nconst RenderPdfElement = ({ element }: { element: any }) => {\r\n  switch (element.type) {\r\n    case 'heading1':\r\n      return <Text style={styles.title}>{element.content}</Text>;\r\n    case 'heading2':\r\n      return <Text style={styles.subtitle}>{element.content}</Text>;\r\n    case 'paragraph':\r\n      return <Text style={styles.text}>{element.content}</Text>;\r\n    case 'bold':\r\n      return <Text style={{ ...styles.text, fontWeight: 'bold' }}>{element.content}</Text>;\r\n    case 'italic':\r\n      return <Text style={{ ...styles.text, fontStyle: 'italic' }}>{element.content}</Text>;\r\n    case 'underline':\r\n      return <Text style={{ ...styles.text, textDecoration: 'underline' }}>{element.content}</Text>;\r\n    case 'text':\r\n      return <Text style={styles.text}>{element.content}</Text>;\r\n    case 'table':\r\n      return (\r\n        <View style={styles.table as any}>\r\n          {element.rows.map((row: any, rowIndex: number) => (\r\n            <View key={rowIndex} style={styles.tableRow}>\r\n              {row.cells.map((cell: any, cellIndex: number) => {\r\n                const cellStyle = cell.isHeader || row.isHeader ? styles.tableHeaderCell : styles.tableCell;\r\n                return (\r\n                  <View key={cellIndex} style={[cellStyle, { flex: 1 }]}>\r\n                    <Text>{cell.content}</Text>\r\n                  </View>\r\n                );\r\n              })}\r\n            </View>\r\n          ))}\r\n        </View>\r\n      );\r\n    case 'bulletList':\r\n      return (\r\n        <View style={{ marginLeft: 10 }}>\r\n          {element.items.map((item: string, index: number) => (\r\n            <View key={index} style={{ flexDirection: 'row', marginBottom: 5 }}>\r\n              <Text style={{ marginRight: 5 }}>•</Text>\r\n              <Text style={styles.text}>{item}</Text>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      );\r\n    case 'numberedList':\r\n      return (\r\n        <View style={{ marginLeft: 10 }}>\r\n          {element.items.map((item: string, index: number) => (\r\n            <View key={index} style={{ flexDirection: 'row', marginBottom: 5 }}>\r\n              <Text style={{ marginRight: 5 }}>{index + 1}.</Text>\r\n              <Text style={styles.text}>{item}</Text>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      );\r\n    case 'container':\r\n      return (\r\n        <View>\r\n          {element.children.map((child: any, index: number) => (\r\n            <RenderPdfElement key={index} element={child} />\r\n          ))}\r\n        </View>\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\n// Component để render PDF\r\nconst PdfDocument = ({ pages }: { pages: string[] }) => (\r\n  <Document>\r\n    {pages.map((content, index) => {\r\n      const parsedContent = parseHtmlContent(content);\r\n      return (\r\n        <Page key={index} size=\"A4\" style={styles.page}>\r\n          <View style={styles.section}>\r\n            {parsedContent.map((element, elementIndex) => (\r\n              <RenderPdfElement key={elementIndex} element={element} />\r\n            ))}\r\n            <Text style={styles.pageNumber}>Trang {index + 1}</Text>\r\n          </View>\r\n        </Page>\r\n      );\r\n    })}\r\n  </Document>\r\n);\r\n\r\ninterface PdfPageProps {\r\n  content: string;\r\n  pageNumber: number;\r\n  isEditing: boolean;\r\n  onContentChange: (content: string) => void;\r\n}\r\n\r\nconst PdfPage: React.FC<PdfPageProps> = ({ content, pageNumber, isEditing, onContentChange }) => {\r\n  const handleContentChange = (newContent: string) => {\r\n    onContentChange(newContent);\r\n  };\r\n\r\n  return (\r\n    <Paper \r\n      elevation={2}\r\n      className=\"pdf-page\"\r\n      data-page-number={pageNumber}\r\n      sx={{\r\n        width: `${A4_WIDTH_PX}px`,\r\n        minHeight: `${A4_HEIGHT_PX}px`,\r\n        maxWidth: '100%', // Đảm bảo không vượt quá chiều rộng của container\r\n        padding: PAGE_PADDING,\r\n        margin: '0 0 20px 0', // Chỉ để margin dưới, bỏ margin trái phải\r\n        position: 'relative',\r\n        backgroundColor: 'white',\r\n        boxSizing: 'border-box',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        '@media print': {\r\n          boxShadow: 'none',\r\n          margin: 0,\r\n          padding: PAGE_PADDING,\r\n          pageBreakAfter: 'always',\r\n          '&:last-child': {\r\n            pageBreakAfter: 'auto',\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <Box sx={{ \r\n        flex: 1, \r\n        overflow: 'hidden',\r\n        '& .ProseMirror': {\r\n          overflow: 'hidden !important', // Ngăn scroll trong editor\r\n          height: '100%',\r\n          '& table': {\r\n            borderCollapse: 'collapse',\r\n            margin: '1rem 0',\r\n            width: '100%',\r\n            tableLayout: 'fixed',\r\n            border: '1px solid #000',\r\n          },\r\n          '& table td, & table th': {\r\n            border: '1px solid #000',\r\n            padding: '8px 12px',\r\n            position: 'relative',\r\n            textAlign: 'left',\r\n            verticalAlign: 'top',\r\n          },\r\n          '& table th': {\r\n            backgroundColor: '#f3f3f3',\r\n            fontWeight: 'bold',\r\n          },\r\n        }\r\n      }}>\r\n        <RichTextEditor \r\n          content={content} \r\n          onChange={handleContentChange} \r\n          readOnly={!isEditing}\r\n        />\r\n      </Box>\r\n      <Box sx={{ \r\n        position: 'absolute', \r\n        bottom: 10, \r\n        right: 10, \r\n        fontSize: '12px', \r\n        color: '#666',\r\n        backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n        px: 1,\r\n        borderRadius: 1\r\n      }}>\r\n        Trang {pageNumber}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\ninterface PdfPageEditorProps {\r\n  initialContent: string[];\r\n  onSave: (pages: string[]) => void;\r\n  onExportPdf?: () => void;\r\n}\r\n\r\nexport const PdfPageEditor: React.FC<PdfPageEditorProps> = ({\r\n  initialContent,\r\n  onSave,\r\n  onExportPdf,\r\n}) => {\r\n  const [pages, setPages] = useState<string[]>(initialContent);  \r\n  const [isEditing, setIsEditing] = useState(true);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n  \r\n  // Initialize with empty content if no content is provided\r\n  useEffect(() => {\r\n    if (initialContent.length === 0) {\r\n      setPages(['<p>Nhập nội dung tại đây...</p>']);\r\n    }\r\n  }, [initialContent]);\r\n\r\n  const handleAddPage = () => {\r\n    setPages([...pages, '<p>Nhập nội dung tại đây...</p>']);\r\n  };\r\n  \r\n  const handleRemovePage = (index: number) => {\r\n    if (pages.length <= 1) return; // Don't remove the last page\r\n    const newPages = [...pages];\r\n    newPages.splice(index, 1);\r\n    setPages(newPages);\r\n  };\r\n\r\n  const handlePageContentChange = (index: number, content: string) => {\r\n    const newPages = [...pages];\r\n    newPages[index] = content;\r\n    setPages(newPages);\r\n  };\r\n\r\n  const toggleEdit = () => {\r\n    const newEditState = !isEditing;\r\n    setIsEditing(newEditState);\r\n    \r\n    // Save when toggling out of edit mode\r\n    if (newEditState === false) {\r\n      onSave(pages);\r\n    }\r\n  };\r\n\r\n  const handleExportPdf = async () => {\r\n    try {\r\n      // Tạo một instance của Document\r\n      const pdfDoc = <PdfDocument pages={pages} />;\r\n      \r\n      // Tạo blob từ document\r\n      const blob = await pdf(pdfDoc).toBlob();\r\n      \r\n      // Tạo URL từ blob\r\n      const url = URL.createObjectURL(blob);\r\n      \r\n      // Tạo link tải xuống\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = 'bao-gia.pdf';\r\n      link.click();\r\n      \r\n      // Giải phóng URL\r\n      setTimeout(() => URL.revokeObjectURL(url), 100);\r\n      \r\n      if (onExportPdf) {\r\n        onExportPdf();\r\n      }\r\n    } catch (error) {\r\n      console.error('Lỗi khi xuất PDF:', error);\r\n    }\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ \r\n      display: 'flex', \r\n      height: 'calc(100vh - 48px)', // Trừ đi chiều cao của AppBar nếu có\r\n      bgcolor: '#f8f9fa',\r\n      overflow: 'hidden' // Ngăn không cho scroll ở container ngoài cùng\r\n    }}>\r\n      {/* Sidebar */}\r\n      <Box sx={{ \r\n        width: 250, \r\n        bgcolor: 'white', \r\n        p: 2, \r\n        boxShadow: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: 2,\r\n        overflowY: 'auto' // Cho phép sidebar scroll nếu cần\r\n      }}>\r\n        <Typography variant=\"h6\" sx={{ fontWeight: 'bold', mb: 2, color: 'primary.main' }}>Tài liệu</Typography>\r\n        \r\n        <Button \r\n          variant=\"contained\" \r\n          fullWidth\r\n          onClick={toggleEdit}\r\n          startIcon={isEditing ? <SaveIcon /> : <EditIcon />}\r\n          sx={{ mb: 1, justifyContent: 'flex-start' }}\r\n        >\r\n          {isEditing ? 'Lưu thay đổi' : 'Chỉnh sửa'}\r\n        </Button>\r\n        \r\n        <Button \r\n          variant=\"outlined\" \r\n          fullWidth\r\n          onClick={handleExportPdf}\r\n          startIcon={<PdfIcon />}\r\n          sx={{ mb: 1, justifyContent: 'flex-start' }}\r\n        >\r\n          Xuất PDF\r\n        </Button>\r\n        \r\n        <Button \r\n          variant=\"outlined\" \r\n          fullWidth\r\n          onClick={handlePrint}\r\n          startIcon={<PrintIcon />}\r\n          sx={{ mb: 3, justifyContent: 'flex-start' }}\r\n        >\r\n          In tài liệu\r\n        </Button>\r\n\r\n        {isEditing && (\r\n          <Button \r\n            variant=\"contained\" \r\n            color=\"primary\"\r\n            fullWidth\r\n            onClick={handleAddPage}\r\n            startIcon={<AddIcon />}\r\n            sx={{ mt: 'auto', mb: 2 }}\r\n          >\r\n            Thêm trang mới\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Main Content - Chỉ cho phép scroll ở đây */}\r\n      <Box sx={{ \r\n        flex: 1, \r\n        p: 3, \r\n        overflowY: 'auto',\r\n        overflowX: 'hidden', // Ngăn scroll ngang\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center' // Căn giữa nội dung\r\n      }}>\r\n        <Box \r\n          ref={contentRef}\r\n          sx={{ \r\n            width: 'fit-content', // Để tự động co giãn theo nội dung\r\n            maxWidth: '100%', // Đảm bảo không vượt quá chiều rộng của container\r\n            bgcolor: 'transparent', // Loại bỏ nền trắng của khung\r\n            p: 0, // Loại bỏ padding không cần thiết\r\n          }}\r\n        >\r\n          {pages.map((page, index) => (\r\n            <Box \r\n              key={index} \r\n              sx={{ \r\n                position: 'relative',\r\n                mb: 4,\r\n                '&:hover .page-actions': {\r\n                  opacity: 1\r\n                }\r\n              }}\r\n            >\r\n              <PdfPage\r\n                content={page}\r\n                pageNumber={index + 1}\r\n                isEditing={isEditing}\r\n                onContentChange={(content) => handlePageContentChange(index, content)}\r\n              />\r\n              {isEditing && (\r\n                <Box \r\n                  className=\"page-actions\"\r\n                  sx={{\r\n                    position: 'absolute',\r\n                    top: 8,\r\n                    right: 8,\r\n                    display: 'flex',\r\n                    gap: 1,\r\n                    opacity: 0,\r\n                    transition: 'opacity 0.2s',\r\n                    '&:hover': {\r\n                      opacity: 1\r\n                    }\r\n                  }}\r\n                >\r\n                  <IconButton \r\n                    onClick={() => handleRemovePage(index)}\r\n                    size=\"small\"\r\n                    sx={{ \r\n                      backgroundColor: 'error.light',\r\n                      color: 'white',\r\n                      '&:hover': {\r\n                        backgroundColor: 'error.dark',\r\n                      },\r\n                    }}\r\n                    disabled={pages.length <= 1}\r\n                    title=\"Xóa trang\"\r\n                  >\r\n                    <DeleteIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PdfPageEditor;\r\n"],"names":["_ref","content","onChange","readOnly","fileInputRef","useRef","editor","useEditor","extensions","StarterKit","Underline","Image","configure","inline","allowBase64","Table","resizable","TableRow","TableHeader","TableCell","onUpdate","_ref2","getHTML","editable","addTable","useCallback","chain","focus","insertTable","rows","cols","withHeaderRow","run","addColumnBefore","addColumnAfter","addRowBefore","addRowAfter","deleteRow","deleteColumn","deleteTable","_jsxs","Box","sx","border","borderRadius","overflow","children","display","flexWrap","gap","p","borderBottom","bgcolor","ButtonGroup","size","variant","_jsx","IconButton","onClick","toggleBold","color","isActive","title","FormatBold","toggleItalic","FormatItalic","toggleUnderline","textDecoration","toggleBulletList","FormatListBulleted","toggleOrderedList","FormatListNumbered","TableChart","disabled","can","ArrowUpIcon","ArrowDownIcon","ArrowLeftIcon","ArrowRightIcon","DeleteIcon","_fileInputRef$current","current","click","ImageIcon","undo","Undo","redo","Redo","minHeight","maxHeight","overflowY","borderCollapse","margin","width","tableLayout","padding","position","textAlign","verticalAlign","backgroundColor","fontWeight","EditorContent","type","ref","style","accept","e","_e$target$files","file","target","files","reader","FileReader","onload","event","_event$target","base64","result","setImage","src","readAsDataURL","Font","register","family","fonts","fontStyle","registerHyphenationCallback","word","A4_HEIGHT_PX","PAGE_PADDING","styles","StyleSheet","create","page","flexDirection","fontFamily","section","flexGrow","fontSize","marginBottom","subtitle","text","table","borderStyle","borderWidth","borderColor","marginVertical","tableRow","tableHeaderCell","tableCell","pageNumber","bottom","right","RenderPdfElement","element","Text","_objectSpread","View","map","row","rowIndex","cells","cell","cellIndex","cellStyle","isHeader","flex","marginLeft","items","item","index","marginRight","child","PdfDocument","pages","Document","parsedContent","htmlContent","doc","DOMParser","parseFromString","parsedElements","processNode","node","depth","arguments","length","undefined","nodeType","Node","TEXT_NODE","_node$textContent","textContent","trim","ELEMENT_NODE","tagName","toLowerCase","querySelectorAll","forEach","querySelector","push","li","childNodes","processed","body","parseHtmlContent","Page","elementIndex","PdfPage","_ref3","isEditing","onContentChange","Paper","elevation","className","concat","A4_WIDTH_MM","maxWidth","boxSizing","boxShadow","pageBreakAfter","height","RichTextEditor","newContent","px","PdfPageEditor","_ref4","initialContent","onSave","onExportPdf","setPages","useState","setIsEditing","contentRef","useEffect","Typography","mb","Button","fullWidth","toggleEdit","newEditState","startIcon","SaveIcon","EditIcon","justifyContent","async","pdfDoc","blob","pdf","toBlob","url","URL","createObjectURL","link","document","createElement","href","download","setTimeout","revokeObjectURL","error","console","PdfIcon","handlePrint","window","print","PrintIcon","handleAddPage","AddIcon","mt","overflowX","alignItems","opacity","handlePageContentChange","newPages","top","transition","splice","handleRemovePage"],"sourceRoot":""}