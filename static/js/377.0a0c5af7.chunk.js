"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[377],{10706:(e,a,t)=>{t.d(a,{A:()=>S});var n=t(65043),o=t(53969),l=t(55895),i=t(42579),s=t(26529),c=t(94527),r=t(91244),d=t(16128),m=t(83759),p=t(27421),u=t(61773),h=t(19817),x=t(94045),g=t(4573),f=t(23241),v=t(73069),y=t(69200),A=t(25272),b=t(74117),w=t(70579);const S=e=>{let{contact:a,onClose:t,onOpenEmailWindow:S,onOpenNoteDialog:j}=e;const[C,z]=(0,n.useState)(!1),[M,T]=(0,n.useState)(!1),{t:k}=(0,b.Bd)();return(0,w.jsxs)(o.A,{sx:{fontSize:"0.9rem"},children:[(0,w.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,children:[(0,w.jsx)(l.A,{variant:"h6",sx:{fontSize:"1.1rem"},children:k("pages.contacts.details.title")}),(0,w.jsx)(i.A,{onClick:t,size:"small",children:(0,w.jsx)(p.A,{fontSize:"small"})})]}),(0,w.jsxs)(o.A,{mb:2,children:[(0,w.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[(0,w.jsxs)(l.A,{variant:"h5",fontWeight:"bold",sx:{fontSize:"1.1rem"},children:[a.firstName," ",a.lastName]}),C&&(0,w.jsx)(i.A,{size:"small",sx:{ml:1},children:(0,w.jsx)(u.A,{fontSize:"small"})})]}),(0,w.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:[(0,w.jsx)(l.A,{color:"text.secondary",sx:{mb:.5,fontSize:"0.85rem"},children:a.email}),M&&(0,w.jsx)(i.A,{size:"small",sx:{ml:1},onClick:()=>{navigator.clipboard.writeText(a.email),alert(k("pages.contacts.details.messages.emailCopied"))},children:(0,w.jsx)(h.A,{fontSize:"small"})})]}),(0,w.jsxs)(o.A,{display:"flex",gap:.5,mt:1.5,children:[(0,w.jsx)(s.A,{title:k("pages.contacts.details.actions.addNote"),children:(0,w.jsx)(i.A,{color:"primary",onClick:j,size:"small",children:(0,w.jsx)(x.A,{fontSize:"small"})})}),(0,w.jsx)(s.A,{title:k("pages.contacts.details.actions.sendEmail"),children:(0,w.jsx)(i.A,{color:"primary",onClick:S,size:"small",children:(0,w.jsx)(g.A,{fontSize:"small"})})}),(0,w.jsx)(s.A,{title:k("pages.contacts.details.actions.call"),children:(0,w.jsx)(i.A,{color:"primary",size:"small",children:(0,w.jsx)(f.A,{fontSize:"small"})})}),(0,w.jsx)(s.A,{title:k("pages.contacts.details.actions.schedule"),children:(0,w.jsx)(i.A,{color:"primary",size:"small",children:(0,w.jsx)(v.A,{fontSize:"small"})})}),(0,w.jsx)(s.A,{title:k("pages.contacts.details.actions.createTask"),children:(0,w.jsx)(i.A,{color:"primary",size:"small",children:(0,w.jsx)(y.A,{fontSize:"small"})})})]})]}),(0,w.jsx)(c.A,{sx:{my:1.5}}),(0,w.jsx)(r.A,{variant:"outlined",sx:{mb:1.5},children:(0,w.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,w.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,w.jsx)(l.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:k("pages.contacts.details.sections.about")}),(0,w.jsx)(A.A,{fontSize:"small"})]}),(0,w.jsxs)(o.A,{mt:1.5,sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:[(0,w.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,w.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:k("pages.contacts.details.fields.phone")}),(0,w.jsx)(l.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.phone})]}),(0,w.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,w.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:k("pages.contacts.details.fields.leadStatus")}),(0,w.jsx)(m.A,{label:a.leadStatus,color:"New"===a.leadStatus?"primary":"Qualified"===a.leadStatus?"success":"warning",size:"small",sx:{height:"20px","& .MuiChip-label":{fontSize:"0.75rem",px:1}}})]}),(0,w.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,w.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:k("pages.contacts.details.fields.owner")}),(0,w.jsx)(l.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.owner})]}),(0,w.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,w.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:k("pages.contacts.details.fields.created")}),(0,w.jsx)(l.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.createDate})]})]})]})}),(0,w.jsx)(r.A,{variant:"outlined",children:(0,w.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,w.jsx)(l.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:k("pages.contacts.details.timeline.title")}),(0,w.jsx)(o.A,{mt:1.5,display:"flex",justifyContent:"center",alignItems:"center",height:80,children:(0,w.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:k("pages.contacts.details.timeline.empty")})})]})})]})}},16128:(e,a,t)=>{t.d(a,{A:()=>g});var n=t(89379),o=t(80045),l=t(65043),i=t(58387),s=t(31807),c=t(58128),r=t(28301),d=t(79857),m=t(86061);function p(e){return(0,m.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var u=t(70579);const h=["className","component"],x=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),g=l.forwardRef(function(e,a){const t=(0,r.b)({props:e,name:"MuiCardContent"}),{className:l,component:c="div"}=t,d=(0,o.A)(t,h),m=(0,n.A)((0,n.A)({},t),{},{component:c}),g=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},p,a)})(m);return(0,u.jsx)(x,(0,n.A)({as:c,className:(0,i.A)(g.root,l),ownerState:m,ref:a},d))})},19817:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(14057),o=t(70579);const l=(0,n.A)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},25272:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(14057),o=t(70579);const l=(0,n.A)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},67377:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var n=t(89379),o=t(65043),l=t(60267),i=t(40405),s=t(53969),c=t(55895),r=t(57268),d=t(95220),m=t(24341),p=t(10706),u=t(74117),h=t(90160),x=t(82518),g=t(87195),f=t(70579);const v=[{id:"1",name:"Tr\u1ea7n Th\u1ecb B",email:"tran.b@company.com",avatar:"/avatars/tran.jpg"},{id:"2",name:"Ph\u1ea1m V\u0103n C",email:"pham.c@company.com",avatar:"/avatars/pham.jpg"},{id:"3",name:"Nguy\u1ec5n Th\u1ecb D",email:"nguyen.d@company.com",avatar:"/avatars/nguyen.jpg"},{id:"4",name:"L\xea V\u0103n E",email:"le.e@company.com",avatar:"/avatars/le.jpg"},{id:"5",name:"Ho\xe0ng Th\u1ecb F",email:"hoang.f@company.com",avatar:"/avatars/hoang.jpg"}],y=[{value:"new",label:"New Lead",color:"#2196f3"},{value:"qualified",label:"Qualified",color:"#4caf50"},{value:"hot",label:"Hot Lead",color:"#ff5722"},{value:"cold",label:"Cold Lead",color:"#9e9e9e"},{value:"converted",label:"Converted",color:"#8bc34a"}],A=[{id:"1",name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",company:"ABC Corporation",position:"Gi\xe1m \u0111\u1ed1c IT",owner:"1",leadStatus:"hot",lastContact:"2024-01-15",value:25e7},{id:"2",name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.vn",phone:"0987654321",company:"XYZ Trading",position:"Tr\u01b0\u1edfng ph\xf2ng Marketing",owner:"2",leadStatus:"qualified",lastContact:"2024-01-10",value:15e7},{id:"3",name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.com",phone:"0912345678",company:"Tech Solutions",position:"CTO",owner:"3",leadStatus:"new",lastContact:"2024-01-08",value:5e8},{id:"4",name:"Tr\u1ea7n Th\u1ecb Mai",email:"mai.tran@startup.io",phone:"0923456789",company:"Innovation Startup",position:"CEO",owner:"1",leadStatus:"qualified",lastContact:"2024-01-12",value:3e8},{id:"5",name:"Ph\u1ea1m V\u0103n Nam",email:"nam.pham@enterprise.com",phone:"0934567890",company:"Big Enterprise",position:"Procurement Manager",owner:"4",leadStatus:"cold",lastContact:"2023-12-20",value:1e8},{id:"6",name:"V\xf5 Th\u1ecb Lan",email:"lan.vo@retail.vn",phone:"0945678901",company:"Retail Chain",position:"Operations Director",owner:"2",leadStatus:"hot",lastContact:"2024-01-14",value:4e8},{id:"7",name:"\u0110\u1ed7 Minh Tu\u1ea5n",email:"tuan.do@finance.com",phone:"0956789012",company:"Financial Services",position:"Head of Digital",owner:"5",leadStatus:"qualified",lastContact:"2024-01-11",value:2e8},{id:"8",name:"B\xf9i Th\u1ecb Hoa",email:"hoa.bui@healthcare.vn",phone:"0967890123",company:"Healthcare Group",position:"IT Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-09",value:18e7},{id:"9",name:"Ng\xf4 V\u0103n Ki\xean",email:"kien.ngo@logistics.com",phone:"0978901234",company:"Logistics Solutions",position:"Supply Chain Manager",owner:"1",leadStatus:"hot",lastContact:"2024-01-16",value:32e7},{id:"10",name:"\u0110\u1eb7ng Th\u1ecb Linh",email:"linh.dang@education.edu",phone:"0989012345",company:"Education Institute",position:"Technology Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-13",value:28e7},{id:"11",name:"L\xfd Minh Quang",email:"quang.ly@manufacturing.vn",phone:"0990123456",company:"Manufacturing Corp",position:"Production Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-07",value:45e7},{id:"12",name:"Phan Th\u1ecb Nga",email:"nga.phan@tourism.com",phone:"0901234568",company:"Tourism Group",position:"Digital Marketing Head",owner:"4",leadStatus:"cold",lastContact:"2023-12-25",value:12e7},{id:"13",name:"V\u0169 V\u0103n H\xf9ng",email:"hung.vu@construction.vn",phone:"0912345679",company:"Construction Ltd",position:"Project Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-11",value:38e7},{id:"14",name:"Tr\u1ecbnh Th\u1ecb Oanh",email:"oanh.trinh@banking.com",phone:"0923456780",company:"Banking Solutions",position:"IT Director",owner:"1",leadStatus:"hot",lastContact:"2024-01-15",value:6e8},{id:"15",name:"H\u1ed3 V\u0103n Ph\xfac",email:"phuc.ho@insurance.vn",phone:"0934567891",company:"Insurance Group",position:"Digital Transformation Lead",owner:"2",leadStatus:"qualified",lastContact:"2024-01-12",value:35e7},{id:"16",name:"Mai Th\u1ecb Qu\u1ef3nh",email:"quynh.mai@media.com",phone:"0945678902",company:"Media Corporation",position:"Technology Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-08",value:22e7},{id:"17",name:"\u0110inh V\u0103n S\u01a1n",email:"son.dinh@energy.vn",phone:"0956789013",company:"Energy Solutions",position:"Operations Director",owner:"4",leadStatus:"cold",lastContact:"2023-12-18",value:48e7},{id:"18",name:"L\u01b0\u01a1ng Th\u1ecb T\xe2m",email:"tam.luong@pharma.com",phone:"0967890124",company:"Pharmaceutical Inc",position:"R&D Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-10",value:29e7},{id:"19",name:"Cao V\u0103n Th\u1eafng",email:"thang.cao@automotive.vn",phone:"0978901235",company:"Automotive Group",position:"Engineering Manager",owner:"1",leadStatus:"hot",lastContact:"2024-01-14",value:52e7},{id:"20",name:"\u0110o\xe0n Th\u1ecb Uy\xean",email:"uyen.doan@agriculture.com",phone:"0989012346",company:"Agriculture Tech",position:"Innovation Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-11",value:18e7},{id:"21",name:"T\xf4 V\u0103n Vinh",email:"vinh.to@textile.vn",phone:"0990123457",company:"Textile Manufacturing",position:"Quality Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-06",value:15e7},{id:"22",name:"B\u1ea1ch Th\u1ecb Xu\xe2n",email:"xuan.bach@chemicals.com",phone:"0901234569",company:"Chemical Industries",position:"Process Manager",owner:"4",leadStatus:"cold",lastContact:"2023-12-22",value:34e7},{id:"23",name:"L\xe2m V\u0103n Y\xean",email:"yen.lam@electronics.vn",phone:"0912345680",company:"Electronics Corp",position:"Product Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-09",value:42e7},{id:"24",name:"\u1ee8ng Th\u1ecb Zara",email:"zara.ung@fashion.com",phone:"0923456781",company:"Fashion Retail",position:"E-commerce Director",owner:"1",leadStatus:"hot",lastContact:"2024-01-13",value:26e7},{id:"25",name:"Kh\u01b0\u01a1ng V\u0103n An",email:"an.khuong@sports.vn",phone:"0934567892",company:"Sports Equipment",position:"Sales Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-10",value:19e7}],b=()=>{(0,l.A)();const{t:e}=(0,u.Bd)(),[a,t]=(0,o.useState)(A),[b,w]=(0,o.useState)(A),[S,j]=(0,o.useState)(!1),[C,z]=(0,o.useState)([]),[M,T]=(0,o.useState)("all"),[k,N]=(0,o.useState)(null),[D,I]=(0,o.useState)(!1),V=[{id:"owner",label:e("pages.contacts.filters.owner"),type:"owner",icon:(0,f.jsx)(h.A,{fontSize:"small"}),enabled:!0,fieldName:"owner"},{id:"lastContact",label:e("pages.contacts.filters.lastContact"),type:"date",icon:(0,f.jsx)(x.A,{fontSize:"small"}),enabled:!0,fieldName:"lastContact"},{id:"leadStatus",label:e("pages.contacts.filters.leadStatus"),type:"status",icon:(0,f.jsx)(g.A,{fontSize:"small"}),enabled:!0,fieldName:"leadStatus"}],q=[{id:"all",label:e("pages.contacts.views.all"),count:A.length},{id:"my",label:e("pages.contacts.views.my"),count:8},{id:"unassigned",label:e("pages.contacts.views.unassigned"),count:3}],E=v.map(e=>({id:e.id,name:e.name,email:e.email,avatar:e.avatar})),P=y.map(e=>({value:e.value,label:e.label,color:e.color})),L=o.useMemo(()=>[{id:"name",label:e("pages.contacts.columns.name"),type:"text",width:200,sortable:!0,editable:!0,required:!0},{id:"email",label:e("pages.contacts.columns.email"),type:"email",width:250,sortable:!0,editable:!0,required:!0,validate:a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?null:e("pages.contacts.validation.emailInvalid")},{id:"phone",label:e("pages.contacts.columns.phone"),type:"phone",width:150,sortable:!0,editable:!0,validate:a=>/^[0-9]{10,11}$/.test(a.replace(/\D/g,""))?null:e("pages.contacts.validation.phoneInvalid")},{id:"company",label:e("pages.contacts.columns.company"),type:"text",width:200,sortable:!0,editable:!0},{id:"position",label:e("pages.contacts.columns.position"),type:"text",width:150,sortable:!0,editable:!0},{id:"owner",label:e("pages.contacts.columns.owner"),type:"userSelect",width:180,sortable:!0,editable:!0},{id:"leadStatus",label:e("pages.contacts.columns.leadStatus"),type:"select",width:150,sortable:!0,editable:!0,options:y},{id:"lastContact",label:e("pages.contacts.columns.lastContact"),type:"date",width:130,sortable:!0,editable:!0},{id:"value",label:e("pages.contacts.columns.value"),type:"currency",width:150,sortable:!0,editable:!0,format:e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab")},{id:"actions",label:e("pages.contacts.columns.actions"),type:"actions",width:100,sortable:!1,editable:!1}],[e]),H=()=>{I(!1),N(null)};return(0,f.jsx)(i.A,{in:!0,timeout:800,children:(0,f.jsxs)(s.A,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,f.jsxs)(s.A,{sx:{mb:3,flexShrink:0,px:1},children:[(0,f.jsx)(c.A,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"text.primary",mb:1},children:e("pages.contacts.title")}),(0,f.jsx)(c.A,{variant:"body1",color:"text.secondary",children:e("pages.contacts.subtitle")})]}),(0,f.jsx)(m.A,{entity:"contacts",availableFilters:V,owners:E,statuses:P,savedViews:q,onQueryChange:e=>{var t;let n=[...a];e.ownerIds.length>0&&(n=n.filter(a=>e.ownerIds.includes(a.owner)||e.ownerIds.includes("unassigned")&&!a.owner)),e.leadStatus.length>0&&(n=n.filter(a=>e.leadStatus.includes(a.leadStatus))),null!==(t=e.lastContact)&&void 0!==t&&t.preset&&console.log("Filtering by last contact:",e.lastContact.preset),w(n)},onViewChange:e=>{T(e);let t=[...a];switch(e){case"my":t=t.filter(e=>"1"===e.owner);break;case"unassigned":t=t.filter(e=>!e.owner);break;default:t=a}w(t)},sticky:!0}),(0,f.jsx)(s.A,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:(0,f.jsx)(d.A,{columns:L,data:b,loading:S,searchable:!0,filterable:!1,selectable:!0,pagination:!0,defaultRowsPerPage:10,onRowSelect:z,onCellEdit:async(e,a,o)=>(j(!0),await new Promise(e=>setTimeout(e,1e3)),t(t=>t.map(t=>t.id===e?(0,n.A)((0,n.A)({},t),{},{[a]:o}):t)),w(t=>t.map(t=>t.id===e?(0,n.A)((0,n.A)({},t),{},{[a]:o}):t)),j(!1),!0),onRowDoubleClick:e=>{console.log("Open contact detail:",e)},onBulkAction:(e,a)=>{if(console.log("Bulk action:",e,a),"delete"===e)t(e=>e.filter(e=>!a.includes(e.id))),z([])},onPreviewContact:e=>{N(e),I(!0)},users:v,emptyMessage:e("pages.contacts.empty"),zebra:!0})}),(0,f.jsx)(r.Ay,{anchor:"right",open:D,onClose:H,PaperProps:{sx:{width:400,p:3,backgroundColor:"background.paper"}},children:k&&(0,f.jsx)(p.A,{contact:(e=>{const a=e.name.split(" ");return{id:parseInt(e.id),firstName:a[0]||"",lastName:a.slice(1).join(" ")||"",email:e.email,phone:e.phone,owner:e.owner,createDate:e.createDate,leadStatus:e.leadStatus}})(k),onClose:H,onOpenEmailWindow:()=>{console.log("Open email window for:",k.name)},onOpenNoteDialog:()=>{console.log("Open note dialog for:",k.name)}})})]})})}},91244:(e,a,t)=>{t.d(a,{A:()=>f});var n=t(89379),o=t(80045),l=t(65043),i=t(58387),s=t(31807),c=t(58128),r=t(28301),d=t(94799),m=t(79857),p=t(86061);function u(e){return(0,p.Ay)("MuiCard",e)}(0,m.A)("MuiCard",["root"]);var h=t(70579);const x=["className","raised"],g=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),f=l.forwardRef(function(e,a){const t=(0,r.b)({props:e,name:"MuiCard"}),{className:l,raised:c=!1}=t,d=(0,o.A)(t,x),m=(0,n.A)((0,n.A)({},t),{},{raised:c}),p=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},u,a)})(m);return(0,h.jsx)(g,(0,n.A)({className:(0,i.A)(p.root,l),elevation:c?8:void 0,ref:a,ownerState:m},d))})},94045:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(14057),o=t(70579);const l=(0,n.A)((0,o.jsx)("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"}),"Note")}}]);
//# sourceMappingURL=377.0a0c5af7.chunk.js.map