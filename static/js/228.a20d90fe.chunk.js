"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[228],{6228:(e,t,s)=>{s.r(t),s.d(t,{default:()=>me});var n=s(89379),a=s(65043),i=s(53969),o=s(38517),l=s(57268),c=s(74117),r=s(94799),d=s(55895),x=s(41859),m=s(24343),h=s(33699),p=s(42579),u=s(28259),f=s(87443),g=s(10756),j=s(86172),A=s(81341),w=s(38865),b=s(34375),S=s(17873),C=s(83759),v=s(26529),y=s(89174),z=s(22950),W=s(63745),k=s(40847),N=s(61773),I=s(5362),L=s(12043),P=s(70579);const R=[{id:"name",label:"pages.contacts.columns.name",minWidth:170},{id:"email",label:"pages.contacts.columns.email",minWidth:170},{id:"phone",label:"pages.contacts.columns.phone",minWidth:120},{id:"owner",label:"pages.contacts.columns.owner",minWidth:120},{id:"createDate",label:"pages.contacts.columns.createDate",minWidth:100},{id:"leadStatus",label:"pages.contacts.columns.leadStatus",minWidth:100},{id:"actions",label:"pages.contacts.columns.actions",minWidth:80}],T=e=>{let{contacts:t,searchTerm:s,page:o,rowsPerPage:l,selectedContacts:T,onSearchChange:D,onChangePage:E,onChangeRowsPerPage:B,onSelectAllClick:M,onCheckboxClick:O,onOpenCreateDialog:q,onOpenContactDrawer:H,getInitials:U,isSelected:_}=e;const{t:F}=(0,c.Bd)(),G=t.filter(e=>e.firstName.toLowerCase().includes(s.toLowerCase())||e.lastName.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.phone.includes(s)),Q=a.useMemo(()=>R.map(e=>(0,n.A)((0,n.A)({},e),{},{label:F(e.label)})),[F]);return(0,P.jsxs)(r.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,P.jsxs)(i.A,{p:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsxs)(d.A,{variant:"h6",component:"div",children:[F("common.contacts"),(0,P.jsxs)(d.A,{component:"span",color:"text.secondary",sx:{ml:1},children:["(",G.length,")"]})]}),(0,P.jsx)(i.A,{display:"flex",gap:1,children:(0,P.jsx)(x.A,{variant:"contained",startIcon:(0,P.jsx)(z.A,{}),onClick:q,children:F("pages.contacts.actions.createContact")})})]}),(0,P.jsxs)(i.A,{px:2,pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(m.A,{placeholder:F("pages.contacts.searchPlaceholder"),size:"small",value:s,onChange:D,InputProps:{startAdornment:(0,P.jsx)(h.A,{position:"start",children:(0,P.jsx)(W.A,{})})},sx:{width:300}}),(0,P.jsx)(p.A,{children:(0,P.jsx)(k.A,{})})]}),(0,P.jsx)(u.A,{sx:{maxHeight:"calc(100vh - 280px)"},children:(0,P.jsxs)(f.A,{stickyHeader:!0,children:[(0,P.jsx)(g.A,{children:(0,P.jsxs)(j.A,{children:[(0,P.jsx)(A.A,{padding:"checkbox",children:(0,P.jsx)(w.A,{indeterminate:T.length>0&&T.length<G.length,checked:G.length>0&&T.length===G.length,onChange:M})}),Q.map(e=>(0,P.jsx)(A.A,{style:{minWidth:e.minWidth},sx:{fontWeight:"bold"},children:e.label},e.id))]})}),(0,P.jsx)(b.A,{children:G.slice(o*l,o*l+l).map(e=>{const t=_(e.id);return(0,P.jsxs)(j.A,{hover:!0,role:"checkbox",tabIndex:-1,selected:t,children:[(0,P.jsx)(A.A,{padding:"checkbox",children:(0,P.jsx)(w.A,{checked:t,onClick:()=>O(e.id)})}),(0,P.jsx)(A.A,{children:(0,P.jsxs)(i.A,{display:"flex",alignItems:"center",sx:{cursor:"pointer"},onClick:()=>H(e),children:[(0,P.jsx)(S.A,{sx:{mr:2,bgcolor:"primary.main"},children:U(e.firstName,e.lastName)}),(0,P.jsxs)(d.A,{children:[e.firstName," ",e.lastName]})]})}),(0,P.jsx)(A.A,{children:e.email}),(0,P.jsx)(A.A,{children:e.phone}),(0,P.jsx)(A.A,{children:e.owner}),(0,P.jsx)(A.A,{children:e.createDate}),(0,P.jsx)(A.A,{children:(0,P.jsx)(C.A,{label:e.leadStatus,color:"New"===e.leadStatus?"primary":"Qualified"===e.leadStatus?"success":"warning",size:"small"})}),(0,P.jsx)(A.A,{children:(0,P.jsxs)(i.A,{display:"flex",children:[(0,P.jsx)(v.A,{title:F("common.edit"),children:(0,P.jsx)(p.A,{size:"small",children:(0,P.jsx)(N.A,{fontSize:"small"})})}),(0,P.jsx)(v.A,{title:F("common.delete"),children:(0,P.jsx)(p.A,{size:"small",children:(0,P.jsx)(I.A,{fontSize:"small"})})}),(0,P.jsx)(v.A,{title:F("common.more"),children:(0,P.jsx)(p.A,{size:"small",children:(0,P.jsx)(L.A,{fontSize:"small"})})})]})})]},e.id)})})]})}),(0,P.jsx)(y.A,{rowsPerPageOptions:[10,25,100],component:"div",count:G.length,rowsPerPage:l,page:o,onPageChange:E,onRowsPerPageChange:B})]})};var D=s(10706),E=s(81911),B=s(78776),M=s(10256),O=s(3353),q=s(67203),H=s(47471),U=s(85877),_=s(27421);const F=e=>{let{newContact:t,onClose:s,onChange:n,onLeadStatusChange:a,onSubmit:o}=e;const{t:l}=(0,c.Bd)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(E.A,{children:(0,P.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[l("pages.contacts.form.createTitle"),(0,P.jsx)(p.A,{onClick:s,size:"small",children:(0,P.jsx)(_.A,{})})]})}),(0,P.jsx)(B.A,{children:(0,P.jsxs)(i.A,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:2},children:[(0,P.jsx)(i.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,P.jsx)(m.A,{name:"firstName",label:l("pages.contacts.form.fields.firstName"),fullWidth:!0,required:!0,value:t.firstName,onChange:n,autoFocus:!0})}),(0,P.jsx)(i.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,P.jsx)(m.A,{name:"lastName",label:l("pages.contacts.form.fields.lastName"),fullWidth:!0,value:t.lastName,onChange:n})}),(0,P.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,P.jsx)(m.A,{name:"email",label:l("pages.contacts.form.fields.email"),type:"email",fullWidth:!0,required:!0,value:t.email,onChange:n})}),(0,P.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,P.jsx)(m.A,{name:"phone",label:l("pages.contacts.form.fields.phone"),fullWidth:!0,value:t.phone,onChange:n})}),(0,P.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,P.jsx)(m.A,{name:"jobTitle",label:l("pages.contacts.form.fields.jobTitle"),fullWidth:!0,value:t.jobTitle,onChange:n})}),(0,P.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,P.jsxs)(M.A,{fullWidth:!0,children:[(0,P.jsx)(O.A,{children:l("pages.contacts.form.fields.leadStatus")}),(0,P.jsxs)(q.A,{value:t.leadStatus,label:l("pages.contacts.form.fields.leadStatus"),onChange:a,children:[(0,P.jsx)(H.A,{value:"New",children:l("pages.contacts.form.options.leadStatus.new")}),(0,P.jsx)(H.A,{value:"Contacted",children:l("pages.contacts.form.options.leadStatus.contacted")}),(0,P.jsx)(H.A,{value:"Qualified",children:l("pages.contacts.form.options.leadStatus.qualified")}),(0,P.jsx)(H.A,{value:"Lost",children:l("pages.contacts.form.options.leadStatus.lost")})]})]})})]})}),(0,P.jsxs)(U.A,{children:[(0,P.jsx)(x.A,{onClick:s,children:l("pages.contacts.form.actions.cancel")}),(0,P.jsx)(x.A,{onClick:o,variant:"contained",color:"primary",children:l("pages.contacts.form.actions.save")})]})]})};var G=s(94527),Q=s(70846),V=s(52956),X=s(46261),Y=s(1725),J=s(68826),K=s(25272),Z=s(8297),$=s(69258),ee=s(16100),te=s(10167),se=s(63697),ne=s(79430),ae=s(45714),ie=s(82058),oe=s(20312),le=s(39073),ce=s(63898);const re=e=>{let{open:t,onClose:s,recipientEmail:n="",fromContactDetails:o=!1}=e;const{t:l}=(0,c.Bd)(),h={x:window.innerWidth/2-375,y:window.innerHeight/2-300},[u,f]=(0,a.useState)(h),[g,j]=(0,a.useState)(!1),[A,w]=(0,a.useState)({x:0,y:0}),[b,S]=(0,a.useState)(!1),[C,v]=(0,a.useState)(!1),[y,z]=(0,a.useState)(!1),[W,k]=(0,a.useState)(!1),[N,I]=(0,a.useState)(""),[L,R]=(0,a.useState)(""),[T,D]=(0,a.useState)(n||"");(0,a.useEffect)(()=>{if(t){let e=20;if(o){e=400+20}const t=window.innerHeight-(b?48:600),s=window.innerWidth-750-e;f({x:Math.max(20,s),y:t})}n&&D(n)},[t,o,n,b]);const[E,B]=(0,a.useState)(null),[O,q]=(0,a.useState)("1hour"),[U,F]=(0,a.useState)((new Date).toISOString().split("T")[0]),[re,de]=(0,a.useState)("16:30"),xe=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{g&&!C&&f({x:e.clientX-A.x,y:e.clientY-A.y})},t=()=>{j(!1)};return g&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[g,A,C]);const me=()=>{if(!T)return void alert(l("pages.contacts.emailWindow.messages.missingRecipient"));const e="mailto:".concat(T,"?subject=").concat(encodeURIComponent(N),"&body=").concat(encodeURIComponent(L));window.open(e,"_blank"),v(!1),S(!0),console.log("Sending email now"),alert(l("pages.contacts.emailWindow.messages.openedClient")),s()},he=()=>{B(null)};return t?(0,P.jsxs)(a.Fragment,{children:[t&&C&&(0,P.jsx)(i.A,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1100}}),(0,P.jsxs)(r.A,{ref:xe,sx:{position:"fixed",top:C?"50%":"auto",left:C?"50%":u.x,bottom:C?"auto":"20px",transform:C?"translate(-50%, -50%)":"none",width:C?"900px":"550px",maxWidth:C?"1200px":"550px",display:"flex",flexDirection:"column",boxShadow:b?1:3,zIndex:1200,visibility:t?"visible":"hidden",opacity:t?1:0,transition:"all 0.3s ease",overflow:"hidden",maxHeight:C?"600px":"450px",height:b?"48px":"auto",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",borderBottomLeftRadius:b?"0px":"8px",borderBottomRightRadius:b?"0px":"8px","@media (min-width: 1800px)":{width:C?"1100px":"550px",maxWidth:C?"1200px":"550px",maxHeight:C?"650px":"450px"},"@media (min-width: 1600px)":{width:C?"1000px":"550px",maxHeight:C?"600px":"450px"},"@media (max-width: 1400px)":{width:C?"800px":"550px"},"@media (max-width: 1200px)":{width:C?"700px":"500px"},"@media (max-width: 992px)":{width:C?"650px":"450px"}},children:[(0,P.jsxs)(i.A,{sx:{bgcolor:"#ff7a59",p:1,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",userSelect:"none",color:"white",borderTopLeftRadius:"8px",borderTopRightRadius:"8px","@media (min-width: 1600px)":{width:"100%"},"@media (max-width: 1200px)":{width:C?"calc(100% - 420px)":"600px"},"@media (max-width: 900px)":{width:"100%",right:"0",bottom:"0",borderRadius:0}},onMouseDown:e=>{if(!C&&xe.current&&e.target===e.currentTarget){j(!0);const t=xe.current.getBoundingClientRect();w({x:e.clientX-t.left,y:e.clientY-t.top})}},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(p.A,{size:"small",sx:{color:"white",mr:1},onClick:()=>S(!b),children:b?(0,P.jsx)(K.A,{fontSize:"small"}):(0,P.jsx)(Z.A,{fontSize:"small"})}),(0,P.jsx)(d.A,{variant:"subtitle1",fontWeight:"medium",children:l("pages.contacts.emailWindow.title")})]}),(0,P.jsxs)(i.A,{children:[(0,P.jsx)(p.A,{size:"small",sx:{color:"white"},onClick:()=>{const e=new URLSearchParams({to:T,subject:N,body:L}).toString();window.open("/email/compose?".concat(e),"_blank"),s()},children:(0,P.jsx)($.A,{fontSize:"small"})}),(0,P.jsx)(p.A,{size:"small",sx:{color:"white"},onClick:()=>{v(!C),S(!1)},children:C?(0,P.jsx)(ee.A,{fontSize:"small"}):(0,P.jsx)(te.A,{fontSize:"small"})}),(0,P.jsx)(p.A,{size:"small",sx:{color:"white"},onClick:s,children:(0,P.jsx)(_.A,{fontSize:"small"})})]})]}),!b&&(0,P.jsxs)(i.A,{sx:{p:0,flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,P.jsx)(i.A,{sx:{bgcolor:"#f5f5f5",borderBottom:"1px solid #ddd"},children:(0,P.jsxs)(i.A,{sx:{display:"flex",px:2,py:.5},children:[(0,P.jsx)(d.A,{sx:{mr:2,fontWeight:"bold",fontSize:"13px",color:"#ff7a59"},children:l("pages.contacts.emailWindow.tabs.templates")}),(0,P.jsxs)(d.A,{sx:{mr:2,fontSize:"13px",display:"flex",alignItems:"center"},children:[l("pages.contacts.emailWindow.tabs.sequences")," ",(0,P.jsx)(i.A,{component:"span",sx:{ml:.5,fontSize:"14px"},children:"\ud83d\udd12"})]}),(0,P.jsx)(d.A,{sx:{mr:2,fontSize:"13px"},children:l("pages.contacts.emailWindow.tabs.documents")}),(0,P.jsxs)(d.A,{sx:{mr:2,fontSize:"13px",display:"flex",alignItems:"center"},children:[l("pages.contacts.emailWindow.tabs.meetings")," ",(0,P.jsx)(K.A,{fontSize:"small"})]}),(0,P.jsxs)(d.A,{sx:{fontSize:"13px",display:"flex",alignItems:"center"},children:[l("pages.contacts.emailWindow.tabs.quotes")," ",(0,P.jsx)(K.A,{fontSize:"small"})]})]})}),(0,P.jsxs)(i.A,{sx:{p:1.5},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,P.jsx)(d.A,{sx:{width:30,fontSize:"13px",mr:2},children:l("pages.contacts.emailWindow.fields.to")}),(0,P.jsx)(m.A,{fullWidth:!0,value:T,onChange:e=>D(e.target.value),size:"small",variant:"standard",placeholder:l("pages.contacts.emailWindow.placeholders.to"),sx:{"& .MuiInputBase-input":{fontSize:"13px"}}})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,P.jsx)(d.A,{sx:{width:30,fontSize:"13px",mr:2},children:l("pages.contacts.emailWindow.fields.from")}),(0,P.jsx)(i.A,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:(0,P.jsxs)(d.A,{sx:{fontSize:"13px"},children:["T\xf4 Th\u1ebf M\u1eabn ",(0,P.jsx)(d.A,{component:"span",sx:{color:"text.secondary",fontSize:"13px"},children:"(totheman2@gmail.com)"})]})}),(0,P.jsx)(d.A,{sx:{fontSize:"13px",color:"#ff7a59",ml:2,cursor:"pointer"},children:l("pages.contacts.emailWindow.fields.cc")}),(0,P.jsx)(d.A,{sx:{fontSize:"13px",color:"#ff7a59",ml:2,cursor:"pointer"},children:l("pages.contacts.emailWindow.fields.bcc")})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,P.jsx)(d.A,{sx:{width:30,fontSize:"13px",mr:2},children:l("pages.contacts.emailWindow.fields.subject")}),(0,P.jsx)(m.A,{fullWidth:!0,size:"small",variant:"standard",placeholder:l("pages.contacts.emailWindow.placeholders.subject"),value:N,onChange:e=>I(e.target.value),sx:{"& .MuiInputBase-input":{fontSize:"13px"}}})]})]}),(0,P.jsx)(G.A,{}),(0,P.jsxs)(i.A,{sx:{p:1.5,flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto",maxHeight:C?"400px":"200px","@media (min-width: 1600px)":{maxHeight:C?"450px":"200px"}},children:[(0,P.jsx)(m.A,{multiline:!0,placeholder:l("pages.contacts.emailWindow.placeholders.body"),minRows:3,maxRows:C?15:8,fullWidth:!0,variant:"standard",value:L,onChange:e=>R(e.target.value),InputProps:{disableUnderline:!0,sx:{p:0}},sx:{flexGrow:1,"& .MuiInputBase-root":{height:"auto",alignItems:"flex-start",fontSize:"13px"},"& .MuiInputBase-input":{overflow:"auto",fontSize:"13px"}}}),(0,P.jsx)(G.A,{sx:{my:1}}),(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",borderTop:"1px solid #ddd",pt:.5,flexShrink:0},children:[(0,P.jsx)(p.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,s=e.selectionEnd,n=L.substring(t,s),a=L.substring(0,t)+"<b>".concat(n,"</b>")+L.substring(s);R(a)}else R(e=>"<b>".concat(e,"</b>"))},children:(0,P.jsx)(se.A,{fontSize:"small"})}),(0,P.jsx)(p.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,s=e.selectionEnd,n=L.substring(t,s),a=L.substring(0,t)+"<i>".concat(n,"</i>")+L.substring(s);R(a)}else R(e=>"<i>".concat(e,"</i>"))},children:(0,P.jsx)(ne.A,{fontSize:"small"})}),(0,P.jsx)(p.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,s=e.selectionEnd,n=L.substring(t,s),a=L.substring(0,t)+"<u>".concat(n,"</u>")+L.substring(s);R(a)}else R(e=>"<u>".concat(e,"</u>"))},children:(0,P.jsx)(ae.A,{fontSize:"small"})}),(0,P.jsx)(d.A,{sx:{fontSize:"12px",color:"#ff7a59",mx:1,cursor:"pointer"},children:l("pages.contacts.emailWindow.toolbar.more")}),(0,P.jsx)(p.A,{size:"small",onClick:()=>{alert("Attach file functionality would be implemented here")},children:(0,P.jsx)(ie.A,{fontSize:"small"})}),(0,P.jsx)(p.A,{size:"small",onClick:()=>{alert("Insert image functionality would be implemented here")},children:(0,P.jsx)(oe.A,{fontSize:"small"})}),(0,P.jsx)(d.A,{sx:{fontSize:"12px",color:"#ff7a59",mx:1,cursor:"pointer"},children:l("pages.contacts.emailWindow.toolbar.insert")}),(0,P.jsx)(p.A,{size:"small",onClick:()=>{const e=prompt(l("pages.contacts.emailWindow.prompts.enterUrl"));if(e){const t=document.querySelector("textarea");if(t){const s=t.selectionStart,n=t.selectionEnd,a=L.substring(s,n)||e,i=L.substring(0,s)+'<a href="'.concat(e,'">').concat(a,"</a>")+L.substring(n);R(i)}else R(t=>"".concat(t,' <a href="').concat(e,'">').concat(e,"</a>"))}},children:(0,P.jsx)(le.A,{fontSize:"small"})}),(0,P.jsx)(i.A,{sx:{flexGrow:1}}),(0,P.jsxs)(d.A,{sx:{fontSize:"12px",color:"#ff7a59",display:"flex",alignItems:"center",cursor:"pointer"},children:[l("pages.contacts.emailWindow.associated",{count:1})," ",(0,P.jsx)(K.A,{fontSize:"small"})]})]})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,borderTop:"1px solid #ddd"},children:[(0,P.jsxs)(Q.A,{variant:"contained",sx:{bgcolor:"#ff7a59","& .MuiButton-contained":{bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}}},children:[(0,P.jsx)(x.A,{onClick:W?e=>{B(e.currentTarget)}:me,sx:{borderTopRightRadius:0,borderBottomRightRadius:0,bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}},children:l(W?"pages.contacts.emailWindow.actions.sendLater":"pages.contacts.emailWindow.actions.send")}),(0,P.jsx)(x.A,{onClick:e=>{z(!0),B(e.currentTarget)},sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"},minWidth:"30px",width:"30px"},children:(0,P.jsx)(K.A,{})})]}),(0,P.jsxs)(V.Ay,{open:Boolean(E)&&y,anchorEl:E,onClose:()=>{z(!1),B(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:200,p:1}},children:[(0,P.jsx)(H.A,{onClick:me,sx:{py:1},children:l("pages.contacts.emailWindow.actions.sendNow")}),(0,P.jsx)(H.A,{onClick:()=>{k(!0),z(!1)},sx:{py:1},children:l("pages.contacts.emailWindow.actions.sendLater")})]}),(0,P.jsxs)(V.Ay,{open:Boolean(E)&&!y&&W,anchorEl:E,onClose:he,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:300,p:2}},children:[(0,P.jsx)(d.A,{variant:"subtitle1",fontWeight:"bold",sx:{mb:2},children:l("pages.contacts.emailWindow.sendLater.title")}),(0,P.jsx)(M.A,{component:"fieldset",children:(0,P.jsxs)(X.A,{value:O,onChange:e=>{q(e.target.value)},children:[(0,P.jsx)(Y.A,{value:"1hour",control:(0,P.jsx)(J.A,{}),label:l("pages.contacts.emailWindow.sendLater.options.in1hour")}),(0,P.jsx)(Y.A,{value:"2hours",control:(0,P.jsx)(J.A,{}),label:l("pages.contacts.emailWindow.sendLater.options.in2hours")}),(0,P.jsx)(Y.A,{value:"tomorrow_morning",control:(0,P.jsx)(J.A,{}),label:l("pages.contacts.emailWindow.sendLater.options.tomorrowMorning")}),(0,P.jsx)(Y.A,{value:"tomorrow_afternoon",control:(0,P.jsx)(J.A,{}),label:l("pages.contacts.emailWindow.sendLater.options.tomorrowAfternoon")}),(0,P.jsx)(Y.A,{value:"custom",control:(0,P.jsx)(J.A,{}),label:l("pages.contacts.emailWindow.sendLater.options.custom")})]})}),"custom"===O&&(0,P.jsxs)(i.A,{sx:{display:"flex",gap:2,mt:2,mb:2},children:[(0,P.jsx)(m.A,{type:"date",size:"small",value:U,onChange:e=>F(e.target.value),InputProps:{startAdornment:(0,P.jsx)(ce.A,{fontSize:"small",sx:{mr:1,color:"text.secondary"}})},sx:{flex:1}}),(0,P.jsx)(m.A,{type:"time",size:"small",value:re,onChange:e=>de(e.target.value),sx:{width:"120px"}})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,P.jsx)(x.A,{variant:"contained",onClick:()=>{let e="";switch(O){case"1hour":e="in 1 hour";break;case"2hours":e="in 2 hours";break;case"tomorrow_morning":e="tomorrow morning (8am)";break;case"tomorrow_afternoon":e="tomorrow afternoon (1pm)";break;case"custom":e="on ".concat(U," at ").concat(re)}console.log("Email scheduled to be sent ".concat("custom"===O?"on ".concat(U," at ").concat(re):"with option: ".concat(O))),v(!1),S(!0),he()},sx:{bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}},children:l("pages.contacts.emailWindow.sendLater.actions.schedule")}),(0,P.jsx)(x.A,{variant:"outlined",onClick:he,children:l("pages.contacts.emailWindow.sendLater.actions.cancel")})]})]})]})]})]})]}):null},de=e=>{let{open:t,onClose:s}=e;const{t:n}=(0,c.Bd)();return(0,P.jsxs)(o.A,{open:t,onClose:s,fullWidth:!0,maxWidth:"sm",children:[(0,P.jsx)(E.A,{children:(0,P.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[n("pages.contacts.note.title"),(0,P.jsx)(p.A,{onClick:s,size:"small",children:(0,P.jsx)(_.A,{})})]})}),(0,P.jsxs)(B.A,{children:[(0,P.jsx)(m.A,{autoFocus:!0,margin:"dense",id:"note",label:n("pages.contacts.note.fields.note"),multiline:!0,rows:4,fullWidth:!0,variant:"outlined"}),(0,P.jsxs)(x.A,{variant:"outlined",component:"label",sx:{mt:2},children:[n("pages.contacts.note.actions.attachFile"),(0,P.jsx)("input",{type:"file",hidden:!0})]})]}),(0,P.jsxs)(U.A,{children:[(0,P.jsx)(x.A,{onClick:s,children:n("pages.contacts.note.actions.cancel")}),(0,P.jsx)(x.A,{onClick:s,variant:"contained",color:"primary",children:n("pages.contacts.note.actions.save")})]})]})},xe=[{id:1,firstName:"Nguy\u1ec5n",lastName:"V\u0103n A",email:"nguyenvana@example.com",phone:"0901234567",owner:"Admin User",createDate:"2023-07-15",leadStatus:"New"},{id:2,firstName:"Tr\u1ea7n",lastName:"Th\u1ecb B",email:"tranthib@example.com",phone:"0912345678",owner:"Sales Rep",createDate:"2023-07-10",leadStatus:"Qualified"},{id:3,firstName:"L\xea",lastName:"V\u0103n C",email:"levanc@example.com",phone:"0923456789",owner:"Admin User",createDate:"2023-07-05",leadStatus:"Contacted"},{id:4,firstName:"Ph\u1ea1m",lastName:"Th\u1ecb D",email:"phamthid@example.com",phone:"0934567890",owner:"Sales Rep",createDate:"2023-06-30",leadStatus:"New"},{id:5,firstName:"Ho\xe0ng",lastName:"V\u0103n E",email:"hoangvane@example.com",phone:"0945678901",owner:"Admin User",createDate:"2023-06-25",leadStatus:"Qualified"}],me=()=>{const{t:e}=(0,c.Bd)(),[t,s]=(0,a.useState)(0),[r,d]=(0,a.useState)(10),[x,m]=(0,a.useState)(""),[h,p]=(0,a.useState)([]),[u,f]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),[A,w]=(0,a.useState)(null),[b,S]=(0,a.useState)(!1),[C,v]=(0,a.useState)(!1),[y,z]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"}),W=()=>{f(!1),z({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"})},k=()=>{j(!1)},N=xe.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(x.toLowerCase())||e.email.toLowerCase().includes(x.toLowerCase())||e.phone.includes(x));return(0,P.jsxs)(i.A,{sx:{p:3},children:[(0,P.jsx)(T,{contacts:xe,searchTerm:x,page:t,rowsPerPage:r,selectedContacts:h,onSearchChange:e=>{m(e.target.value),s(0)},onChangePage:(e,t)=>{s(t)},onChangeRowsPerPage:e=>{d(+e.target.value),s(0)},onSelectAllClick:e=>{if(e.target.checked){const e=N.map(e=>e.id);return void p(e)}p([])},onCheckboxClick:e=>{const t=h.indexOf(e);let s=[];-1===t?s=s.concat(h,e):0===t?s=s.concat(h.slice(1)):t===h.length-1?s=s.concat(h.slice(0,-1)):t>0&&(s=s.concat(h.slice(0,t),h.slice(t+1))),p(s)},onOpenCreateDialog:()=>{f(!0)},onOpenContactDrawer:e=>{w(e),j(!0)},getInitials:(e,t)=>"".concat(e.charAt(0)).concat(t.charAt(0)),isSelected:e=>-1!==h.indexOf(e)}),(0,P.jsx)(o.A,{open:u,onClose:W,fullWidth:!0,maxWidth:"sm",children:(0,P.jsx)(F,{newContact:y,onClose:W,onChange:e=>{const{name:t,value:s}=e.target;z((0,n.A)((0,n.A)({},y),{},{[t]:s}))},onLeadStatusChange:e=>{z((0,n.A)((0,n.A)({},y),{},{leadStatus:e.target.value}))},onSubmit:()=>{console.log("Creating contact:",y),W(),alert(e("pages.contacts.notifications.createSuccess"))}})}),(0,P.jsx)(l.Ay,{anchor:"right",open:g,onClose:(e,t)=>{if("backdropClick"===t){const e=document.querySelector(".email-window");if(e&&e.contains(document.activeElement))return}k()},ModalProps:{BackdropProps:{sx:{backgroundColor:"transparent"}}},sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:500},p:2}},children:A&&(0,P.jsx)(D.A,{contact:A,onClose:k,onOpenEmailWindow:()=>{v(!0)},onOpenNoteDialog:()=>{S(!0)}})}),(0,P.jsx)(de,{open:b,onClose:()=>{S(!1)}}),(0,P.jsx)(re,{open:C,onClose:()=>{v(!1)},recipientEmail:(null===A||void 0===A?void 0:A.email)||"",fromContactDetails:!0})]})}},10706:(e,t,s)=>{s.d(t,{A:()=>C});var n=s(65043),a=s(53969),i=s(55895),o=s(42579),l=s(26529),c=s(94527),r=s(91244),d=s(16128),x=s(83759),m=s(27421),h=s(61773),p=s(19817),u=s(94045),f=s(4573),g=s(23241),j=s(73069),A=s(69200),w=s(25272),b=s(74117),S=s(70579);const C=e=>{let{contact:t,onClose:s,onOpenEmailWindow:C,onOpenNoteDialog:v}=e;const[y,z]=(0,n.useState)(!1),[W,k]=(0,n.useState)(!1),{t:N}=(0,b.Bd)();return(0,S.jsxs)(a.A,{sx:{fontSize:"0.9rem"},children:[(0,S.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,children:[(0,S.jsx)(i.A,{variant:"h6",sx:{fontSize:"1.1rem"},children:N("pages.contacts.details.title")}),(0,S.jsx)(o.A,{onClick:s,size:"small",children:(0,S.jsx)(m.A,{fontSize:"small"})})]}),(0,S.jsxs)(a.A,{mb:2,children:[(0,S.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[(0,S.jsxs)(i.A,{variant:"h5",fontWeight:"bold",sx:{fontSize:"1.1rem"},children:[t.firstName," ",t.lastName]}),y&&(0,S.jsx)(o.A,{size:"small",sx:{ml:1},children:(0,S.jsx)(h.A,{fontSize:"small"})})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[(0,S.jsx)(i.A,{color:"text.secondary",sx:{mb:.5,fontSize:"0.85rem"},children:t.email}),W&&(0,S.jsx)(o.A,{size:"small",sx:{ml:1},onClick:()=>{navigator.clipboard.writeText(t.email),alert(N("pages.contacts.details.messages.emailCopied"))},children:(0,S.jsx)(p.A,{fontSize:"small"})})]}),(0,S.jsxs)(a.A,{display:"flex",gap:.5,mt:1.5,children:[(0,S.jsx)(l.A,{title:N("pages.contacts.details.actions.addNote"),children:(0,S.jsx)(o.A,{color:"primary",onClick:v,size:"small",children:(0,S.jsx)(u.A,{fontSize:"small"})})}),(0,S.jsx)(l.A,{title:N("pages.contacts.details.actions.sendEmail"),children:(0,S.jsx)(o.A,{color:"primary",onClick:C,size:"small",children:(0,S.jsx)(f.A,{fontSize:"small"})})}),(0,S.jsx)(l.A,{title:N("pages.contacts.details.actions.call"),children:(0,S.jsx)(o.A,{color:"primary",size:"small",children:(0,S.jsx)(g.A,{fontSize:"small"})})}),(0,S.jsx)(l.A,{title:N("pages.contacts.details.actions.schedule"),children:(0,S.jsx)(o.A,{color:"primary",size:"small",children:(0,S.jsx)(j.A,{fontSize:"small"})})}),(0,S.jsx)(l.A,{title:N("pages.contacts.details.actions.createTask"),children:(0,S.jsx)(o.A,{color:"primary",size:"small",children:(0,S.jsx)(A.A,{fontSize:"small"})})})]})]}),(0,S.jsx)(c.A,{sx:{my:1.5}}),(0,S.jsx)(r.A,{variant:"outlined",sx:{mb:1.5},children:(0,S.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,S.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:N("pages.contacts.details.sections.about")}),(0,S.jsx)(w.A,{fontSize:"small"})]}),(0,S.jsxs)(a.A,{mt:1.5,sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:[(0,S.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:N("pages.contacts.details.fields.phone")}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.phone})]}),(0,S.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:N("pages.contacts.details.fields.leadStatus")}),(0,S.jsx)(x.A,{label:t.leadStatus,color:"New"===t.leadStatus?"primary":"Qualified"===t.leadStatus?"success":"warning",size:"small",sx:{height:"20px","& .MuiChip-label":{fontSize:"0.75rem",px:1}}})]}),(0,S.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:N("pages.contacts.details.fields.owner")}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.owner})]}),(0,S.jsxs)(a.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:N("pages.contacts.details.fields.created")}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.createDate})]})]})]})}),(0,S.jsx)(r.A,{variant:"outlined",children:(0,S.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:N("pages.contacts.details.timeline.title")}),(0,S.jsx)(a.A,{mt:1.5,display:"flex",justifyContent:"center",alignItems:"center",height:80,children:(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:N("pages.contacts.details.timeline.empty")})})]})})]})}}}]);
//# sourceMappingURL=228.a20d90fe.chunk.js.map