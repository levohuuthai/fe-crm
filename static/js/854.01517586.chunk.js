"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[854],{72854:(e,t,n)=>{n.r(t),n.d(t,{default:()=>zt});var a=n(89379),i=n(65043),r=n(60267),s=n(53969),o=n(40405),l=n(29651),c=n(55895),d=n(10947),h=n(57287),x=n(94799),m=n(24343),p=n(33699),u=n(42579),g=n(80172),A=n(19181),b=n(78403),y=n(17873),j=n(83759),f=n(94527),v=n(84339),w=n(28259),C=n(87443),k=n(10756),S=n(86172),z=n(81341),D=n(34375),T=n(41859),W=n(73849),X=n(38517),I=n(78776),R=n(32911),M=n(60894),H=n(96128),L=n(90160),B=n(70923),E=n(22950),P=n(6013),K=n(4573),q=n(1422),N=n(8297),_=n(8888),O=n(27421),F=n(82058),V=n(17171),Y=n(70579);const Z=[{id:"1",name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",owner:"Tr\u1ea7n Th\u1ecb B",leadStatus:"Hot Lead",statusColor:"#f44336"},{id:"2",name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.com",phone:"0987654321",owner:"Ph\u1ea1m V\u0103n C",leadStatus:"Qualified",statusColor:"#4caf50"},{id:"3",name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.vn",phone:"0912345678",owner:"Nguy\u1ec5n Th\u1ecb D",leadStatus:"New Lead",statusColor:"#2196f3"}],Q=[{id:"1",name:"H\u1ec7 th\u1ed1ng CRM cho ABC Corp",customer:"ABC Corporation",amount:25e7,stage:"\u0110\xe3 g\u1eedi b\xe1o gi\xe1",stageColor:"#ff9800",deadline:"2024-02-15"},{id:"2",name:"Gi\u1ea3i ph\xe1p ERP XYZ",customer:"XYZ Trading",amount:18e7,stage:"\u0110ang \u0111\xe0m ph\xe1n",stageColor:"#9c27b0",deadline:"2024-02-28"},{id:"3",name:"T\u01b0 v\u1ea5n Marketing Digital",customer:"Innovation Startup",amount:75e6,stage:"Li\xean h\u1ec7 ban \u0111\u1ea7u",stageColor:"#607d8b",deadline:"2024-03-10"}],U=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab"),G=e=>{let{type:t,data:n,onAction:a}=e;const i=(0,r.A)();if("contacts"===t){const e=n;return(0,Y.jsx)(w.A,{component:x.A,sx:{maxHeight:200,border:"1px solid ".concat((0,l.X4)(i.palette.divider,.3))},children:(0,Y.jsxs)(C.A,{size:"small",stickyHeader:!0,children:[(0,Y.jsx)(k.A,{children:(0,Y.jsxs)(S.A,{children:[(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Name"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Contact"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Owner"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Status"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Action"})]})}),(0,Y.jsx)(D.A,{children:e.map(e=>(0,Y.jsxs)(S.A,{hover:!0,children:[(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"medium"},children:e.name}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.email}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.owner}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(j.A,{label:e.leadStatus,size:"small",sx:{backgroundColor:(0,l.X4)(e.statusColor,.1),color:e.statusColor,border:"1px solid ".concat((0,l.X4)(e.statusColor,.3)),fontSize:"0.65rem",height:20}})}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(M.A,{fontSize:"small"}),onClick:()=>a("open",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:"Open"})})]},e.id))})]})})}const o=n;return(0,Y.jsx)(w.A,{component:x.A,sx:{maxHeight:200,border:"1px solid ".concat((0,l.X4)(i.palette.divider,.3))},children:(0,Y.jsxs)(C.A,{size:"small",stickyHeader:!0,children:[(0,Y.jsx)(k.A,{children:(0,Y.jsxs)(S.A,{children:[(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Deal"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Customer"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Value"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Stage"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Deadline"}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:"Action"})]})}),(0,Y.jsx)(D.A,{children:o.map(e=>(0,Y.jsxs)(S.A,{hover:!0,children:[(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"medium"},children:e.name}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.customer}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"bold",color:"success.main"},children:U(e.amount)}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(j.A,{label:e.stage,size:"small",sx:{backgroundColor:(0,l.X4)(e.stageColor,.1),color:e.stageColor,border:"1px solid ".concat((0,l.X4)(e.stageColor,.3)),fontSize:"0.65rem",height:20}})}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.deadline}),(0,Y.jsx)(z.A,{children:(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:.5},children:[(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(M.A,{fontSize:"small"}),onClick:()=>a("open",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:"Open"}),(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(H.A,{fontSize:"small"}),onClick:()=>a("task",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:"Task"})]})})]},e.id))})]})})},J=e=>{let{data:t,loading:n,onToggleSection:a,onAction:i}=e;const o=(0,r.A)();return n?(0,Y.jsxs)(x.A,{sx:{p:3,mb:2,borderRadius:3,border:"1px solid ".concat((0,l.X4)(o.palette.primary.main,.2))},children:[(0,Y.jsx)(W.A,{variant:"text",width:"60%",height:32,sx:{mb:2}}),(0,Y.jsx)(s.A,{sx:{mb:2},children:[1,2,3].map(e=>(0,Y.jsx)(W.A,{variant:"text",width:"80%",height:24,sx:{mb:.5}},e))}),(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:120,sx:{mb:2,borderRadius:1}}),(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:120,sx:{borderRadius:1}})]}):(0,Y.jsxs)(x.A,{sx:{p:3,mb:2,borderRadius:3,border:"1px solid ".concat((0,l.X4)(o.palette.primary.main,.2)),backgroundColor:(0,l.X4)(o.palette.primary.main,.02)},children:[(0,Y.jsxs)(c.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,color:"primary.main"},children:['K\u1ebft qu\u1ea3 cho: "',t.query,'"']}),(0,Y.jsx)(s.A,{sx:{mb:3},children:t.summary.map((e,t)=>(0,Y.jsxs)(c.A,{variant:"body2",sx:{mb:.5,display:"flex",alignItems:"center"},children:[(0,Y.jsx)(s.A,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:"primary.main",mr:1}}),e]},t))}),(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:1,mb:3},children:[(0,Y.jsx)(j.A,{icon:(0,Y.jsx)(L.A,{fontSize:"small"}),label:"Contacts",variant:t.showContacts?"filled":"outlined",color:t.showContacts?"primary":"default",onClick:()=>a("contacts"),sx:{cursor:"pointer"}}),(0,Y.jsx)(j.A,{icon:(0,Y.jsx)(B.A,{fontSize:"small"}),label:"Deals",variant:t.showDeals?"filled":"outlined",color:t.showDeals?"primary":"default",onClick:()=>a("deals"),sx:{cursor:"pointer"}})]}),t.showContacts&&(0,Y.jsxs)(s.A,{sx:{mb:3},children:[(0,Y.jsx)(c.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:"Top Contacts"}),(0,Y.jsx)(G,{type:"contacts",data:t.contacts,onAction:i})]}),t.showDeals&&(0,Y.jsxs)(s.A,{sx:{mb:3},children:[(0,Y.jsx)(c.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:"Open Deals"}),(0,Y.jsx)(G,{type:"deals",data:t.deals,onAction:i})]}),(0,Y.jsxs)(s.A,{children:[(0,Y.jsx)(c.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:"G\u1ee3i \xfd ti\u1ebfp theo"}),(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(E.A,{fontSize:"small"}),variant:"outlined",onClick:()=>i("create-contact"),children:"T\u1ea1o li\xean h\u1ec7"}),(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(P.A,{fontSize:"small"}),variant:"outlined",onClick:()=>i("create-deal"),children:"T\u1ea1o c\u01a1 h\u1ed9i"}),(0,Y.jsx)(T.A,{size:"small",startIcon:(0,Y.jsx)(K.A,{fontSize:"small"}),variant:"outlined",onClick:()=>i("send-email"),children:"G\u1eedi email nh\xe1p"})]})]})]})},$=e=>{let{message:t,onToggleSection:n,onAction:a}=e;(0,r.A)();const i="user"===t.type;return(0,Y.jsx)(s.A,{sx:{display:"flex",justifyContent:i?"flex-end":"flex-start",mb:2},children:(0,Y.jsx)(s.A,{sx:{maxWidth:"80%",width:t.isCard?"100%":"auto"},children:t.isCard&&t.cardData?(0,Y.jsx)(J,{data:t.cardData,onToggleSection:n,onAction:a}):(0,Y.jsx)(x.A,{sx:{p:2,backgroundColor:i?"primary.main":"grey.100",color:i?"primary.contrastText":"text.primary",borderRadius:i?"18px 18px 4px 18px":"18px 18px 18px 4px",maxWidth:"fit-content"},children:(0,Y.jsx)(c.A,{variant:"body2",children:t.content})})})})},ee=e=>{let{open:t,initialQuery:n="",onClose:o,onMinimize:d}=e;const h=(0,r.A)(),[g,A]=(0,i.useState)([]),[b,y]=(0,i.useState)(""),[j,f]=(0,i.useState)(!1),[v,w]=(0,i.useState)(""),[C,k]=(0,i.useState)(null),[S,z]=(0,i.useState)({open:!1,message:""}),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{t&&n&&0===g.length&&(w(n.split(" ").slice(0,6).join(" ")),T(n,!0))},[t,n]),(0,i.useEffect)(()=>{var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[g]);const T=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.trim())return;const n={id:Date.now().toString(),type:"user",content:e,timestamp:new Date};A(e=>[...e,n]),y(""),f(!0),setTimeout(()=>{if(f(!1),t){const t={query:e,summary:["T\xecm th\u1ea5y ".concat(Z.length," li\xean h\u1ec7 ph\xf9 h\u1ee3p v\u1edbi truy v\u1ea5n"),"".concat(Q.length," c\u01a1 h\u1ed9i m\u1edf v\u1edbi t\u1ed5ng gi\xe1 tr\u1ecb ~").concat(U(Q.reduce((e,t)=>e+t.amount,0))),'Nhi\u1ec1u deal \u0111ang \u1edf giai \u0111o\u1ea1n "\u0110\xe3 g\u1eedi b\xe1o gi\xe1" c\u1ea7n theo d\xf5i',"T\u1ef7 l\u1ec7 chuy\u1ec3n \u0111\u1ed5i lead hi\u1ec7n t\u1ea1i: 65%"],contacts:Z,deals:Q,showContacts:!0,showDeals:!0},n={id:(Date.now()+1).toString(),type:"assistant",content:"",timestamp:new Date,isCard:!0,cardData:t};k(t),A(e=>[...e,n])}else{const e=["T\xf4i \u0111\xe3 ph\xe2n t\xedch d\u1eef li\u1ec7u v\xe0 t\xecm th\u1ea5y m\u1ed9t s\u1ed1 th\xf4ng tin h\u1eefu \xedch. B\u1ea1n c\xf3 mu\u1ed1n t\xf4i t\u1ea1o b\xe1o c\xe1o chi ti\u1ebft kh\xf4ng?",'D\u1ef1a tr\xean d\u1eef li\u1ec7u hi\u1ec7n t\u1ea1i, t\xf4i khuy\xean b\u1ea1n n\xean t\u1eadp trung v\xe0o c\xe1c lead \u0111ang \u1edf giai \u0111o\u1ea1n "\u0110\xe3 g\u1eedi b\xe1o gi\xe1".',"C\xf3 v\u1ebb nh\u01b0 b\u1ea1n c\xf3 nhi\u1ec1u c\u01a1 h\u1ed9i ti\u1ec1m n\u0103ng. T\xf4i c\xf3 th\u1ec3 gi\xfap b\u1ea1n \u01b0u ti\xean theo gi\xe1 tr\u1ecb deal.","T\xf4i nh\u1eadn th\u1ea5y m\u1ed9t s\u1ed1 xu h\u01b0\u1edbng th\xfa v\u1ecb trong d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n. B\u1ea1n mu\u1ed1n xem ph\xe2n t\xedch chi ti\u1ebft kh\xf4ng?"],t={id:(Date.now()+1).toString(),type:"assistant",content:e[Math.floor(Math.random()*e.length)],timestamp:new Date};A(e=>[...e,t])}},1500)},W=e=>{if(!C)return;const t=(0,a.A)((0,a.A)({},C),{},{["contacts"===e?"showContacts":"showDeals"]:!C["contacts"===e?"showContacts":"showDeals"]});k(t),A(e=>e.map(e=>e.isCard?(0,a.A)((0,a.A)({},e),{},{cardData:t}):e))},M=(e,t)=>{z({open:!0,message:{open:"(mock) \u0110\xe3 m\u1edf chi ti\u1ebft",task:"(mock) \u0110\xe3 t\u1ea1o task","create-contact":"(mock) \u0110\xe3 t\u1ea1o li\xean h\u1ec7 m\u1edbi","create-deal":"(mock) \u0110\xe3 t\u1ea1o c\u01a1 h\u1ed9i m\u1edbi","send-email":"(mock) \u0110\xe3 g\u1eedi email nh\xe1p"}[e]||"(mock) \u0110\xe3 th\u1ef1c hi\u1ec7n"})};return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(X.A,{open:t,onClose:o,maxWidth:!1,PaperProps:{sx:{width:"960px",height:"75vh",maxWidth:"90vw",maxHeight:"90vh",borderRadius:3,overflow:"hidden"}},BackdropProps:{sx:{backgroundColor:(0,l.X4)(h.palette.common.black,.5),backdropFilter:"blur(4px)"}},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottom:"1px solid ".concat(h.palette.divider),backgroundColor:h.palette.background.paper,position:"sticky",top:0,zIndex:1},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(q.A,{color:"primary"}),(0,Y.jsxs)(s.A,{children:[(0,Y.jsx)(c.A,{variant:"h6",sx:{fontWeight:"bold",lineHeight:1},children:"CRM Assistant"}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",children:v||"Start new chat"})]})]}),(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:.5},children:[(0,Y.jsx)(u.A,{size:"small",onClick:d,children:(0,Y.jsx)(N.A,{fontSize:"small"})}),(0,Y.jsx)(u.A,{size:"small",children:(0,Y.jsx)(_.A,{fontSize:"small"})}),(0,Y.jsx)(u.A,{size:"small",onClick:o,children:(0,Y.jsx)(O.A,{fontSize:"small"})})]})]}),(0,Y.jsxs)(I.A,{sx:{flex:1,p:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsx)(s.A,{sx:{flex:1,overflow:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:(0,l.X4)(h.palette.grey[300],.2)},"&::-webkit-scrollbar-thumb":{backgroundColor:(0,l.X4)(h.palette.primary.main,.3),borderRadius:"3px","&:hover":{backgroundColor:(0,l.X4)(h.palette.primary.main,.5)}}},children:0===g.length?(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",color:"text.secondary"},children:[(0,Y.jsx)(q.A,{sx:{fontSize:48,mb:2,opacity:.5}}),(0,Y.jsx)(c.A,{variant:"body1",children:"Ch\u01b0a c\xf3 c\xe2u h\u1ecfi. H\xe3y nh\u1eadp g\xec \u0111\xf3..."})]}):(0,Y.jsxs)(Y.Fragment,{children:[g.map(e=>(0,Y.jsx)($,{message:e,onToggleSection:W,onAction:M},e.id)),j&&(0,Y.jsx)(s.A,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,Y.jsx)(x.A,{sx:{p:2,backgroundColor:"grey.100",borderRadius:"18px 18px 18px 4px",maxWidth:"fit-content"},children:(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"\u0110ang g\xf5..."})})}),(0,Y.jsx)("div",{ref:D})]})}),(0,Y.jsxs)(s.A,{sx:{p:2,borderTop:"1px solid ".concat(h.palette.divider),backgroundColor:h.palette.background.paper,position:"sticky",bottom:0},children:[(0,Y.jsx)(m.A,{fullWidth:!0,multiline:!0,maxRows:3,placeholder:"Nh\u1eadp c\xe2u h\u1ecfi...",value:b,onChange:e=>y(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),T(b))},InputProps:{endAdornment:(0,Y.jsxs)(p.A,{position:"end",children:[(0,Y.jsx)(u.A,{size:"small",sx:{mr:.5},children:(0,Y.jsx)(F.A,{fontSize:"small"})}),(0,Y.jsx)(u.A,{size:"small",color:"primary",onClick:()=>T(b),disabled:!b.trim(),children:(0,Y.jsx)(V.A,{fontSize:"small"})})]}),sx:{borderRadius:3,"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(h.palette.primary.main,.3)}}}}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:"C\xe2u tr\u1ea3 l\u1eddi ch\u1ec9 l\xe0 m\xf4 ph\u1ecfng cho mockup."})]})]})]}),(0,Y.jsx)(R.A,{open:S.open,autoHideDuration:3e3,onClose:()=>z((0,a.A)((0,a.A)({},S),{},{open:!1})),message:S.message,anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})};var te=n(73216),ne=n(63745),ae=n(95007),ie=n(76678),re=n(60450),se=n(58315),oe=n(49982),le=n(18844),ce=n(26529),de=n(69200),he=n(53974),xe=n(82518),me=n(27601),pe=n(92248),ue=n(85662),ge=n(8104),Ae=n(69302);const be=()=>{const e=(0,r.A)(),[t,n]=(0,i.useState)([]),[d,h]=(0,i.useState)([]),[m,p]=(0,i.useState)(!0),[g,A]=(0,i.useState)(new Date),[b,y]=(0,i.useState)(0),[f,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{w(),C();const e=setInterval(()=>{k(),S()},3e4);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{if(0===t.length||f)return;const e=setInterval(()=>{y(e=>(e+1)%t.length)},5e3);return()=>clearInterval(e)},[t.length,f]);const w=async()=>{p(!0),await new Promise(e=>setTimeout(e,1e3));const t=new Date,a=[{id:"new_customers",title:"Kh\xe1ch h\xe0ng m\u1edbi",value:Math.floor(20*Math.random())+15,change:30*Math.random()-10,changeLabel:"so v\u1edbi tu\u1ea7n tr\u01b0\u1edbc",icon:(0,Y.jsx)(oe.A,{}),color:e.palette.primary.main,description:"Kh\xe1ch h\xe0ng m\u1edbi \u0111\u0103ng k\xfd trong tu\u1ea7n",lastUpdated:t},{id:"total_deals",title:"T\u1ed5ng Deal",value:Math.floor(50*Math.random())+120,change:25*Math.random()-5,changeLabel:"so v\u1edbi th\xe1ng tr\u01b0\u1edbc",icon:(0,Y.jsx)(de.A,{}),color:e.palette.success.main,description:"T\u1ed5ng s\u1ed1 deal \u0111ang theo d\xf5i",lastUpdated:t},{id:"revenue",title:"Doanh thu th\u1ef1c t\u1ebf",value:"".concat((500*Math.random()+1500).toFixed(0),"K"),change:40*Math.random()-10,changeLabel:"so v\u1edbi th\xe1ng tr\u01b0\u1edbc",icon:(0,Y.jsx)(he.A,{}),color:e.palette.warning.main,description:"Doanh thu \u0111\xe3 th\u1ef1c hi\u1ec7n trong th\xe1ng",lastUpdated:t},{id:"deal_pipeline",title:"Deal theo giai \u0111o\u1ea1n",value:"".concat(Math.floor(10*Math.random())+25),change:20*Math.random()-5,changeLabel:"deal \u0111ang closing",icon:(0,Y.jsx)(xe.A,{}),color:e.palette.info.main,description:"Deal \u0111ang \u1edf giai \u0111o\u1ea1n cu\u1ed1i",lastUpdated:t},{id:"top_performer",title:"Nh\xe2n vi\xean top deal",value:"Nguy\u1ec5n V\u0103n A",change:8,changeLabel:"deal trong th\xe1ng",icon:(0,Y.jsx)(me.A,{}),color:e.palette.secondary.main,description:"Nh\xe2n vi\xean c\xf3 hi\u1ec7u su\u1ea5t cao nh\u1ea5t",lastUpdated:t}];n(a),p(!1)},C=async()=>{const e=[{id:"update_1",title:"Deal m\u1edbi \u0111\u01b0\u1ee3c t\u1ea1o",description:"H\u1ec7 th\u1ed1ng ERP cho C\xf4ng ty ABC - Gi\xe1 tr\u1ecb: 250K",timestamp:new Date(Date.now()-3e5),type:"deal_closed",value:"250K",isNew:!0},{id:"update_2",title:"Kh\xe1ch h\xe0ng m\u1edbi \u0111\u0103ng k\xfd",description:"XYZ Corporation \u0111\xe3 \u0111\u0103ng k\xfd d\u1ecbch v\u1ee5",timestamp:new Date(Date.now()-9e5),type:"new_customer",isNew:!0},{id:"update_3",title:"Xu h\u01b0\u1edbng th\u1ecb tr\u01b0\u1eddng",description:"AI/ML solutions t\u0103ng tr\u01b0\u1edfng 35% trong qu\xfd",timestamp:new Date(Date.now()-18e5),type:"market_trend"}];h(e)},k=async()=>{n(e=>e.map(e=>(0,a.A)((0,a.A)({},e),{},{value:"new_customers"===e.id?Math.floor(20*Math.random())+15:"total_deals"===e.id?Math.floor(50*Math.random())+120:"revenue"===e.id?"".concat((500*Math.random()+1500).toFixed(0),"K"):e.value,change:30*Math.random()-10,lastUpdated:new Date}))),A(new Date)},S=()=>{const e=[{title:"Deal \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt",description:"Deal CRM System chuy\u1ec3n sang giai \u0111o\u1ea1n Negotiation",type:"deal_closed"},{title:"Kh\xe1ch h\xe0ng m\u1edbi",description:"Tech Startup DEF \u0111\xe3 quan t\xe2m \u0111\u1ebfn d\u1ecbch v\u1ee5",type:"new_customer"},{title:"C\u1ed9t m\u1ed1c doanh thu",description:"\u0110\u1ea1t 2M doanh thu trong th\xe1ng n\xe0y",type:"revenue_milestone",value:"2M"}],t=e[Math.floor(Math.random()*e.length)],n={id:"update_".concat(Date.now()),title:t.title,description:t.description,timestamp:new Date,type:t.type,value:t.value,isNew:!0};h(e=>[n,...e.slice(0,9)]),setTimeout(()=>{h(e=>e.map(e=>e.id===n.id?(0,a.A)((0,a.A)({},e),{},{isNew:!1}):e))},1e4)},z=t=>t>0?e.palette.success.main:t<0?e.palette.error.main:e.palette.text.secondary,D=e=>{const t=(new Date).getTime()-e.getTime(),n=Math.floor(t/6e4),a=Math.floor(t/36e5);return n<1?"v\u1eeba xong":n<60?"".concat(n," ph\xfat tr\u01b0\u1edbc"):a<24?"".concat(a," gi\u1edd tr\u01b0\u1edbc"):e.toLocaleDateString("vi-VN")};return(0,Y.jsxs)(s.A,{sx:{mb:4},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,Y.jsxs)(s.A,{children:[(0,Y.jsx)(c.A,{variant:"h5",sx:{fontWeight:"bold",color:"text.primary"},children:"TH\xc1NG N\xc0Y TR\xcaN CRM"}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[(0,Y.jsx)(j.A,{label:"".concat(d.length," c\u1eadp nh\u1eadt m\u1edbi"),size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.primary.main,.1),color:e.palette.primary.main,fontWeight:"bold"}}),(0,Y.jsxs)(c.A,{variant:"caption",color:"text.secondary",children:["C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",D(g)]})]})]}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(ce.A,{title:f?"Hi\u1ec3n th\u1ecb lu\xe2n phi\xean":"Hi\u1ec3n th\u1ecb t\u1ea5t c\u1ea3",children:(0,Y.jsx)(u.A,{size:"small",onClick:()=>v(!f),children:f?(0,Y.jsx)(ue.A,{}):(0,Y.jsx)(ge.A,{})})}),(0,Y.jsx)(ce.A,{title:"L\xe0m m\u1edbi d\u1eef li\u1ec7u",children:(0,Y.jsx)(u.A,{onClick:async()=>{await k(),S()},color:"primary",children:(0,Y.jsx)(Ae.A,{})})})]})]}),(0,Y.jsx)(s.A,{sx:{position:"relative",minHeight:180,mb:4},children:(0,Y.jsx)(s.A,{sx:{display:f?"grid":"block",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(5, 1fr)"},gap:3,position:"relative",minHeight:150},children:t.map((e,t)=>{return(0,Y.jsx)(o.A,{in:f||b===t,timeout:{enter:500,exit:300},style:{display:f||b===t?"block":"none",transitionDelay:f?"".concat(100*t,"ms"):"0ms"},children:(0,Y.jsxs)(x.A,{elevation:2,sx:{p:2.5,height:"100%",borderRadius:2,background:"linear-gradient(135deg, ".concat((0,l.X4)(e.color,.05)," 0%, ").concat((0,l.X4)(e.color,.02)," 100%)"),border:"1px solid ".concat((0,l.X4)(e.color,.1)),transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",position:f?"relative":"absolute",top:0,left:0,width:f?"auto":"100%",zIndex:f||b!==t?1:2,"&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px ".concat((0,l.X4)(e.color,.15))}},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,Y.jsx)(s.A,{sx:{display:"flex",alignItems:"center",p:1,borderRadius:1,backgroundColor:(0,l.X4)(e.color,.1)},children:(0,Y.jsx)(s.A,{sx:{color:e.color},children:e.icon})}),(0,Y.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:e.color},children:e.title})]}),m?(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:40}):(0,Y.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",mb:1,color:"text.primary"},children:e.value}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(n=e.change,n>0?(0,Y.jsx)(P.A,{sx:{fontSize:16}}):n<0?(0,Y.jsx)(pe.A,{sx:{fontSize:16}}):null),(0,Y.jsxs)(c.A,{variant:"caption",sx:{color:z(e.change),fontWeight:"medium"},children:[e.change>0?"+":"",e.change.toFixed(1),"%"]}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e.changeLabel})]}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:e.description})]})},e.id);var n})})}),(0,Y.jsxs)(x.A,{elevation:1,sx:{borderRadius:2,overflow:"hidden",border:"1px solid ".concat(e.palette.divider)},children:[(0,Y.jsxs)(s.A,{sx:{p:2,backgroundColor:(0,l.X4)(e.palette.primary.main,.05),borderBottom:"1px solid ".concat(e.palette.divider)},children:[(0,Y.jsx)(c.A,{variant:"h6",sx:{fontWeight:"bold"},children:"\ud83d\udd25 Ho\u1ea1t \u0111\u1ed9ng g\u1ea7n \u0111\xe2y"}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",children:"C\u1eadp nh\u1eadt theo th\u1eddi gian th\u1ef1c t\u1eeb h\u1ec7 th\u1ed1ng"})]}),(0,Y.jsx)(s.A,{sx:{maxHeight:300,overflow:"auto"},children:d.map((t,n)=>(0,Y.jsx)(s.A,{sx:{p:2,borderBottom:n<d.length-1?"1px solid ".concat(e.palette.divider):"none",backgroundColor:t.isNew?(0,l.X4)(e.palette.success.main,.05):"transparent",transition:"all 0.3s ease","&:hover":{backgroundColor:(0,l.X4)(e.palette.action.hover,.5)}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Y.jsxs)(s.A,{sx:{flex:1},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[(0,Y.jsx)(c.A,{variant:"subtitle2",sx:{fontWeight:"bold"},children:t.title}),t.isNew&&(0,Y.jsx)(j.A,{label:"M\u1edaI",size:"small",sx:{height:18,fontSize:"0.7rem",backgroundColor:e.palette.success.main,color:"white"}}),t.value&&(0,Y.jsx)(j.A,{label:t.value,size:"small",variant:"outlined",sx:{height:18,fontSize:"0.7rem"}})]}),(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",children:t.description})]}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",sx:{ml:2},children:D(t.timestamp)})]})},t.id))})]})]})};var ye=n(80045),je=n(14333),fe=n(12843),ve=n(91244),we=n(16128),Ce=n(26020),ke=n(95315),Se=n(57401),ze=n(24244),De=n(66185),Te=n(19934),We=n(9700),Xe=n(80650),Ie=n(50311),Re=n(26635);const Me=["children","value","index"];function He(e){const{children:t,value:n,index:i}=e,r=(0,ye.A)(e,Me);return(0,Y.jsx)("div",(0,a.A)((0,a.A)({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),{},{children:n===i&&(0,Y.jsx)(s.A,{sx:{pt:3},children:t})}))}const Le=()=>{const e=(0,r.A)(),[t,n]=(0,i.useState)(0),[o,d]=(0,i.useState)([]),[h,m]=(0,i.useState)([]),[p,g]=(0,i.useState)([]),[A,b]=(0,i.useState)(!0);(0,i.useEffect)(()=>{v();const e=setInterval(v,12e4);return()=>clearInterval(e)},[]);const v=async()=>{b(!0);try{const e={id:"trending_".concat(Date.now()),type:"market_analysis",data:{type:"trending"},timestamp:new Date},t=await Re.Z.processRequest(e);d(w(t.result));const n={id:"insights_".concat(Date.now()),type:"market_analysis",data:{type:"insights"},timestamp:new Date},a=await Re.Z.processRequest(n);m(C(a.result));const i={id:"predictions_".concat(Date.now()),type:"deal_prediction",data:{type:"predictions"},timestamp:new Date},r=await Re.Z.processRequest(i);g(k(r.result))}catch(e){console.error("Error loading data:",e)}finally{b(!1)}},w=t=>{const n=(null===t||void 0===t?void 0:t.trends)||[],i=[{id:"cloud-computing",title:"Cloud Computing",description:"Doanh nghi\u1ec7p SME \u0111ang chuy\u1ec3n \u0111\u1ed5i sang cloud v\u1edbi t\u1ed1c \u0111\u1ed9 k\u1ef7 l\u1ee5c",growth:"+25%",confidence:.92,category:"technology",icon:(0,Y.jsx)(Te.A,{}),color:e.palette.primary.main},{id:"ai-solutions",title:"AI/ML Solutions",description:"Nhu c\u1ea7u v\u1ec1 gi\u1ea3i ph\xe1p AI t\u0103ng v\u01b0\u1ee3t b\u1eadc trong c\xe1c doanh nghi\u1ec7p",growth:"+35%",confidence:.88,category:"technology",icon:(0,Y.jsx)(We.A,{}),color:e.palette.secondary.main},{id:"cybersecurity",title:"Cybersecurity",description:"An ninh m\u1ea1ng tr\u1edf th\xe0nh \u01b0u ti\xean h\xe0ng \u0111\u1ea7u sau c\xe1c v\u1ee5 t\u1ea5n c\xf4ng",growth:"+18%",confidence:.85,category:"technology",icon:(0,Y.jsx)(B.A,{}),color:e.palette.warning.main},{id:"digital-transformation",title:"Digital Transformation",description:"Chuy\u1ec3n \u0111\u1ed5i s\u1ed1 \u0111\u01b0\u1ee3c \u0111\u1ea9y m\u1ea1nh trong m\u1ecdi ng\xe0nh ngh\u1ec1",growth:"+22%",confidence:.9,category:"industry",icon:(0,Y.jsx)(P.A,{}),color:e.palette.success.main}];return n.length>0?n.map((e,t)=>(0,a.A)((0,a.A)({},i[t%i.length]),{},{title:e.name||i[t%i.length].title,growth:e.growth||i[t%i.length].growth,confidence:e.confidence||i[t%i.length].confidence})):i},C=e=>{const t=(null===e||void 0===e?void 0:e.insights)||[],n=[{id:"market-growth",title:"Th\u1ecb tr\u01b0\u1eddng c\xf4ng ngh\u1ec7 Q4 t\u0103ng tr\u01b0\u1edfng m\u1ea1nh",description:"Doanh thu t\u1eeb c\xe1c d\u1ef1 \xe1n c\xf4ng ngh\u1ec7 t\u0103ng 28% so v\u1edbi Q3, ch\u1ee7 y\u1ebfu t\u1eeb segment AI v\xe0 Cloud",impact:"high",actionable:!0,source:"Market Analysis AI",timestamp:new Date},{id:"customer-behavior",title:"H\xe0nh vi kh\xe1ch h\xe0ng thay \u0111\u1ed5i",description:"Kh\xe1ch h\xe0ng SME c\xf3 xu h\u01b0\u1edbng \u0111\u1ea7u t\u01b0 v\xe0o gi\u1ea3i ph\xe1p t\xedch h\u1ee3p thay v\xec t\u1eebng s\u1ea3n ph\u1ea9m ri\xeang l\u1ebb",impact:"medium",actionable:!0,source:"Customer Analytics",timestamp:new Date(Date.now()-18e5)},{id:"competitive-landscape",title:"C\u1ea3nh quan c\u1ea1nh tranh thay \u0111\u1ed5i",description:"C\xe1c \u0111\u1ed1i th\u1ee7 \u0111ang t\u1eadp trung v\xe0o pricing strategy, c\u1ea7n \u0111i\u1ec1u ch\u1ec9nh chi\u1ebfn l\u01b0\u1ee3c gi\xe1",impact:"high",actionable:!0,source:"Competitive Intelligence",timestamp:new Date(Date.now()-36e5)},{id:"technology-adoption",title:"T\u1ed1c \u0111\u1ed9 \xe1p d\u1ee5ng c\xf4ng ngh\u1ec7 t\u0103ng",description:"Th\u1eddi gian t\u1eeb demo \u0111\u1ebfn quy\u1ebft \u0111\u1ecbnh mua gi\u1ea3m 40%, kh\xe1ch h\xe0ng quy\u1ebft \u0111\u1ecbnh nhanh h\u01a1n",impact:"medium",actionable:!1,source:"Sales Analytics",timestamp:new Date(Date.now()-54e5)}];return t.length>0?t.map((e,t)=>(0,a.A)((0,a.A)({},n[t%n.length]),{},{description:e})):n},k=e=>{const t=(null===e||void 0===e?void 0:e.topDeals)||[],n=[{id:"deal-abc-corp",title:"Deal ABC Corp - ERP System",description:"D\u1ef1 \xe1n tri\u1ec3n khai h\u1ec7 th\u1ed1ng ERP cho ABC Corp c\xf3 x\xe1c su\u1ea5t th\xe0nh c\xf4ng cao",probability:.85,timeframe:"2 tu\u1ea7n",value:"250K",type:"deal",riskLevel:"low"},{id:"market-ai-growth",title:"Th\u1ecb tr\u01b0\u1eddng AI s\u1ebd b\xf9ng n\u1ed5",description:"D\u1ef1 \u0111o\xe1n th\u1ecb tr\u01b0\u1eddng AI/ML s\u1ebd t\u0103ng tr\u01b0\u1edfng 40% trong 6 th\xe1ng t\u1edbi",probability:.78,timeframe:"6 th\xe1ng",type:"market",riskLevel:"medium"},{id:"customer-xyz-expansion",title:"Kh\xe1ch h\xe0ng XYZ m\u1edf r\u1ed9ng",description:"XYZ Ltd c\xf3 kh\u1ea3 n\u0103ng cao s\u1ebd mua th\xeam module CRM trong Q1 n\u0103m sau",probability:.72,timeframe:"3 th\xe1ng",value:"180K",type:"customer",riskLevel:"low"},{id:"revenue-milestone",title:"\u0110\u1ea1t m\u1ed1c doanh thu 3M",description:"D\u1ef1 \u0111o\xe1n s\u1ebd \u0111\u1ea1t m\u1ed1c doanh thu 3M trong Q1 n\u0103m sau d\u1ef1a tr\xean pipeline hi\u1ec7n t\u1ea1i",probability:.68,timeframe:"4 th\xe1ng",value:"3M",type:"revenue",riskLevel:"medium"}];return t.length>0?t.map((e,t)=>(0,a.A)((0,a.A)({},n[t%n.length]),{},{title:e.name||n[t%n.length].title,probability:e.probability||n[t%n.length].probability,value:e.value?"".concat(e.value):n[t%n.length].value})):n},S=t=>{switch(t){case"high":return e.palette.error.main;case"medium":return e.palette.warning.main;case"low":return e.palette.success.main;default:return e.palette.text.secondary}},z=t=>{switch(t){case"high":return e.palette.error.main;case"medium":return e.palette.warning.main;case"low":return e.palette.success.main;default:return e.palette.text.secondary}},D=e=>{switch(e){case"deal":return(0,Y.jsx)(he.A,{});case"market":return(0,Y.jsx)(Te.A,{});case"customer":return(0,Y.jsx)(oe.A,{});case"revenue":return(0,Y.jsx)(P.A,{});default:return(0,Y.jsx)(me.A,{})}};return(0,Y.jsxs)(x.A,{elevation:2,sx:{borderRadius:2,overflow:"hidden"},children:[(0,Y.jsx)(s.A,{sx:{p:3,backgroundColor:(0,l.X4)(e.palette.primary.main,.05),borderBottom:"1px solid ".concat(e.palette.divider)},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsxs)(s.A,{children:[(0,Y.jsx)(c.A,{variant:"h5",sx:{fontWeight:"bold",mb:1},children:"\ud83d\udcca Ph\xe2n t\xedch th\xf4ng minh"}),(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",children:"Trending \u2022 Insights \u2022 Predictions \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi AI"})]}),(0,Y.jsx)(ce.A,{title:"L\xe0m m\u1edbi d\u1eef li\u1ec7u",children:(0,Y.jsx)(u.A,{onClick:v,color:"primary",children:(0,Y.jsx)(Ae.A,{})})})]})}),(0,Y.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Y.jsxs)(je.A,{value:t,onChange:(e,t)=>n(t),sx:{px:3},children:[(0,Y.jsx)(fe.A,{icon:(0,Y.jsx)(P.A,{}),label:"Trending",iconPosition:"start",sx:{minHeight:"auto",py:2}}),(0,Y.jsx)(fe.A,{icon:(0,Y.jsx)(Xe.A,{}),label:"Insights",iconPosition:"start",sx:{minHeight:"auto",py:2}}),(0,Y.jsx)(fe.A,{icon:(0,Y.jsx)(xe.A,{}),label:"Predictions",iconPosition:"start",sx:{minHeight:"auto",py:2}})]})}),(0,Y.jsxs)(s.A,{sx:{p:3},children:[(0,Y.jsx)(He,{value:t,index:0,children:(0,Y.jsx)(s.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2},children:o.map(t=>(0,Y.jsx)(ve.A,{elevation:1,sx:{height:"100%",border:"1px solid ".concat((0,l.X4)(t.color,.2)),"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 20px ".concat((0,l.X4)(t.color,.15))},transition:"all 0.3s ease"},children:(0,Y.jsxs)(we.A,{children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Y.jsx)(y.A,{sx:{backgroundColor:(0,l.X4)(t.color,.1),color:t.color,mr:2},children:t.icon}),(0,Y.jsxs)(s.A,{sx:{flex:1},children:[(0,Y.jsx)(c.A,{variant:"h6",sx:{fontWeight:"bold"},children:t.title}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(j.A,{label:t.growth,size:"small",icon:(0,Y.jsx)(Ie.A,{sx:{fontSize:14}}),sx:{backgroundColor:(0,l.X4)(e.palette.success.main,.1),color:e.palette.success.main,fontWeight:"bold"}}),(0,Y.jsxs)(c.A,{variant:"caption",color:"text.secondary",children:["\u0110\u1ed9 tin c\u1eady: ",Math.round(100*t.confidence),"%"]})]})]})]}),(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",children:t.description}),(0,Y.jsx)(Ce.A,{variant:"determinate",value:100*t.confidence,sx:{mt:2,height:6,borderRadius:3,backgroundColor:(0,l.X4)(t.color,.1),"& .MuiLinearProgress-bar":{backgroundColor:t.color,borderRadius:3}}})]})},t.id))})}),(0,Y.jsx)(He,{value:t,index:1,children:(0,Y.jsx)(ke.A,{children:h.map((t,n)=>(0,Y.jsxs)(i.Fragment,{children:[(0,Y.jsxs)(Se.Ay,{alignItems:"flex-start",sx:{px:0},children:[(0,Y.jsx)(ze.A,{children:(0,Y.jsx)(y.A,{sx:{backgroundColor:(0,l.X4)(S(t.impact),.1),color:S(t.impact)},children:(0,Y.jsx)(Xe.A,{})})}),(0,Y.jsx)(De.A,{primary:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,Y.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:"bold"},children:t.title}),(0,Y.jsx)(j.A,{label:t.impact.toUpperCase(),size:"small",sx:{backgroundColor:(0,l.X4)(S(t.impact),.1),color:S(t.impact),fontWeight:"bold",fontSize:"0.7rem"}}),t.actionable&&(0,Y.jsx)(j.A,{label:"ACTIONABLE",size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.info.main,.1),color:e.palette.info.main,fontSize:"0.7rem"}})]}),secondary:(0,Y.jsxs)(s.A,{children:[(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:t.description}),(0,Y.jsxs)(c.A,{variant:"caption",color:"text.secondary",children:["Ngu\u1ed3n: ",t.source," \u2022 ",t.timestamp.toLocaleTimeString("vi-VN")]})]})})]}),n<h.length-1&&(0,Y.jsx)(f.A,{variant:"inset",component:"li"})]},t.id))})}),(0,Y.jsx)(He,{value:t,index:2,children:(0,Y.jsx)(s.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2},children:p.map(t=>(0,Y.jsx)(ve.A,{elevation:1,sx:{height:"100%",border:"1px solid ".concat((0,l.X4)(z(t.riskLevel),.2)),"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 20px ".concat((0,l.X4)(z(t.riskLevel),.15))},transition:"all 0.3s ease"},children:(0,Y.jsxs)(we.A,{children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Y.jsx)(y.A,{sx:{backgroundColor:(0,l.X4)(z(t.riskLevel),.1),color:z(t.riskLevel),mr:2},children:D(t.type)}),(0,Y.jsxs)(s.A,{sx:{flex:1},children:[(0,Y.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:"bold",mb:.5},children:t.title}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,Y.jsx)(j.A,{label:"".concat(Math.round(100*t.probability),"% x\xe1c su\u1ea5t"),size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.primary.main,.1),color:e.palette.primary.main,fontWeight:"bold"}}),t.value&&(0,Y.jsx)(j.A,{label:t.value,size:"small",variant:"outlined"}),(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",children:t.timeframe})]})]})]}),(0,Y.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.description}),(0,Y.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsx)(j.A,{label:"Risk: ".concat(t.riskLevel),size:"small",sx:{backgroundColor:(0,l.X4)(z(t.riskLevel),.1),color:z(t.riskLevel),textTransform:"capitalize"}}),(0,Y.jsx)(Ce.A,{variant:"determinate",value:100*t.probability,sx:{width:"60%",height:6,borderRadius:3,backgroundColor:(0,l.X4)(e.palette.primary.main,.1),"& .MuiLinearProgress-bar":{backgroundColor:e.palette.primary.main,borderRadius:3}}})]})]})},t.id))})})]})]})};var Be=n(37567),Ee=n(82332),Pe=n(10256),Ke=n(3353),qe=n(67203),Ne=n(47471),_e=n(13106),Oe=n(5251),Fe=n(41329),Ve=n(50108),Ye=n(82291),Ze=n(87734),Qe=n(52185),Ue=n(70760),Ge=n(75525),Je=n(70095),$e=n(36028),et=n(16992),tt=n(56102),nt=n(17869),at=n(75748),it=n(72310);const rt=[{name:"Nguy\u1ec5n V\u0103n A",value:1200},{name:"Tr\u1ea7n Th\u1ecb B",value:950},{name:"L\xea V\u0103n C",value:850},{name:"Ph\u1ea1m Th\u1ecb D",value:700},{name:"Ho\xe0ng V\u0103n E",value:500}],st=[{name:"Lead",value:45,color:"#f87171"},{name:"B\xe1o gi\xe1",value:32,color:"#fbbf24"},{name:"\u0110\xe0m ph\xe1n",value:18,color:"#60a5fa"},{name:"Win",value:38,color:"#34d399"},{name:"Lose",value:23,color:"#9ca3af"}],ot=[{name:"H\xf4m nay",value:12},{name:"H\xf4m qua",value:10},{name:"2 ng\xe0y tr\u01b0\u1edbc",value:8},{name:"3 ng\xe0y tr\u01b0\u1edbc",value:15},{name:"4 ng\xe0y tr\u01b0\u1edbc",value:7}],lt=[{name:"T1",value:800},{name:"T2",value:950},{name:"T3",value:1100},{name:"T4",value:1250},{name:"T5",value:1400},{name:"T6",value:1600}],ct=[{name:"Chuy\u1ec3n \u0111\u1ed5i",value:65,color:"#34d399"},{name:"Kh\xf4ng chuy\u1ec3n \u0111\u1ed5i",value:35,color:"#f87171"}],dt=[{name:"T1",value:1200},{name:"T2",value:1900},{name:"T3",value:1500},{name:"T4",value:2200},{name:"T5",value:1800},{name:"T6",value:2400},{name:"T7",value:2100}],ht=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444"],xt=e=>{let{query:t}=e;const[n,a]=(0,i.useState)("bar"),[r,o]=(0,i.useState)("month"),l=e=>{const t=e.toLowerCase();return t.includes("kh\xe1ch h\xe0ng m\u1edbi")||t.includes("kh\xe1ch h\xe0ng")&&t.includes("m\u1edbi")?{type:"newCustomers",chartType:"bar"}:t.includes("doanh thu")&&t.includes("nh\xe2n vi\xean")?{type:"revenueByEmployee",chartType:"bar"}:(t.includes("deal")||t.includes("giao d\u1ecbch"))&&(t.includes("tr\u1ea1ng th\xe1i")||t.includes("giai \u0111o\u1ea1n"))?{type:"dealStatus",chartType:"pie"}:t.includes("doanh thu")&&(t.includes("th\xe1ng")||t.includes("th\u1eddi gian"))?{type:"revenueByMonth",chartType:"line"}:t.includes("t\u1ec9 l\u1ec7")||t.includes("chuy\u1ec3n \u0111\u1ed5i")?{type:"conversionRate",chartType:"pie"}:{type:"revenueByEmployee",chartType:"bar"}},{type:d}=l(t||"");i.useEffect(()=>{if(t){const{chartType:e}=l(t);a(e)}},[t]);const h=(()=>{switch(d){case"newCustomers":return ot;case"dealStatus":return st;case"revenueByMonth":return lt;case"conversionRate":return ct;default:return rt}})(),m=e=>"".concat(e," tri\u1ec7u");return(0,Y.jsxs)(x.A,{elevation:2,sx:{p:3,borderRadius:2,mb:4},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Y.jsxs)(c.A,{variant:"h6",sx:{fontWeight:"bold"},children:["\ud83d\udcc8 ",t?'K\u1ebft qu\u1ea3 cho: "'.concat(t,'"'):"Ph\xe2n t\xedch d\u1eef li\u1ec7u kinh doanh"]}),(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:2},children:[(0,Y.jsxs)(Be.A,{size:"small",value:n,exclusive:!0,onChange:(e,t)=>{null!==t&&a(t)},"aria-label":"chart type",children:[(0,Y.jsx)(Ee.A,{value:"bar","aria-label":"bar chart",children:(0,Y.jsx)(_e.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"pie","aria-label":"pie chart",children:(0,Y.jsx)(Oe.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"line","aria-label":"line chart",children:(0,Y.jsx)(Te.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"table","aria-label":"table",children:(0,Y.jsx)(Fe.A,{fontSize:"small"})})]}),(0,Y.jsxs)(Pe.A,{size:"small",sx:{minWidth:120},children:[(0,Y.jsx)(Ke.A,{id:"time-range-label",children:"Th\u1eddi gian"}),(0,Y.jsxs)(qe.A,{labelId:"time-range-label",id:"time-range",value:r,label:"Th\u1eddi gian",onChange:e=>{o(e.target.value)},children:[(0,Y.jsx)(Ne.A,{value:"today",children:"H\xf4m nay"}),(0,Y.jsx)(Ne.A,{value:"week",children:"Tu\u1ea7n n\xe0y"}),(0,Y.jsx)(Ne.A,{value:"month",children:"Th\xe1ng n\xe0y"}),(0,Y.jsx)(Ne.A,{value:"quarter",children:"Qu\xfd n\xe0y"}),(0,Y.jsx)(Ne.A,{value:"year",children:"N\u0103m nay"})]})]})]})]}),(0,Y.jsxs)(s.A,{sx:{height:400,width:"100%"},children:["bar"===n&&(0,Y.jsx)(Ve.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(Ye.E,{data:"revenueByMonth"===d?dt:rt,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Y.jsx)(Ze.d,{strokeDasharray:"3 3"}),(0,Y.jsx)(Qe.W,{dataKey:"name"}),(0,Y.jsx)(Ue.h,{}),(0,Y.jsx)(Ge.m,{formatter:e=>m(e)}),(0,Y.jsx)(Je.s,{}),(0,Y.jsx)($e.y,{dataKey:"value",name:"revenueByMonth"===d?"Doanh thu theo th\xe1ng":"Doanh thu theo nh\xe2n vi\xean",fill:"#3b82f6"})]})}),"pie"===n&&(0,Y.jsx)(Ve.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(et.r,{children:[(0,Y.jsx)(tt.F,{data:"dealStatus"===d?st:rt,cx:"50%",cy:"50%",labelLine:!1,outerRadius:150,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat(n?(100*n).toFixed(0):0,"%")},children:h.map((e,t)=>(0,Y.jsx)(nt.f,{fill:e.color||ht[t%ht.length]},"cell-".concat(t)))}),(0,Y.jsx)(Ge.m,{formatter:e=>m(e)}),(0,Y.jsx)(Je.s,{})]})}),"line"===n&&(0,Y.jsx)(Ve.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(at.b,{data:dt,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Y.jsx)(Ze.d,{strokeDasharray:"3 3"}),(0,Y.jsx)(Qe.W,{dataKey:"name"}),(0,Y.jsx)(Ue.h,{}),(0,Y.jsx)(Ge.m,{formatter:e=>m(e)}),(0,Y.jsx)(Je.s,{}),(0,Y.jsx)(it.N,{type:"monotone",dataKey:"value",name:"Doanh thu theo th\xe1ng",stroke:"#3b82f6",activeDot:{r:8}})]})}),"table"===n&&(0,Y.jsx)(s.A,{sx:{height:"100%",overflow:"auto"},children:(0,Y.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[(0,Y.jsx)("th",{style:{padding:"12px 16px",textAlign:"left"},children:"T\xean"}),(0,Y.jsx)("th",{style:{padding:"12px 16px",textAlign:"right"},children:"Gi\xe1 tr\u1ecb"})]})}),(0,Y.jsx)("tbody",{children:("dealStatus"===d?st:"revenueByMonth"===d?dt:rt).map((e,t)=>(0,Y.jsxs)("tr",{style:{borderBottom:"1px solid #e2e8f0",backgroundColor:t%2===0?"#f8fafc":"white"},children:[(0,Y.jsx)("td",{style:{padding:"12px 16px"},children:e.name}),(0,Y.jsx)("td",{style:{padding:"12px 16px",textAlign:"right"},children:m(e.value)})]},t))})]})})]})]})};var mt=n(52912),pt=n(4395),ut=n(45837),gt=n(62567),At=n(12043),bt=n(37305),yt=n(61773),jt=n(26582),ft=n(5362);const vt=[{id:1,title:"B\xe1o c\xe1o doanh thu theo nh\xe2n vi\xean Q2/2025",createdAt:"2025-06-30",type:"bar",favorite:!0,tags:["doanh thu","nh\xe2n vi\xean","qu\xfd 2"]},{id:2,title:"Ph\xe2n t\xedch t\u1ec9 l\u1ec7 chuy\u1ec3n \u0111\u1ed5i lead sang kh\xe1ch h\xe0ng",createdAt:"2025-06-25",type:"pie",favorite:!1,tags:["lead","chuy\u1ec3n \u0111\u1ed5i","ph\u1ec5u b\xe1n h\xe0ng"]},{id:3,title:"B\xe1o c\xe1o doanh thu theo th\xe1ng n\u0103m 2025",createdAt:"2025-06-20",type:"line",favorite:!0,tags:["doanh thu","th\xe1ng","2025"]},{id:4,title:"Top 10 kh\xe1ch h\xe0ng ti\u1ec1m n\u0103ng th\xe1ng 6",createdAt:"2025-06-15",type:"table",favorite:!1,tags:["kh\xe1ch h\xe0ng ti\u1ec1m n\u0103ng","top 10"]},{id:5,title:"Ph\xe2n t\xedch hi\u1ec7u qu\u1ea3 chi\u1ebfn d\u1ecbch marketing Q2",createdAt:"2025-06-10",type:"bar",favorite:!1,tags:["marketing","chi\u1ebfn d\u1ecbch","qu\xfd 2"]}],wt=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(""),[d,h]=(0,i.useState)(vt.reduce((e,t)=>(0,a.A)((0,a.A)({},e),{},{[t.id]:t.favorite}),{})),g=()=>{t(null),r(null)},A=e=>{switch(e){case"bar":return"\ud83d\udcca";case"pie":return"\ud83e\udd67";case"line":return"\ud83d\udcc8";case"table":return"\ud83d\udccb";default:return"\ud83d\udcc4"}},b=vt.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(o.toLowerCase())));return(0,Y.jsxs)(x.A,{elevation:2,sx:{borderRadius:2},children:[(0,Y.jsxs)(s.A,{sx:{p:2,borderBottom:"1px solid #e2e8f0"},children:[(0,Y.jsx)(c.A,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"\ud83d\udcd1 B\xe1o c\xe1o \u0111\xe3 l\u01b0u"}),(0,Y.jsx)(m.A,{fullWidth:!0,size:"small",placeholder:"T\xecm ki\u1ebfm b\xe1o c\xe1o...",value:o,onChange:e=>l(e.target.value),InputProps:{startAdornment:(0,Y.jsx)(p.A,{position:"start",children:(0,Y.jsx)(ne.A,{fontSize:"small"})})},sx:{mb:1}})]}),(0,Y.jsx)(ke.A,{sx:{maxHeight:"400px",overflow:"auto"},children:0===b.length?(0,Y.jsx)(Se.Ay,{children:(0,Y.jsx)(De.A,{primary:"Kh\xf4ng t\xecm th\u1ea5y b\xe1o c\xe1o n\xe0o",secondary:"H\xe3y th\u1eed t\xecm ki\u1ebfm v\u1edbi t\u1eeb kh\xf3a kh\xe1c"})}):b.map(e=>(0,Y.jsxs)(i.Fragment,{children:[(0,Y.jsxs)(Se.Ay,{sx:{cursor:"pointer","&:hover":{backgroundColor:"#f8fafc"}},children:[(0,Y.jsx)(s.A,{sx:{mr:1,fontSize:"1.5rem"},children:A(e.type)}),(0,Y.jsx)(De.A,{primary:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,Y.jsx)(c.A,{variant:"body1",sx:{fontWeight:"medium"},children:e.title}),(0,Y.jsx)(u.A,{size:"small",onClick:t=>{var n;t.stopPropagation(),n=e.id,h(e=>(0,a.A)((0,a.A)({},e),{},{[n]:!e[n]}))},sx:{ml:1,color:d[e.id]?"#f43f5e":"inherit"},children:d[e.id]?(0,Y.jsx)(ut.A,{fontSize:"small"}):(0,Y.jsx)(gt.A,{fontSize:"small"})})]}),secondary:(0,Y.jsxs)(s.A,{sx:{mt:.5},children:[(0,Y.jsxs)(c.A,{variant:"caption",color:"text.secondary",display:"block",children:["T\u1ea1o ng\xe0y: ",e.createdAt]}),(0,Y.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:e.tags.map((e,t)=>(0,Y.jsx)(j.A,{label:e,size:"small",sx:{height:20,fontSize:"0.65rem",backgroundColor:"#f1f5f9"}},t))})]})}),(0,Y.jsx)(mt.A,{children:(0,Y.jsx)(u.A,{edge:"end",onClick:n=>{return a=n,i=e.id,t(a.currentTarget),void r(i);var a,i},children:(0,Y.jsx)(At.A,{})})})]}),(0,Y.jsx)(f.A,{variant:"inset",component:"li"})]},e.id))}),(0,Y.jsxs)(pt.A,{anchorEl:e,open:Boolean(e),onClose:g,id:"report-menu-".concat(n),children:[(0,Y.jsxs)(Ne.A,{onClick:g,children:[(0,Y.jsx)(bt.A,{fontSize:"small",sx:{mr:1}}),"T\u1ea3i xu\u1ed1ng"]}),(0,Y.jsxs)(Ne.A,{onClick:g,children:[(0,Y.jsx)(yt.A,{fontSize:"small",sx:{mr:1}}),"Ch\u1ec9nh s\u1eeda"]}),(0,Y.jsxs)(Ne.A,{onClick:g,children:[(0,Y.jsx)(jt.A,{fontSize:"small",sx:{mr:1}}),"Chia s\u1ebb"]}),(0,Y.jsx)(f.A,{}),(0,Y.jsxs)(Ne.A,{onClick:g,sx:{color:"error.main"},children:[(0,Y.jsx)(ft.A,{fontSize:"small",sx:{mr:1}}),"X\xf3a"]})]})]})};const Ct=new class{constructor(){this.searchHistory=[],this.searchCache=new Map,this.contextData=null,this.loadSearchHistory()}setContext(e){this.contextData=e}async search(e,t,n){const i=this.generateCacheKey(e,t);if(this.searchCache.has(i))return this.searchCache.get(i);try{const r={id:"search_".concat(Date.now()),type:"search",data:{query:e,filters:t,context:(0,a.A)((0,a.A)({},this.contextData),n),searchHistory:this.searchHistory.slice(-5)},timestamp:new Date},s=await Re.Z.processRequest(r),o=this.processSearchResults(s.result,e);return this.searchCache.set(i,o),this.addToSearchHistory(e),o}catch(r){return console.error("Error in AI search:",r),this.getFallbackResults(e,t)}}async quickSearch(e){return e.length<2?[]:this.search(e,void 0,{quickSearch:!0,maxResults:5})}async getSearchSuggestions(e,t){if(e.length<2)return this.getPopularSearches(t);try{const n={id:"suggestions_".concat(Date.now()),type:"search",data:{type:"suggestions",partialQuery:e,currentPage:t,searchHistory:this.searchHistory},timestamp:new Date};return(await Re.Z.processRequest(n)).result.suggestions||[]}catch(n){return console.error("Error getting search suggestions:",n),this.getPopularSearches(t)}}async contextualSearch(e){var t;const n={};switch((null===(t=this.contextData)||void 0===t?void 0:t.currentPage)||""){case"/customers":n.types=["customer","contact"];break;case"/deals":n.types=["deal","quotation"];break;case"/contracts":n.types=["contract","invoice"]}return this.search(e,n,{contextual:!0})}async semanticSearch(e){const t={id:"semantic_".concat(Date.now()),type:"search",data:{type:"semantic",query:e,context:this.contextData},timestamp:new Date};try{const n=await Re.Z.processRequest(t);return this.processSearchResults(n.result,e)}catch(n){return console.error("Error in semantic search:",n),[]}}processSearchResults(e,t){return(e.results||[]).map((e,t)=>({id:e.id||"result_".concat(t),type:e.type||"customer",title:e.title||e.name||"Untitled",description:e.description||e.summary||"",relevanceScore:e.relevance||1-.1*t,metadata:e.metadata||{},url:this.generateResultUrl(e.type,e.id),timestamp:new Date}))}generateResultUrl(e,t){return"".concat({customer:"/customers",deal:"/deals",contact:"/contacts",contract:"/contracts",invoice:"/invoices",requirement:"/requirements",quotation:"/quotations"}[e]||"/","/").concat(t)}generateCacheKey(e,t){return"".concat(e,"_").concat(JSON.stringify(t||{}))}getFallbackResults(e,t){return[{id:"1",type:"customer",title:'Kh\xe1ch h\xe0ng li\xean quan \u0111\u1ebfn "'.concat(e,'"'),description:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm c\u01a1 b\u1ea3n",relevanceScore:.8,metadata:{},url:"/customers/1",timestamp:new Date}]}getPopularSearches(e){const t={"/dashboard":["Doanh thu th\xe1ng n\xe0y","Deal \u0111ang pending","Kh\xe1ch h\xe0ng m\u1edbi","Top performer"],"/customers":["Kh\xe1ch h\xe0ng VIP","Kh\xe1ch h\xe0ng m\u1edbi","Kh\xe1ch h\xe0ng ch\u01b0a li\xean h\u1ec7","Kh\xe1ch h\xe0ng c\xf3 deal l\u1edbn"],"/deals":["Deal closing","Deal high value","Deal pending","Deal won this month"],default:["T\xecm ki\u1ebfm nhanh","B\xe1o c\xe1o","Th\u1ed1ng k\xea","Ph\xe2n t\xedch"]};return t[e||"default"]||t.default}addToSearchHistory(e){this.searchHistory.includes(e)||(this.searchHistory.unshift(e),this.searchHistory=this.searchHistory.slice(0,20),this.saveSearchHistory())}loadSearchHistory(){try{const e=localStorage.getItem("ai_search_history");e&&(this.searchHistory=JSON.parse(e))}catch(e){console.error("Error loading search history:",e)}}saveSearchHistory(){try{localStorage.setItem("ai_search_history",JSON.stringify(this.searchHistory))}catch(e){console.error("Error saving search history:",e)}}clearCache(){this.searchCache.clear()}getSearchStats(){return{historyCount:this.searchHistory.length,cacheSize:this.searchCache.size,recentSearches:this.searchHistory.slice(0,5)}}exportSearchData(){return{history:this.searchHistory,context:this.contextData,timestamp:new Date}}},kt=[{id:1,name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",owner:"Tr\u1ea7n Th\u1ecb B",leadStatus:"Hot Lead",avatar:"/avatars/an.jpg"},{id:2,name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.vn",phone:"0987654321",owner:"Ph\u1ea1m V\u0103n C",leadStatus:"Qualified",avatar:"/avatars/cam.jpg"},{id:3,name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.com",phone:"0912345678",owner:"Nguy\u1ec5n Th\u1ecb D",leadStatus:"New Lead",avatar:"/avatars/duc.jpg"}],St=[{id:1,name:"H\u1ec7 th\u1ed1ng CRM cho ABC Corp",customer:"ABC Corporation",owner:"Tr\u1ea7n V\u0103n E",amount:25e7,stage:"\u0110\xe3 g\u1eedi b\xe1o gi\xe1"},{id:2,name:"Website th\u01b0\u01a1ng m\u1ea1i \u0111i\u1ec7n t\u1eed",customer:"XYZ Trading",owner:"L\xea Th\u1ecb F",amount:15e7,stage:"\u0110ang \u0111\xe0m ph\xe1n"},{id:3,name:"\u1ee8ng d\u1ee5ng mobile banking",customer:"Tech Bank",owner:"Ph\u1ea1m V\u0103n G",amount:5e8,stage:"Li\xean h\u1ec7 ban \u0111\u1ea7u"}],zt=()=>{var e;const t=(0,r.A)(),n=(0,te.zy)(),w=(0,te.Zp)(),[C,k]=(0,i.useState)(""),[S,z]=(0,i.useState)(!1),[D,T]=(0,i.useState)(""),[W,X]=(0,i.useState)(!1),[I,R]=(0,i.useState)([]),[M,H]=(0,i.useState)(!1),[L,B]=(0,i.useState)(!1),[E,P]=(0,i.useState)(!1),[K,N]=(0,i.useState)(0),[_,F]=(0,i.useState)(!1),[V,Z]=(0,i.useState)("contacts"),[Q,U]=(0,i.useState)({contacts:!1,deals:!1}),[G,J]=(0,i.useState)(!1),[$,ce]=(0,i.useState)(!1),[de,he]=(0,i.useState)(""),xe=(0,i.useRef)(null),me=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=setTimeout(()=>z(!0),200);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>{const e=()=>{const e=window.scrollY;N(e),e>200?(B(!0),P(!0)):(B(!1),P(!1))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>{W&&0===D.length&&pe()},[W]);const pe=async()=>{try{const e=await Ct.getSearchSuggestions("",n.pathname);R(e)}catch(e){console.error("Error loading suggestions:",e)}},ue=async()=>{if(D.trim()){H(!0);try{const e=await Ct.contextualSearch(D);console.log("Search results:",e),ke(D)}catch(e){console.error("Error searching:",e)}finally{H(!1)}}},ge=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab"),Ae=e=>/\d/.test(D)?e.phone:e.email,ye=e=>{w("/contacts/".concat(e)),X(!1)},je=e=>{w("/deals/".concat(e)),X(!1)},fe=e=>{U(t=>(0,a.A)((0,a.A)({},t),{},{[e]:!0}))},ve=()=>{const e=[];for(let t=0;t<15;t++)e.push((0,a.A)((0,a.A)({},kt[t%kt.length]),{},{id:kt[t%kt.length].id+100*t,name:"".concat(kt[t%kt.length].name," ").concat(t+1)}));return e},we=()=>{const e=[];for(let t=0;t<15;t++)e.push((0,a.A)((0,a.A)({},St[t%St.length]),{},{id:St[t%St.length].id+100*t,name:"".concat(St[t%St.length].name," ").concat(t+1),amount:St[t%St.length].amount+1e7*t}));return e},Ce=e=>{switch(e.toLowerCase()){case"hot lead":return"error";case"qualified":return"success";case"new lead":return"info";case"\u0111\xe3 g\u1eedi b\xe1o gi\xe1":return"warning";case"\u0111ang \u0111\xe0m ph\xe1n":return"primary";default:return"default"}},ke=e=>{console.log("Generating report for query:",e),k(e)};return(0,Y.jsxs)(s.A,{sx:{position:"relative",width:"100%",height:"100%",overflow:"auto"},children:[(0,Y.jsx)(o.A,{in:S,timeout:800,children:(0,Y.jsxs)(s.A,{sx:{p:3,width:"100%",height:"100%"},children:[!_&&(0,Y.jsxs)(s.A,{sx:{textAlign:"center",mb:6,py:4,background:"linear-gradient(135deg, ".concat((0,l.X4)(t.palette.primary.main,.05)," 0%, ").concat((0,l.X4)(t.palette.secondary.main,.05)," 100%)"),borderRadius:3,border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.1))},children:[(0,Y.jsx)(c.A,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:t.palette.text.primary,mb:2},children:"Ch\xe0o m\u1eebng tr\u1edf l\u1ea1i, Admin"}),(0,Y.jsx)(c.A,{variant:"h6",color:"text.secondary",sx:{mb:3,maxWidth:600,mx:"auto"},children:"Dashboard th\xf4ng minh"}),(0,Y.jsx)(d.x,{onClickAway:()=>{X(!1)},children:(0,Y.jsxs)(s.A,{ref:xe,sx:{position:L?"fixed":"relative",bottom:L?20:"auto",right:L?20:"auto",left:"auto",zIndex:1e3,width:L?"auto":"100%",maxWidth:L?300:600,mx:"auto",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)",opacity:1,boxShadow:L?"0 8px 32px rgba(0,0,0,0.15)":"none",display:"flex",flexDirection:"column",gap:2},children:[(0,Y.jsx)(h.A,{in:!0,style:{transitionDelay:L?"100ms":"0ms"},children:(0,Y.jsxs)(x.A,{elevation:L?4:1,sx:{p:L?1:2,borderRadius:8,border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.2)),backgroundColor:L?(0,l.X4)(t.palette.background.paper,.95):(0,l.X4)(t.palette.background.paper,.8),backdropFilter:"blur(8px)",boxShadow:L?"0 4px 20px ".concat((0,l.X4)(t.palette.primary.main,.15)):"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:L?"0 8px 32px ".concat((0,l.X4)(t.palette.primary.main,.25)):"none",transform:L?"translateY(-2px)":"none"}},children:[(0,Y.jsx)(s.A,{sx:{display:"flex",alignItems:"center"},children:(0,Y.jsx)(m.A,{inputRef:me,fullWidth:!0,placeholder:"H\u1ecfi AI v\u1ec1 d\u1eef li\u1ec7u kinh doanh, th\u1ecb tr\u01b0\u1eddng, kh\xe1ch h\xe0ng...",value:D,onChange:e=>T(e.target.value),onFocus:()=>{X(!0)},onKeyDown:e=>{var t;"Escape"===e.key&&(X(!1),null===(t=me.current)||void 0===t||t.blur())},onKeyPress:e=>{"Enter"===e.key&&ue()},variant:"outlined",size:L?"small":"medium",InputProps:{startAdornment:(0,Y.jsx)(p.A,{position:"start",children:(0,Y.jsx)(q.A,{color:"primary"})}),endAdornment:(0,Y.jsxs)(p.A,{position:"end",children:[D?(0,Y.jsx)(u.A,{size:"small",onClick:()=>T(""),edge:"end",children:(0,Y.jsx)(O.A,{fontSize:"small"})}):null,M?(0,Y.jsx)(g.A,{size:20}):(0,Y.jsx)(u.A,{size:"small",onClick:ue,edge:"end",color:"primary",children:(0,Y.jsx)(ne.A,{})})]}),sx:{borderRadius:8,backgroundColor:(0,l.X4)(t.palette.background.paper,.5),fontSize:"1rem","&:hover":{backgroundColor:(0,l.X4)(t.palette.background.paper,.8)},"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.primary.main,.3),borderWidth:2},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.primary.main,.5),borderWidth:2},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2}}}})}),W&&!L&&(0,Y.jsx)(A.A,{open:W,anchorEl:xe.current,placement:"bottom-start",style:{width:"auto",minWidth:null===(e=xe.current)||void 0===e?void 0:e.clientWidth,maxWidth:500,zIndex:1301},children:(0,Y.jsx)(x.A,{elevation:3,sx:{mt:1,borderRadius:0,maxHeight:"none",overflow:"visible",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper},children:(0,Y.jsxs)(s.A,{sx:{overflow:"visible"},children:[(0,Y.jsxs)(s.A,{sx:{py:.5},children:[(0,Y.jsx)(c.A,{variant:"caption",sx:{px:1.5,py:.5,display:"block",color:"text.secondary",fontWeight:"medium",textTransform:"uppercase",letterSpacing:.5,fontSize:"0.65rem"},children:"Contacts"}),kt.slice(0,3).map(e=>(0,Y.jsx)(b.A,{onClick:()=>ye(e.id),sx:{px:1.5,py:.75,borderRadius:0,mx:1,mb:.5,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(y.A,{sx:{width:24,height:24,mr:1,fontSize:"0.75rem",backgroundColor:t.palette.primary.main},children:e.name.charAt(0)}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(c.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(c.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",Ae(e)]})]}),(0,Y.jsx)(j.A,{label:e.leadStatus,size:"small",color:Ce(e.leadStatus),sx:{height:16,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),(0,Y.jsx)(b.A,{onClick:()=>{Z("contacts"),U({contacts:!0,deals:!1}),F(!0),X(!1)},sx:{px:1.5,py:.5,borderRadius:0,mx:1,color:"primary.main","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(c.A,{variant:"body2",sx:{fontWeight:"medium"},children:"View all contacts..."})})]}),(0,Y.jsx)(f.A,{sx:{mx:1}}),(0,Y.jsxs)(s.A,{sx:{py:.5},children:[(0,Y.jsx)(c.A,{variant:"caption",sx:{px:1.5,py:.5,display:"block",color:"text.secondary",fontWeight:"medium",textTransform:"uppercase",letterSpacing:.5,fontSize:"0.65rem"},children:"Deals"}),St.slice(0,3).map(e=>(0,Y.jsx)(b.A,{onClick:()=>je(e.id),sx:{px:1.5,py:.75,borderRadius:0,mx:1,mb:.5,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(s.A,{sx:{width:24,height:24,mr:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:(0,l.X4)(t.palette.success.main,.1),borderRadius:0,fontSize:"0.75rem"},children:"\ud83d\udcbc"}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(c.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(c.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",ge(e.amount)]})]}),(0,Y.jsx)(j.A,{label:e.stage,size:"small",color:Ce(e.stage),sx:{height:16,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),(0,Y.jsx)(b.A,{onClick:()=>{Z("deals"),U({contacts:!1,deals:!0}),F(!0),X(!1)},sx:{px:1.5,py:.5,borderRadius:0,mx:1,color:"primary.main","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(c.A,{variant:"body2",sx:{fontWeight:"medium"},children:"View all deals..."})})]}),D&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(f.A,{sx:{my:1}}),(0,Y.jsx)(s.A,{sx:{px:1},children:(0,Y.jsx)(b.A,{onClick:()=>{he(D),J(!0),X(!1)},sx:{px:1.5,py:1,borderRadius:0,backgroundColor:(0,l.X4)(t.palette.warning.main,.05),border:"1px solid ".concat((0,l.X4)(t.palette.warning.main,.2)),"&:hover":{backgroundColor:(0,l.X4)(t.palette.warning.main,.1)}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,Y.jsx)(ae.A,{sx:{color:"warning.main",mr:1.5,fontSize:"1.2rem"}}),(0,Y.jsxs)(c.A,{variant:"body2",sx:{fontWeight:"medium",color:"warning.dark"},children:['H\u1ecfi CRM Assistant: "',D.length>30?D.substring(0,30)+"...":D,'"']})]})})})]})]})})}),L&&(0,Y.jsx)(c.A,{variant:"caption",sx:{ml:1,color:"text.secondary",display:{xs:"none",sm:"inline"}},children:"AI Assistant - H\u1ecfi b\u1ea5t c\u1ee9 \u0111i\u1ec1u g\xec!"})]})}),(0,Y.jsx)(v.A,{direction:"up",in:E,mountOnEnter:!0,unmountOnExit:!0,children:(0,Y.jsx)(u.A,{color:"primary",size:"medium",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},sx:{position:"fixed",bottom:L?80:20,right:20,backgroundColor:(0,l.X4)(t.palette.background.paper,.9),boxShadow:"0 4px 14px ".concat((0,l.X4)(t.palette.primary.main,.2)),border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.3)),"&:hover":{backgroundColor:(0,l.X4)(t.palette.background.paper,1),boxShadow:"0 6px 20px ".concat((0,l.X4)(t.palette.primary.main,.3))}},children:(0,Y.jsx)(ie.A,{})})})]})})]}),_&&(0,Y.jsx)(s.A,{sx:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"auto",maxWidth:700,minWidth:500},children:(0,Y.jsx)(x.A,{elevation:4,sx:{p:2,borderRadius:4,border:"2px solid ".concat((0,l.X4)(t.palette.warning.main,.6)),backgroundColor:(0,l.X4)(t.palette.warning.main,.15),backdropFilter:"blur(12px)",boxShadow:"0 6px 24px ".concat((0,l.X4)(t.palette.warning.main,.3)),transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:(0,l.X4)(t.palette.warning.main,.25),boxShadow:"0 12px 40px ".concat((0,l.X4)(t.palette.warning.main,.4)),transform:"translateY(-4px)"}},children:(0,Y.jsx)(m.A,{fullWidth:!0,placeholder:"H\u1ecfi AI v\u1ec1 d\u1eef li\u1ec7u kinh doanh, th\u1ecb tr\u01b0\u1eddng, kh\xe1ch h\xe0ng...",value:D,onChange:e=>T(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ue()},variant:"outlined",size:"small",InputProps:{startAdornment:(0,Y.jsx)(p.A,{position:"start",children:(0,Y.jsx)(q.A,{color:"primary"})}),endAdornment:(0,Y.jsxs)(p.A,{position:"end",children:[D?(0,Y.jsx)(u.A,{size:"small",onClick:()=>T(""),edge:"end",children:(0,Y.jsx)(O.A,{fontSize:"small"})}):null,M?(0,Y.jsx)(g.A,{size:20}):(0,Y.jsx)(u.A,{size:"small",onClick:ue,edge:"end",color:"primary",children:(0,Y.jsx)(ne.A,{})}),(0,Y.jsx)(u.A,{size:"small",edge:"end",children:(0,Y.jsx)(re.A,{})})]}),sx:{borderRadius:8,backgroundColor:(0,l.X4)(t.palette.background.paper,.9),fontSize:"0.9rem","&:hover":{backgroundColor:t.palette.background.paper},"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.background.paper,.8),borderWidth:2},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.background.paper,borderWidth:2},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.background.paper,borderWidth:2}}}})})}),_&&(0,Y.jsxs)(s.A,{sx:{mb:4},children:[(0,Y.jsxs)(s.A,{sx:{position:"sticky",top:0,zIndex:100,backgroundColor:t.palette.background.paper,borderBottom:"1px solid ".concat(t.palette.divider),p:1.5,mb:2},children:[(0,Y.jsxs)(s.A,{sx:{mb:2},children:[(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,Y.jsx)(u.A,{onClick:()=>{F(!1),X(!0)},size:"small",sx:{mr:1,width:28,height:28,backgroundColor:(0,l.X4)(t.palette.primary.main,.1),"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.2)}},children:(0,Y.jsx)(se.A,{fontSize:"small"})}),(0,Y.jsx)(c.A,{variant:"body2",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:"Back"})]}),(0,Y.jsxs)(c.A,{variant:"h6",sx:{fontSize:"1.1rem",color:"text.primary",fontWeight:"medium"},children:['Search for: "',D||"AI search results",'"']})]}),(0,Y.jsxs)(s.A,{sx:{display:"flex",gap:1},children:[(0,Y.jsx)(j.A,{icon:(0,Y.jsx)(oe.A,{fontSize:"small"}),label:"Contacts",variant:"contacts"===V?"filled":"outlined",color:"contacts"===V?"primary":"default",onClick:()=>w("/contacts"),sx:{cursor:"pointer",fontSize:"0.8rem"}}),(0,Y.jsx)(j.A,{icon:(0,Y.jsx)(le.A,{fontSize:"small"}),label:"Deals",variant:"deals"===V?"filled":"outlined",color:"deals"===V?"primary":"default",onClick:()=>w("/deals"),sx:{cursor:"pointer",fontSize:"0.8rem"}})]})]}),(0,Y.jsxs)(s.A,{sx:{px:2},children:[(0,Y.jsxs)(s.A,{sx:{mb:4},children:[(0,Y.jsxs)(c.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:["CONTACTS",(0,Y.jsx)(j.A,{label:Q.contacts?ve().length:kt.length,size:"small",variant:"outlined"})]}),(0,Y.jsxs)(x.A,{elevation:1,sx:{borderRadius:"6px",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper,overflow:"hidden"},children:[(Q.contacts?ve():kt.slice(0,3)).map(e=>(0,Y.jsx)(b.A,{onClick:()=>ye(e.id),sx:{px:2,py:1,borderRadius:0,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)},"&:not(:last-child)":{borderBottom:"1px solid ".concat((0,l.X4)(t.palette.divider,.2))}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(y.A,{sx:{width:24,height:24,mr:1.5,fontSize:"0.75rem",backgroundColor:t.palette.primary.main},children:e.name.charAt(0)}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(c.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(c.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",Ae(e)," \xb7 ",e.owner]})]}),(0,Y.jsx)(j.A,{label:e.leadStatus,size:"small",color:Ce(e.leadStatus),sx:{height:18,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),!Q.contacts&&(0,Y.jsx)(b.A,{onClick:()=>fe("contacts"),sx:{px:2,py:1,borderRadius:0,color:"primary.main",borderTop:"1px solid ".concat((0,l.X4)(t.palette.divider,.2)),justifyContent:"center","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(c.A,{variant:"body2",sx:{fontWeight:"medium"},children:"Show more contacts..."})})]})]}),(0,Y.jsxs)(s.A,{children:[(0,Y.jsxs)(c.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:["DEALS",(0,Y.jsx)(j.A,{label:Q.deals?we().length:St.length,size:"small",variant:"outlined"})]}),(0,Y.jsxs)(x.A,{elevation:1,sx:{borderRadius:"6px",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper,overflow:"hidden"},children:[(Q.deals?we():St.slice(0,3)).map(e=>(0,Y.jsx)(b.A,{onClick:()=>je(e.id),sx:{px:2,py:1,borderRadius:0,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)},"&:not(:last-child)":{borderBottom:"1px solid ".concat((0,l.X4)(t.palette.divider,.2))}},children:(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(s.A,{sx:{width:24,height:24,mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:(0,l.X4)(t.palette.success.main,.1),borderRadius:1,fontSize:"0.75rem"},children:"\ud83d\udcbc"}),(0,Y.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(c.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(c.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",e.customer," \xb7 ",e.owner," \xb7 ",ge(e.amount)]})]}),(0,Y.jsx)(j.A,{label:e.stage,size:"small",color:Ce(e.stage),sx:{height:18,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),!Q.deals&&(0,Y.jsx)(b.A,{onClick:()=>fe("deals"),sx:{px:2,py:1,borderRadius:0,color:"primary.main",borderTop:"1px solid ".concat((0,l.X4)(t.palette.divider,.2)),justifyContent:"center","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(c.A,{variant:"body2",sx:{fontWeight:"medium"},children:"Show more deals..."})})]})]})]})]}),!_&&(0,Y.jsx)(be,{}),!_&&(0,Y.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"2fr 1fr"},gap:4,mb:4},children:[(0,Y.jsx)(s.A,{children:(0,Y.jsx)(Le,{})}),(0,Y.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,Y.jsx)(s.A,{children:(0,Y.jsx)(xt,{query:C})}),(0,Y.jsx)(s.A,{children:(0,Y.jsx)(wt,{})})]})]}),(0,Y.jsx)(s.A,{sx:{mt:4,pt:2,borderTop:"1px solid ".concat(t.palette.divider),textAlign:"center"},children:(0,Y.jsx)(c.A,{variant:"caption",color:"text.secondary",children:"\xa9 2025 CRM Dashboard - Powered by AI Orchestration \u2022 Real-time Data \u2022 Smart Predictions"})})]})}),(0,Y.jsx)(ee,{open:G,initialQuery:de,onClose:()=>{J(!1),ce(!1)},onMinimize:()=>{ce(!0),J(!1)}}),$&&(0,Y.jsx)(h.A,{in:$,children:(0,Y.jsx)(x.A,{elevation:6,sx:{position:"fixed",bottom:20,right:20,width:60,height:60,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"warning.main",color:"warning.contrastText",zIndex:1300,"&:hover":{transform:"scale(1.1)",boxShadow:"0 8px 25px ".concat((0,l.X4)(t.palette.warning.main,.4))},transition:"all 0.3s ease-in-out"},onClick:()=>{ce(!1),J(!0)},children:(0,Y.jsx)(ae.A,{sx:{fontSize:"1.5rem"}})})})]})}}}]);
//# sourceMappingURL=854.01517586.chunk.js.map