"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[854],{72854:(e,t,a)=>{a.r(t),a.d(t,{default:()=>wt});var s=a(89379),n=a(65043),r=a(60267),i=a(53969),o=a(40405),l=a(29651),d=a(55895),c=a(10947),h=a(57287),m=a(94799),p=a(24343),u=a(33699),x=a(42579),g=a(80172),b=a(19181),y=a(78403),f=a(17873),A=a(83759),j=a(94527),v=a(84339),C=a(28259),w=a(87443),k=a(10756),S=a(86172),z=a(81341),D=a(34375),I=a(41859),W=a(73849),R=a(38517),X=a(78776),M=a(32911),T=a(60894),P=a(96128),B=a(90160),K=a(70923),V=a(22950),L=a(6013),E=a(4573),H=a(1422),q=a(8297),_=a(8888),F=a(27421),O=a(82058),N=a(17171),U=a(74117),Y=a(70579);const Z=[{id:"1",name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",owner:"Tr\u1ea7n Th\u1ecb B",leadStatus:"Hot Lead",statusColor:"#f44336"},{id:"2",name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.com",phone:"0987654321",owner:"Ph\u1ea1m V\u0103n C",leadStatus:"Qualified",statusColor:"#4caf50"},{id:"3",name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.vn",phone:"0912345678",owner:"Nguy\u1ec5n Th\u1ecb D",leadStatus:"New Lead",statusColor:"#2196f3"}],Q=[{id:"1",name:"H\u1ec7 th\u1ed1ng CRM cho ABC Corp",customer:"ABC Corporation",amount:25e7,stage:"\u0110\xe3 g\u1eedi b\xe1o gi\xe1",stageColor:"#ff9800",deadline:"2024-02-15"},{id:"2",name:"Gi\u1ea3i ph\xe1p ERP XYZ",customer:"XYZ Trading",amount:18e7,stage:"\u0110ang \u0111\xe0m ph\xe1n",stageColor:"#9c27b0",deadline:"2024-02-28"},{id:"3",name:"T\u01b0 v\u1ea5n Marketing Digital",customer:"Innovation Startup",amount:75e6,stage:"Li\xean h\u1ec7 ban \u0111\u1ea7u",stageColor:"#607d8b",deadline:"2024-03-10"}],J=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab"),G=(e,t)=>{var a;const s=Q.reduce((e,t)=>e+t.amount,0),n=Q.reduce((e,t)=>(e[t.stage]=(e[t.stage]||0)+1,e),{}),r=(null===(a=Object.entries(n).sort((e,t)=>t[1]-e[1])[0])||void 0===a?void 0:a[0])||"";return[t("pages.assistant.mock.summary.foundContacts",{count:Z.length}),t("pages.assistant.mock.summary.openDealsTotal",{count:Q.length,total:J(s)}),t("pages.assistant.mock.summary.manyDealsAtStage",{stage:r}),t("pages.assistant.mock.summary.currentLeadConversion",{percent:65})]},$=e=>{let{type:t,data:a,onAction:s}=e;const n=(0,r.A)(),{t:o,i18n:d}=(0,U.Bd)(),c=d.language&&d.language.startsWith("ja")?"ja-JP":"en-US",h=e=>{const t=new Date(e);return new Intl.DateTimeFormat(c,{year:"numeric",month:"2-digit",day:"2-digit"}).format(t)};if("contacts"===t){const e=a;return(0,Y.jsx)(C.A,{component:m.A,sx:{maxHeight:200,border:"1px solid ".concat((0,l.X4)(n.palette.divider,.3))},children:(0,Y.jsxs)(w.A,{size:"small",stickyHeader:!0,children:[(0,Y.jsx)(k.A,{children:(0,Y.jsxs)(S.A,{children:[(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.contacts.columns.name")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.contacts.columns.email")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.contacts.columns.owner")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.contacts.columns.leadStatus")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.contacts.columns.actions")})]})}),(0,Y.jsx)(D.A,{children:e.map(e=>(0,Y.jsxs)(S.A,{hover:!0,children:[(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"medium"},children:e.name}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.email}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.owner}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(A.A,{label:e.leadStatus,size:"small",sx:{backgroundColor:(0,l.X4)(e.statusColor,.1),color:e.statusColor,border:"1px solid ".concat((0,l.X4)(e.statusColor,.3)),fontSize:"0.65rem",height:20}})}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(T.A,{fontSize:"small"}),onClick:()=>s("open",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:o("pages.assistant.buttons.open")})})]},e.id))})]})})}const p=a;return(0,Y.jsx)(C.A,{component:m.A,sx:{maxHeight:200,border:"1px solid ".concat((0,l.X4)(n.palette.divider,.3))},children:(0,Y.jsxs)(w.A,{size:"small",stickyHeader:!0,children:[(0,Y.jsx)(k.A,{children:(0,Y.jsxs)(S.A,{children:[(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.dealName")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.customer")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.amount")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.stage")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.expectedCloseDate")}),(0,Y.jsx)(z.A,{sx:{fontWeight:"bold",fontSize:"0.75rem"},children:o("pages.deals.columns.actions")})]})}),(0,Y.jsx)(D.A,{children:p.map(e=>(0,Y.jsxs)(S.A,{hover:!0,children:[(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"medium"},children:e.name}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:e.customer}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.8rem",fontWeight:"bold",color:"success.main"},children:J(e.amount)}),(0,Y.jsx)(z.A,{children:(0,Y.jsx)(A.A,{label:e.stage,size:"small",sx:{backgroundColor:(0,l.X4)(e.stageColor,.1),color:e.stageColor,border:"1px solid ".concat((0,l.X4)(e.stageColor,.3)),fontSize:"0.65rem",height:20}})}),(0,Y.jsx)(z.A,{sx:{fontSize:"0.75rem"},children:h(e.deadline)}),(0,Y.jsx)(z.A,{children:(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:.5},children:[(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(T.A,{fontSize:"small"}),onClick:()=>s("open",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:o("pages.assistant.buttons.open")}),(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(P.A,{fontSize:"small"}),onClick:()=>s("task",e.id),sx:{fontSize:"0.7rem",minWidth:"auto",px:1},children:o("pages.assistant.buttons.task")})]})})]},e.id))})]})})},ee=e=>{let{data:t,loading:a,onToggleSection:s,onAction:n}=e;const o=(0,r.A)(),{t:c}=(0,U.Bd)();return a?(0,Y.jsxs)(m.A,{sx:{p:3,mb:2,borderRadius:3,border:"1px solid ".concat((0,l.X4)(o.palette.primary.main,.2))},children:[(0,Y.jsx)(W.A,{variant:"text",width:"60%",height:32,sx:{mb:2}}),(0,Y.jsx)(i.A,{sx:{mb:2},children:[1,2,3].map(e=>(0,Y.jsx)(W.A,{variant:"text",width:"80%",height:24,sx:{mb:.5}},e))}),(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:120,sx:{mb:2,borderRadius:1}}),(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:120,sx:{borderRadius:1}})]}):(0,Y.jsxs)(m.A,{sx:{p:3,mb:2,borderRadius:3,border:"1px solid ".concat((0,l.X4)(o.palette.primary.main,.2)),backgroundColor:(0,l.X4)(o.palette.primary.main,.02)},children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,color:"primary.main"},children:c("pages.assistant.resultsFor",{query:t.query})}),(0,Y.jsx)(i.A,{sx:{mb:3},children:t.summary.map((e,t)=>(0,Y.jsxs)(d.A,{variant:"body2",sx:{mb:.5,display:"flex",alignItems:"center"},children:[(0,Y.jsx)(i.A,{sx:{width:4,height:4,borderRadius:"50%",backgroundColor:"primary.main",mr:1}}),e]},t))}),(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:1,mb:3},children:[(0,Y.jsx)(A.A,{icon:(0,Y.jsx)(B.A,{fontSize:"small"}),label:c("common.contacts"),variant:t.showContacts?"filled":"outlined",color:t.showContacts?"primary":"default",onClick:()=>s("contacts"),sx:{cursor:"pointer"}}),(0,Y.jsx)(A.A,{icon:(0,Y.jsx)(K.A,{fontSize:"small"}),label:c("common.deals"),variant:t.showDeals?"filled":"outlined",color:t.showDeals?"primary":"default",onClick:()=>s("deals"),sx:{cursor:"pointer"}})]}),t.showContacts&&(0,Y.jsxs)(i.A,{sx:{mb:3},children:[(0,Y.jsx)(d.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:c("pages.assistant.topContacts")}),(0,Y.jsx)($,{type:"contacts",data:t.contacts,onAction:n})]}),t.showDeals&&(0,Y.jsxs)(i.A,{sx:{mb:3},children:[(0,Y.jsx)(d.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:c("pages.assistant.openDeals")}),(0,Y.jsx)($,{type:"deals",data:t.deals,onAction:n})]}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1.5},children:c("pages.assistant.nextSuggestions")}),(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(V.A,{fontSize:"small"}),variant:"outlined",onClick:()=>n("create-contact"),children:c("pages.assistant.actions.createContact")}),(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(L.A,{fontSize:"small"}),variant:"outlined",onClick:()=>n("create-deal"),children:c("pages.assistant.actions.createDeal")}),(0,Y.jsx)(I.A,{size:"small",startIcon:(0,Y.jsx)(E.A,{fontSize:"small"}),variant:"outlined",onClick:()=>n("send-email"),children:c("pages.assistant.actions.sendDraftEmail")})]})]})]})},te=e=>{let{message:t,onToggleSection:a,onAction:s}=e;(0,r.A)();const n="user"===t.type;return(0,Y.jsx)(i.A,{sx:{display:"flex",justifyContent:n?"flex-end":"flex-start",mb:2},children:(0,Y.jsx)(i.A,{sx:{maxWidth:"80%",width:t.isCard?"100%":"auto"},children:t.isCard&&t.cardData?(0,Y.jsx)(ee,{data:t.cardData,onToggleSection:a,onAction:s}):(0,Y.jsx)(m.A,{sx:{p:2,backgroundColor:n?"primary.main":"grey.100",color:n?"primary.contrastText":"text.primary",borderRadius:n?"18px 18px 4px 18px":"18px 18px 18px 4px",maxWidth:"fit-content"},children:(0,Y.jsx)(d.A,{variant:"body2",children:t.content})})})})},ae=e=>{let{open:t,initialQuery:a="",onClose:o,onMinimize:c}=e;const h=(0,r.A)(),{t:g}=(0,U.Bd)(),[b,y]=(0,n.useState)([]),[f,A]=(0,n.useState)(""),[j,v]=(0,n.useState)(!1),[C,w]=(0,n.useState)(""),[k,S]=(0,n.useState)(null),[z,D]=(0,n.useState)({open:!1,message:""}),I=(0,n.useRef)(null);(0,n.useEffect)(()=>{t&&a&&0===b.length&&(w(a.split(" ").slice(0,6).join(" ")),W(a,!0))},[t,a]),(0,n.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[b]);const W=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.trim())return;const a={id:Date.now().toString(),type:"user",content:e,timestamp:new Date};y(e=>[...e,a]),A(""),v(!0),setTimeout(()=>{if(v(!1),t){const t={query:e,summary:G(0,g),contacts:Z,deals:Q,showContacts:!0,showDeals:!0},a={id:(Date.now()+1).toString(),type:"assistant",content:"",timestamp:new Date,isCard:!0,cardData:t};S(t),y(e=>[...e,a])}else{const e=["T\xf4i \u0111\xe3 ph\xe2n t\xedch d\u1eef li\u1ec7u v\xe0 t\xecm th\u1ea5y m\u1ed9t s\u1ed1 th\xf4ng tin h\u1eefu \xedch. B\u1ea1n c\xf3 mu\u1ed1n t\xf4i t\u1ea1o b\xe1o c\xe1o chi ti\u1ebft kh\xf4ng?",'D\u1ef1a tr\xean d\u1eef li\u1ec7u hi\u1ec7n t\u1ea1i, t\xf4i khuy\xean b\u1ea1n n\xean t\u1eadp trung v\xe0o c\xe1c lead \u0111ang \u1edf giai \u0111o\u1ea1n "\u0110\xe3 g\u1eedi b\xe1o gi\xe1".',"C\xf3 v\u1ebb nh\u01b0 b\u1ea1n c\xf3 nhi\u1ec1u c\u01a1 h\u1ed9i ti\u1ec1m n\u0103ng. T\xf4i c\xf3 th\u1ec3 gi\xfap b\u1ea1n \u01b0u ti\xean theo gi\xe1 tr\u1ecb deal.","T\xf4i nh\u1eadn th\u1ea5y m\u1ed9t s\u1ed1 xu h\u01b0\u1edbng th\xfa v\u1ecb trong d\u1eef li\u1ec7u c\u1ee7a b\u1ea1n. B\u1ea1n mu\u1ed1n xem ph\xe2n t\xedch chi ti\u1ebft kh\xf4ng?"],t={id:(Date.now()+1).toString(),type:"assistant",content:e[Math.floor(Math.random()*e.length)],timestamp:new Date};y(e=>[...e,t])}},1500)},T=e=>{if(!k)return;const t=(0,s.A)((0,s.A)({},k),{},{["contacts"===e?"showContacts":"showDeals"]:!k["contacts"===e?"showContacts":"showDeals"]});S(t),y(e=>e.map(e=>e.isCard?(0,s.A)((0,s.A)({},e),{},{cardData:t}):e))},P=(e,t)=>{D({open:!0,message:{open:"(mock) \u0110\xe3 m\u1edf chi ti\u1ebft",task:"(mock) \u0110\xe3 t\u1ea1o task","create-contact":"(mock) \u0110\xe3 t\u1ea1o li\xean h\u1ec7 m\u1edbi","create-deal":"(mock) \u0110\xe3 t\u1ea1o c\u01a1 h\u1ed9i m\u1edbi","send-email":"(mock) \u0110\xe3 g\u1eedi email nh\xe1p"}[e]||"(mock) \u0110\xe3 th\u1ef1c hi\u1ec7n"})};return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(R.A,{open:t,onClose:o,maxWidth:!1,PaperProps:{sx:{width:"960px",height:"75vh",maxWidth:"90vw",maxHeight:"90vh",borderRadius:3,overflow:"hidden"}},BackdropProps:{sx:{backgroundColor:(0,l.X4)(h.palette.common.black,.5),backdropFilter:"blur(4px)"}},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottom:"1px solid ".concat(h.palette.divider),backgroundColor:h.palette.background.paper,position:"sticky",top:0,zIndex:1},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(H.A,{color:"primary"}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold",lineHeight:1},children:g("pages.assistant.assistant")}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:C||"Start new chat"})]})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:.5},children:[(0,Y.jsx)(x.A,{size:"small",onClick:c,children:(0,Y.jsx)(q.A,{fontSize:"small"})}),(0,Y.jsx)(x.A,{size:"small",children:(0,Y.jsx)(_.A,{fontSize:"small"})}),(0,Y.jsx)(x.A,{size:"small",onClick:o,children:(0,Y.jsx)(F.A,{fontSize:"small"})})]})]}),(0,Y.jsxs)(X.A,{sx:{flex:1,p:0,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Y.jsx)(i.A,{sx:{flex:1,overflow:"auto",p:2,"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:(0,l.X4)(h.palette.grey[300],.2)},"&::-webkit-scrollbar-thumb":{backgroundColor:(0,l.X4)(h.palette.primary.main,.3),borderRadius:"3px","&:hover":{backgroundColor:(0,l.X4)(h.palette.primary.main,.5)}}},children:0===b.length?(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",color:"text.secondary"},children:[(0,Y.jsx)(H.A,{sx:{fontSize:48,mb:2,opacity:.5}}),(0,Y.jsx)(d.A,{variant:"body1",children:g("pages.assistant.emptyPrompt")})]}):(0,Y.jsxs)(Y.Fragment,{children:[b.map(e=>(0,Y.jsx)(te,{message:e,onToggleSection:T,onAction:P},e.id)),j&&(0,Y.jsx)(i.A,{sx:{display:"flex",justifyContent:"flex-start",mb:2},children:(0,Y.jsx)(m.A,{sx:{p:2,backgroundColor:"grey.100",borderRadius:"18px 18px 18px 4px",maxWidth:"fit-content"},children:(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",children:g("pages.assistant.typing")})})}),(0,Y.jsx)("div",{ref:I})]})}),(0,Y.jsxs)(i.A,{sx:{p:2,borderTop:"1px solid ".concat(h.palette.divider),backgroundColor:h.palette.background.paper,position:"sticky",bottom:0},children:[(0,Y.jsx)(p.A,{fullWidth:!0,multiline:!0,maxRows:3,placeholder:g("pages.assistant.inputPlaceholder"),value:f,onChange:e=>A(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),W(f))},InputProps:{endAdornment:(0,Y.jsxs)(u.A,{position:"end",children:[(0,Y.jsx)(x.A,{size:"small",sx:{mr:.5},children:(0,Y.jsx)(O.A,{fontSize:"small"})}),(0,Y.jsx)(x.A,{size:"small",color:"primary",onClick:()=>W(f),disabled:!f.trim(),children:(0,Y.jsx)(N.A,{fontSize:"small"})})]}),sx:{borderRadius:3,"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(h.palette.primary.main,.3)}}}}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:g("pages.assistant.mock.disclaimer")})]})]})]}),(0,Y.jsx)(M.A,{open:z.open,autoHideDuration:3e3,onClose:()=>D((0,s.A)((0,s.A)({},z),{},{open:!1})),message:z.message,anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})};var se=a(73216),ne=a(63745),re=a(95007),ie=a(76678),oe=a(60450),le=a(58315),de=a(49982),ce=a(18844),he=a(26529),me=a(69200),pe=a(53974),ue=a(82518),xe=a(27601),ge=a(92248),be=a(85662),ye=a(8104),fe=a(69302);const Ae=()=>{const e=(0,r.A)(),{t:t}=(0,U.Bd)(),[a,c]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[u,g]=(0,n.useState)(!0),[b,y]=(0,n.useState)(new Date),[f,j]=(0,n.useState)(0),[v,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{w(),k();const e=setInterval(()=>{S(),z()},3e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{if(0===a.length||v)return;const e=setInterval(()=>{j(e=>(e+1)%a.length)},5e3);return()=>clearInterval(e)},[a.length,v]);const w=async()=>{g(!0),await new Promise(e=>setTimeout(e,1e3));const a=new Date,s=[{id:"new_customers",title:t("pages.dashboard.kpiStats.newCustomers"),value:Math.floor(20*Math.random())+15,change:30*Math.random()-10,changeLabel:t("pages.dashboard.kpiStats.comparedToLastWeek"),icon:(0,Y.jsx)(de.A,{}),color:e.palette.primary.main,description:t("pages.dashboard.kpiStats.newCustomers"),lastUpdated:a},{id:"total_deals",title:t("pages.dashboard.kpiStats.totalDeals"),value:Math.floor(50*Math.random())+120,change:25*Math.random()-5,changeLabel:t("pages.dashboard.kpiStats.comparedToLastMonth"),icon:(0,Y.jsx)(me.A,{}),color:e.palette.success.main,description:t("pages.dashboard.kpiStats.totalDeals"),lastUpdated:a},{id:"revenue",title:t("pages.dashboard.kpiStats.revenueActual"),value:"".concat((500*Math.random()+1500).toFixed(0),"K"),change:40*Math.random()-10,changeLabel:t("pages.dashboard.kpiStats.comparedToLastMonth"),icon:(0,Y.jsx)(pe.A,{}),color:e.palette.warning.main,description:t("pages.dashboard.kpiStats.revenueActual"),lastUpdated:a},{id:"deal_pipeline",title:t("pages.dashboard.kpiStats.dealByStage"),value:"".concat(Math.floor(10*Math.random())+25),change:20*Math.random()-5,changeLabel:t("pages.dashboard.kpiStats.closedThisMonth"),icon:(0,Y.jsx)(ue.A,{}),color:e.palette.info.main,description:t("pages.dashboard.kpiStats.dealByStage"),lastUpdated:a},{id:"top_performer",title:t("pages.dashboard.kpiStats.topEmployee"),value:"Nguy\u1ec5n V\u0103n A",change:8,changeLabel:t("pages.dashboard.kpiStats.closedThisMonth"),icon:(0,Y.jsx)(xe.A,{}),color:e.palette.secondary.main,description:t("pages.dashboard.kpiStats.topEmployee"),lastUpdated:a}];c(s),g(!1)},k=async()=>{const e=[{id:"update_1",title:t("pages.dashboard.dynamicKPI.updates.dealCreated.title"),description:t("pages.dashboard.dynamicKPI.updates.dealCreated.description",{value:"250K"}),timestamp:new Date(Date.now()-3e5),type:"deal_closed",value:"250K",isNew:!0},{id:"update_2",title:t("pages.dashboard.dynamicKPI.updates.newCustomer.title"),description:t("pages.dashboard.dynamicKPI.updates.newCustomer.description",{customer:"XYZ Corporation"}),timestamp:new Date(Date.now()-9e5),type:"new_customer",isNew:!0},{id:"update_3",title:t("pages.dashboard.dynamicKPI.updates.marketTrend.title"),description:t("pages.dashboard.dynamicKPI.updates.marketTrend.description",{percent:35}),timestamp:new Date(Date.now()-18e5),type:"market_trend"}];p(e)},S=async()=>{c(e=>e.map(e=>(0,s.A)((0,s.A)({},e),{},{value:"new_customers"===e.id?Math.floor(20*Math.random())+15:"total_deals"===e.id?Math.floor(50*Math.random())+120:"revenue"===e.id?"".concat((500*Math.random()+1500).toFixed(0),"K"):e.value,change:30*Math.random()-10,lastUpdated:new Date}))),y(new Date)},z=()=>{const e=[{title:t("pages.dashboard.dynamicKPI.updates.dealUpdated.title"),description:t("pages.dashboard.dynamicKPI.updates.dealUpdated.description",{deal:"CRM System"}),type:"deal_closed"},{title:t("pages.dashboard.dynamicKPI.updates.newCustomer.title"),description:t("pages.dashboard.dynamicKPI.updates.newCustomer.description",{customer:"Tech Startup DEF"}),type:"new_customer"},{title:t("pages.dashboard.dynamicKPI.updates.revenueMilestone.title"),description:t("pages.dashboard.dynamicKPI.updates.revenueMilestone.description",{value:"2M"}),type:"revenue_milestone",value:"2M"}],a=e[Math.floor(Math.random()*e.length)],n={id:"update_".concat(Date.now()),title:a.title,description:a.description,timestamp:new Date,type:a.type,value:a.value,isNew:!0};p(e=>[n,...e.slice(0,9)]),setTimeout(()=>{p(e=>e.map(e=>e.id===n.id?(0,s.A)((0,s.A)({},e),{},{isNew:!1}):e))},1e4)},D=t=>t>0?e.palette.success.main:t<0?e.palette.error.main:e.palette.text.secondary,I=e=>{const a=(new Date).getTime()-e.getTime(),s=Math.floor(a/6e4),n=Math.floor(a/36e5);return s<1?t("pages.dashboard.dynamicKPI.timeAgo.justNow"):s<60?t("pages.dashboard.dynamicKPI.timeAgo.minutes",{count:s}):n<24?t("pages.dashboard.dynamicKPI.timeAgo.hours",{count:n}):t("pages.dashboard.dynamicKPI.timeAgo.date",{date:e.toLocaleDateString()})};return(0,Y.jsxs)(i.A,{sx:{mb:4},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{variant:"h5",sx:{fontWeight:"bold",color:"text.primary"},children:t("pages.dashboard.dynamicKPI.header")}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[(0,Y.jsx)(A.A,{label:t("pages.dashboard.dynamicKPI.updatesCount",{count:h.length}),size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.primary.main,.1),color:e.palette.primary.main,fontWeight:"bold"}}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:t("pages.dashboard.dynamicKPI.lastUpdated",{time:I(b)})})]})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(he.A,{title:t(v?"pages.dashboard.dynamicKPI.tooltip.showCarousel":"pages.dashboard.dynamicKPI.tooltip.showAll"),children:(0,Y.jsx)(x.A,{size:"small",onClick:()=>C(!v),children:v?(0,Y.jsx)(be.A,{}):(0,Y.jsx)(ye.A,{})})}),(0,Y.jsx)(he.A,{title:t("pages.dashboard.dynamicKPI.tooltip.refresh"),children:(0,Y.jsx)(x.A,{onClick:async()=>{await S(),z()},color:"primary",children:(0,Y.jsx)(fe.A,{})})})]})]}),(0,Y.jsx)(i.A,{sx:{position:"relative",minHeight:180,mb:4},children:(0,Y.jsx)(i.A,{sx:{display:v?"grid":"block",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(5, 1fr)"},gap:3,position:"relative",minHeight:150},children:a.map((e,t)=>{return(0,Y.jsx)(o.A,{in:v||f===t,timeout:{enter:500,exit:300},style:{display:v||f===t?"block":"none",transitionDelay:v?"".concat(100*t,"ms"):"0ms"},children:(0,Y.jsxs)(m.A,{elevation:2,sx:{p:2.5,height:"100%",borderRadius:2,background:"linear-gradient(135deg, ".concat((0,l.X4)(e.color,.05)," 0%, ").concat((0,l.X4)(e.color,.02)," 100%)"),border:"1px solid ".concat((0,l.X4)(e.color,.1)),transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",position:v?"relative":"absolute",top:0,left:0,width:v?"auto":"100%",zIndex:v||f!==t?1:2,"&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 25px ".concat((0,l.X4)(e.color,.15))}},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,Y.jsx)(i.A,{sx:{display:"flex",alignItems:"center",p:1,borderRadius:1,backgroundColor:(0,l.X4)(e.color,.1)},children:(0,Y.jsx)(i.A,{sx:{color:e.color},children:e.icon})}),(0,Y.jsx)(d.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:e.color},children:e.title})]}),u?(0,Y.jsx)(W.A,{variant:"rectangular",width:"100%",height:40}):(0,Y.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",mb:1,color:"text.primary"},children:e.value}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(a=e.change,a>0?(0,Y.jsx)(L.A,{sx:{fontSize:16}}):a<0?(0,Y.jsx)(ge.A,{sx:{fontSize:16}}):null),(0,Y.jsxs)(d.A,{variant:"caption",sx:{color:D(e.change),fontWeight:"medium"},children:[e.change>0?"+":"",e.change.toFixed(1),"%"]}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:e.changeLabel})]}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:e.description})]})},e.id);var a})})}),(0,Y.jsxs)(m.A,{elevation:1,sx:{borderRadius:2,overflow:"hidden",border:"1px solid ".concat(e.palette.divider)},children:[(0,Y.jsxs)(i.A,{sx:{p:2,backgroundColor:(0,l.X4)(e.palette.primary.main,.05),borderBottom:"1px solid ".concat(e.palette.divider)},children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold"},children:t("pages.dashboard.dynamicKPI.activity.title")}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:t("pages.dashboard.dynamicKPI.activity.subtitle")})]}),(0,Y.jsx)(i.A,{sx:{maxHeight:300,overflow:"auto"},children:h.map((a,s)=>(0,Y.jsx)(i.A,{sx:{p:2,borderBottom:s<h.length-1?"1px solid ".concat(e.palette.divider):"none",backgroundColor:a.isNew?(0,l.X4)(e.palette.success.main,.05):"transparent",transition:"all 0.3s ease","&:hover":{backgroundColor:(0,l.X4)(e.palette.action.hover,.5)}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Y.jsxs)(i.A,{sx:{flex:1},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[(0,Y.jsx)(d.A,{variant:"subtitle2",sx:{fontWeight:"bold"},children:a.title}),a.isNew&&(0,Y.jsx)(A.A,{label:t("pages.dashboard.dynamicKPI.activity.new"),size:"small",sx:{height:18,fontSize:"0.7rem",backgroundColor:e.palette.success.main,color:"white"}}),a.value&&(0,Y.jsx)(A.A,{label:a.value,size:"small",variant:"outlined",sx:{height:18,fontSize:"0.7rem"}})]}),(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",children:a.description})]}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",sx:{ml:2},children:I(a.timestamp)})]})},a.id))})]})]})};var je=a(80045),ve=a(14333),Ce=a(12843),we=a(91244),ke=a(16128),Se=a(26020),ze=a(95315),De=a(57401),Ie=a(24244),We=a(66185),Re=a(19934),Xe=a(9700),Me=a(80650),Te=a(50311),Pe=a(26635);const Be=["children","value","index"];function Ke(e){const{children:t,value:a,index:n}=e,r=(0,je.A)(e,Be);return(0,Y.jsx)("div",(0,s.A)((0,s.A)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:a===n&&(0,Y.jsx)(i.A,{sx:{pt:3},children:t})}))}const Ve=()=>{const e=(0,r.A)(),{t:t,i18n:a}=(0,U.Bd)(),[o,c]=(0,n.useState)(0),[h,p]=(0,n.useState)([]),[u,g]=(0,n.useState)([]),[b,y]=(0,n.useState)([]),[v,C]=(0,n.useState)(!0);(0,n.useEffect)(()=>{w();const e=setInterval(w,12e4);return()=>clearInterval(e)},[]);const w=async()=>{C(!0);try{const e={id:"trending_".concat(Date.now()),type:"market_analysis",data:{type:"trending"},timestamp:new Date},t=await Pe.Z.processRequest(e);p(k(t.result));const a={id:"insights_".concat(Date.now()),type:"market_analysis",data:{type:"insights"},timestamp:new Date},s=await Pe.Z.processRequest(a);g(S(s.result));const n={id:"predictions_".concat(Date.now()),type:"deal_prediction",data:{type:"predictions"},timestamp:new Date},r=await Pe.Z.processRequest(n);y(z(r.result))}catch(e){console.error("Error loading data:",e)}finally{C(!1)}},k=a=>{const n=(null===a||void 0===a?void 0:a.trends)||[],r=[{id:"cloud-computing",title:"Cloud Computing",description:t("pages.dashboard.trendingDefaults.trends.cloud","SMEs are moving to cloud at record speed"),growth:"+25%",confidence:.92,category:"technology",icon:(0,Y.jsx)(Re.A,{}),color:e.palette.primary.main},{id:"ai-solutions",title:"AI/ML Solutions",description:t("pages.dashboard.trendingDefaults.trends.ai","Demand for AI solutions surges across enterprises"),growth:"+35%",confidence:.88,category:"technology",icon:(0,Y.jsx)(Xe.A,{}),color:e.palette.secondary.main},{id:"cybersecurity",title:"Cybersecurity",description:t("pages.dashboard.trendingDefaults.trends.cyber","Cybersecurity becomes top priority after attacks"),growth:"+18%",confidence:.85,category:"technology",icon:(0,Y.jsx)(K.A,{}),color:e.palette.warning.main},{id:"digital-transformation",title:"Digital Transformation",description:t("pages.dashboard.trendingDefaults.trends.dx","Digital transformation accelerates across industries"),growth:"+22%",confidence:.9,category:"industry",icon:(0,Y.jsx)(L.A,{}),color:e.palette.success.main}];return n.length>0?n.map((e,t)=>(0,s.A)((0,s.A)({},r[t%r.length]),{},{title:e.name||r[t%r.length].title,growth:e.growth||r[t%r.length].growth,confidence:e.confidence||r[t%r.length].confidence})):r},S=e=>{const a=(null===e||void 0===e?void 0:e.insights)||[],n=[{id:"market-growth",title:t("pages.dashboard.trendingDefaults.insights.marketGrowth.title","Tech market booms in Q4"),description:t("pages.dashboard.trendingDefaults.insights.marketGrowth.desc","Revenue from tech projects up 28% vs Q3, led by AI and Cloud"),impact:"high",actionable:!0,source:"Market Analysis AI",timestamp:new Date},{id:"customer-behavior",title:t("pages.dashboard.trendingDefaults.insights.customerBehavior.title","Customer behavior shifts"),description:t("pages.dashboard.trendingDefaults.insights.customerBehavior.desc","SMEs prefer integrated solutions over standalone products"),impact:"medium",actionable:!0,source:"Customer Analytics",timestamp:new Date(Date.now()-18e5)},{id:"competitive-landscape",title:t("pages.dashboard.trendingDefaults.insights.competitive.title","Competitive landscape shifts"),description:t("pages.dashboard.trendingDefaults.insights.competitive.desc","Rivals focus on pricing; adjust pricing strategy"),impact:"high",actionable:!0,source:"Competitive Intelligence",timestamp:new Date(Date.now()-36e5)},{id:"technology-adoption",title:t("pages.dashboard.trendingDefaults.insights.techAdoption.title","Faster tech adoption"),description:t("pages.dashboard.trendingDefaults.insights.techAdoption.desc","Time from demo to purchase down 40%\u2014faster decisions"),impact:"medium",actionable:!1,source:"Sales Analytics",timestamp:new Date(Date.now()-54e5)}];return a.length>0?a.map((e,t)=>(0,s.A)((0,s.A)({},n[t%n.length]),{},{description:e})):n},z=e=>{const a=(null===e||void 0===e?void 0:e.topDeals)||[],n=[{id:"deal-abc-corp",title:t("pages.dashboard.trendingDefaults.predictions.abcDeal.title","Deal ABC Corp - ERP System"),description:t("pages.dashboard.trendingDefaults.predictions.abcDeal.desc","ERP implementation for ABC Corp likely to succeed"),probability:.85,timeframe:t("pages.dashboard.trendingDefaults.predictions.abcDeal.timeframe","2 weeks"),value:"250K",type:"deal",riskLevel:"low"},{id:"market-ai-growth",title:t("pages.dashboard.trendingDefaults.predictions.aiMarket.title","AI market will surge"),description:t("pages.dashboard.trendingDefaults.predictions.aiMarket.desc","AI/ML market to grow 40% in next 6 months"),probability:.78,timeframe:t("pages.dashboard.trendingDefaults.predictions.aiMarket.timeframe","6 months"),type:"market",riskLevel:"medium"},{id:"customer-xyz-expansion",title:t("pages.dashboard.trendingDefaults.predictions.xyzCustomer.title","Customer XYZ expansion"),description:t("pages.dashboard.trendingDefaults.predictions.xyzCustomer.desc","XYZ Ltd likely to buy CRM module in Q1 next year"),probability:.72,timeframe:t("pages.dashboard.trendingDefaults.predictions.xyzCustomer.timeframe","3 months"),value:"180K",type:"customer",riskLevel:"low"},{id:"revenue-milestone",title:t("pages.dashboard.trendingDefaults.predictions.revenueMilestone.title","Reach 3M revenue milestone"),description:t("pages.dashboard.trendingDefaults.predictions.revenueMilestone.desc","Forecast to reach 3M revenue in Q1 next year"),probability:.68,timeframe:t("pages.dashboard.trendingDefaults.predictions.revenueMilestone.timeframe","4 months"),value:"3M",type:"revenue",riskLevel:"medium"}];return a.length>0?a.map((e,t)=>(0,s.A)((0,s.A)({},n[t%n.length]),{},{title:e.name||n[t%n.length].title,probability:e.probability||n[t%n.length].probability,value:e.value?"".concat(e.value):n[t%n.length].value})):n},D=t=>{switch(t){case"high":return e.palette.error.main;case"medium":return e.palette.warning.main;case"low":return e.palette.success.main;default:return e.palette.text.secondary}},I=t=>{switch(t){case"high":return e.palette.error.main;case"medium":return e.palette.warning.main;case"low":return e.palette.success.main;default:return e.palette.text.secondary}},W=e=>{switch(e){case"deal":return(0,Y.jsx)(pe.A,{});case"market":return(0,Y.jsx)(Re.A,{});case"customer":return(0,Y.jsx)(de.A,{});case"revenue":return(0,Y.jsx)(L.A,{});default:return(0,Y.jsx)(xe.A,{})}};return(0,Y.jsxs)(m.A,{elevation:2,sx:{borderRadius:2,overflow:"hidden"},children:[(0,Y.jsx)(i.A,{sx:{p:3,backgroundColor:(0,l.X4)(e.palette.primary.main,.05),borderBottom:"1px solid ".concat(e.palette.divider)},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{variant:"h5",sx:{fontWeight:"bold",mb:1},children:t("pages.dashboard.trendingInsights.header")}),(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",children:t("pages.dashboard.trendingInsights.subtitle")})]}),(0,Y.jsx)(he.A,{title:t("pages.dashboard.trendingInsights.tooltip.refresh"),children:(0,Y.jsx)(x.A,{onClick:w,color:"primary",children:(0,Y.jsx)(fe.A,{})})})]})}),(0,Y.jsx)(i.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Y.jsxs)(ve.A,{value:o,onChange:(e,t)=>c(t),sx:{px:3},children:[(0,Y.jsx)(Ce.A,{icon:(0,Y.jsx)(L.A,{}),label:t("pages.dashboard.trendingInsights.tabs.trending"),iconPosition:"start",sx:{minHeight:"auto",py:2}}),(0,Y.jsx)(Ce.A,{icon:(0,Y.jsx)(Me.A,{}),label:t("pages.dashboard.trendingInsights.tabs.insights"),iconPosition:"start",sx:{minHeight:"auto",py:2}}),(0,Y.jsx)(Ce.A,{icon:(0,Y.jsx)(ue.A,{}),label:t("pages.dashboard.trendingInsights.tabs.predictions"),iconPosition:"start",sx:{minHeight:"auto",py:2}})]})}),(0,Y.jsxs)(i.A,{sx:{p:3},children:[(0,Y.jsx)(Ke,{value:o,index:0,children:(0,Y.jsx)(i.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2},children:h.map(a=>(0,Y.jsx)(we.A,{elevation:1,sx:{height:"100%",border:"1px solid ".concat((0,l.X4)(a.color,.2)),"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 20px ".concat((0,l.X4)(a.color,.15))},transition:"all 0.3s ease"},children:(0,Y.jsxs)(ke.A,{children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Y.jsx)(f.A,{sx:{backgroundColor:(0,l.X4)(a.color,.1),color:a.color,mr:2},children:a.icon}),(0,Y.jsxs)(i.A,{sx:{flex:1},children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold"},children:a.title}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,Y.jsx)(A.A,{label:a.growth,size:"small",icon:(0,Y.jsx)(Te.A,{sx:{fontSize:14}}),sx:{backgroundColor:(0,l.X4)(e.palette.success.main,.1),color:e.palette.success.main,fontWeight:"bold"}}),(0,Y.jsxs)(d.A,{variant:"caption",color:"text.secondary",children:[t("pages.dashboard.trendingInsights.labels.confidence"),": ",Math.round(100*a.confidence),"%"]})]})]})]}),(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",children:a.description}),(0,Y.jsx)(Se.A,{variant:"determinate",value:100*a.confidence,sx:{mt:2,height:6,borderRadius:3,backgroundColor:(0,l.X4)(a.color,.1),"& .MuiLinearProgress-bar":{backgroundColor:a.color,borderRadius:3}}})]})},a.id))})}),(0,Y.jsx)(Ke,{value:o,index:1,children:(0,Y.jsx)(ze.A,{children:u.map((s,r)=>(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsxs)(De.Ay,{alignItems:"flex-start",sx:{px:0},children:[(0,Y.jsx)(Ie.A,{children:(0,Y.jsx)(f.A,{sx:{backgroundColor:(0,l.X4)(D(s.impact),.1),color:D(s.impact)},children:(0,Y.jsx)(Me.A,{})})}),(0,Y.jsx)(We.A,{primary:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,Y.jsx)(d.A,{variant:"subtitle1",sx:{fontWeight:"bold"},children:s.title}),(0,Y.jsx)(A.A,{label:s.impact.toUpperCase(),size:"small",sx:{backgroundColor:(0,l.X4)(D(s.impact),.1),color:D(s.impact),fontWeight:"bold",fontSize:"0.7rem"}}),s.actionable&&(0,Y.jsx)(A.A,{label:t("pages.dashboard.trendingInsights.labels.actionable"),size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.info.main,.1),color:e.palette.info.main,fontSize:"0.7rem"}})]}),secondary:(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:s.description}),(0,Y.jsxs)(d.A,{variant:"caption",color:"text.secondary",children:[t("pages.dashboard.trendingInsights.labels.source"),": ",s.source," \u2022 ",s.timestamp.toLocaleTimeString(a.language)]})]})})]}),r<u.length-1&&(0,Y.jsx)(j.A,{variant:"inset",component:"li"})]},s.id))})}),(0,Y.jsx)(Ke,{value:o,index:2,children:(0,Y.jsx)(i.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2},children:b.map(a=>(0,Y.jsx)(we.A,{elevation:1,sx:{height:"100%",border:"1px solid ".concat((0,l.X4)(I(a.riskLevel),.2)),"&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 20px ".concat((0,l.X4)(I(a.riskLevel),.15))},transition:"all 0.3s ease"},children:(0,Y.jsxs)(ke.A,{children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Y.jsx)(f.A,{sx:{backgroundColor:(0,l.X4)(I(a.riskLevel),.1),color:I(a.riskLevel),mr:2},children:W(a.type)}),(0,Y.jsxs)(i.A,{sx:{flex:1},children:[(0,Y.jsx)(d.A,{variant:"subtitle1",sx:{fontWeight:"bold",mb:.5},children:a.title}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,Y.jsx)(A.A,{label:t("pages.dashboard.trendingInsights.labels.probability",{percent:Math.round(100*a.probability)}),size:"small",sx:{backgroundColor:(0,l.X4)(e.palette.primary.main,.1),color:e.palette.primary.main,fontWeight:"bold"}}),a.value&&(0,Y.jsx)(A.A,{label:a.value,size:"small",variant:"outlined"}),(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:a.timeframe})]})]})]}),(0,Y.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.description}),(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsx)(A.A,{label:"".concat(t("pages.dashboard.trendingInsights.labels.risk"),": ").concat(a.riskLevel),size:"small",sx:{backgroundColor:(0,l.X4)(I(a.riskLevel),.1),color:I(a.riskLevel),textTransform:"capitalize"}}),(0,Y.jsx)(Se.A,{variant:"determinate",value:100*a.probability,sx:{width:"60%",height:6,borderRadius:3,backgroundColor:(0,l.X4)(e.palette.primary.main,.1),"& .MuiLinearProgress-bar":{backgroundColor:e.palette.primary.main,borderRadius:3}}})]})]})},a.id))})})]})]})};var Le=a(37567),Ee=a(82332),He=a(10256),qe=a(3353),_e=a(67203),Fe=a(47471),Oe=a(13106),Ne=a(5251),Ue=a(41329),Ye=a(50108),Ze=a(82291),Qe=a(87734),Je=a(52185),Ge=a(70760),$e=a(75525),et=a(70095),tt=a(36028),at=a(16992),st=a(56102),nt=a(17869),rt=a(75748),it=a(72310);const ot=[{name:"Nguy\u1ec5n V\u0103n A",value:1200},{name:"Tr\u1ea7n Th\u1ecb B",value:950},{name:"L\xea V\u0103n C",value:850},{name:"Ph\u1ea1m Th\u1ecb D",value:700},{name:"Ho\xe0ng V\u0103n E",value:500}],lt=["#3b82f6","#10b981","#f59e0b","#8b5cf6","#ef4444"],dt=e=>{let{query:t}=e;const{t:a}=(0,U.Bd)(),[s,r]=(0,n.useState)("bar"),[o,l]=(0,n.useState)("month"),c=e=>{const t=e.toLowerCase();return t.includes("kh\xe1ch h\xe0ng m\u1edbi")||t.includes("kh\xe1ch h\xe0ng")&&t.includes("m\u1edbi")?{type:"newCustomers",chartType:"bar"}:t.includes("doanh thu")&&t.includes("nh\xe2n vi\xean")?{type:"revenueByEmployee",chartType:"bar"}:(t.includes("deal")||t.includes("giao d\u1ecbch"))&&(t.includes("tr\u1ea1ng th\xe1i")||t.includes("giai \u0111o\u1ea1n"))?{type:"dealStatus",chartType:"pie"}:t.includes("doanh thu")&&(t.includes("th\xe1ng")||t.includes("th\u1eddi gian"))?{type:"revenueByMonth",chartType:"line"}:t.includes("t\u1ec9 l\u1ec7")||t.includes("chuy\u1ec3n \u0111\u1ed5i")?{type:"conversionRate",chartType:"pie"}:{type:"revenueByEmployee",chartType:"bar"}},{type:h}=c(t||"");n.useEffect(()=>{if(t){const{chartType:e}=c(t);r(e)}},[t]);const p=[{name:a("pages.dashboard.dynamicCharts.dealStatus.lead",{defaultValue:"Lead"}),value:45,color:"#f87171"},{name:a("pages.dashboard.dynamicCharts.dealStatus.quote",{defaultValue:"Quote"}),value:32,color:"#fbbf24"},{name:a("pages.dashboard.dynamicCharts.dealStatus.negotiation",{defaultValue:"Negotiation"}),value:18,color:"#60a5fa"},{name:a("pages.dashboard.dynamicCharts.dealStatus.win",{defaultValue:"Win"}),value:38,color:"#34d399"},{name:a("pages.dashboard.dynamicCharts.dealStatus.lose",{defaultValue:"Lose"}),value:23,color:"#9ca3af"}],u=[{name:a("pages.dashboard.dynamicCharts.newCustomers.today",{defaultValue:"Today"}),value:12},{name:a("pages.dashboard.dynamicCharts.newCustomers.yesterday",{defaultValue:"Yesterday"}),value:10},{name:a("pages.dashboard.dynamicCharts.newCustomers.daysAgo2",{defaultValue:"2 days ago"}),value:8},{name:a("pages.dashboard.dynamicCharts.newCustomers.daysAgo3",{defaultValue:"3 days ago"}),value:15},{name:a("pages.dashboard.dynamicCharts.newCustomers.daysAgo4",{defaultValue:"4 days ago"}),value:7}],x=[{name:a("pages.dashboard.dynamicCharts.months.m1",{defaultValue:"Jan"}),value:800},{name:a("pages.dashboard.dynamicCharts.months.m2",{defaultValue:"Feb"}),value:950},{name:a("pages.dashboard.dynamicCharts.months.m3",{defaultValue:"Mar"}),value:1100},{name:a("pages.dashboard.dynamicCharts.months.m4",{defaultValue:"Apr"}),value:1250},{name:a("pages.dashboard.dynamicCharts.months.m5",{defaultValue:"May"}),value:1400},{name:a("pages.dashboard.dynamicCharts.months.m6",{defaultValue:"Jun"}),value:1600}],g=[{name:a("pages.dashboard.dynamicCharts.conversion.converted",{defaultValue:"Converted"}),value:65,color:"#34d399"},{name:a("pages.dashboard.dynamicCharts.conversion.notConverted",{defaultValue:"Not converted"}),value:35,color:"#f87171"}],b=[{name:a("pages.dashboard.dynamicCharts.months.m1",{defaultValue:"Jan"}),value:1200},{name:a("pages.dashboard.dynamicCharts.months.m2",{defaultValue:"Feb"}),value:1900},{name:a("pages.dashboard.dynamicCharts.months.m3",{defaultValue:"Mar"}),value:1500},{name:a("pages.dashboard.dynamicCharts.months.m4",{defaultValue:"Apr"}),value:2200},{name:a("pages.dashboard.dynamicCharts.months.m5",{defaultValue:"May"}),value:1800},{name:a("pages.dashboard.dynamicCharts.months.m6",{defaultValue:"Jun"}),value:2400},{name:a("pages.dashboard.dynamicCharts.months.m7",{defaultValue:"Jul"}),value:2100}],y=(()=>{switch(h){case"newCustomers":return u;case"dealStatus":return p;case"revenueByMonth":return x;case"conversionRate":return g;default:return ot}})(),f=e=>a("pages.dashboard.dynamicCharts.valueWithUnit",{value:e,defaultValue:"".concat(e," tri\u1ec7u")});return(0,Y.jsxs)(m.A,{elevation:2,sx:{p:3,borderRadius:2,mb:4},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold"},children:t?a("pages.dashboard.dynamicCharts.resultsFor",{query:t,defaultValue:'\ud83d\udcc8 Results for: "'.concat(t,'"')}):a("pages.dashboard.dynamicCharts.title",{defaultValue:"\ud83d\udcc8 Business data analytics"})}),(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:2},children:[(0,Y.jsxs)(Le.A,{size:"small",value:s,exclusive:!0,onChange:(e,t)=>{null!==t&&r(t)},"aria-label":"chart type",children:[(0,Y.jsx)(Ee.A,{value:"bar","aria-label":"bar chart",children:(0,Y.jsx)(Oe.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"pie","aria-label":"pie chart",children:(0,Y.jsx)(Ne.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"line","aria-label":"line chart",children:(0,Y.jsx)(Re.A,{fontSize:"small"})}),(0,Y.jsx)(Ee.A,{value:"table","aria-label":"table",children:(0,Y.jsx)(Ue.A,{fontSize:"small"})})]}),(0,Y.jsxs)(He.A,{size:"small",sx:{minWidth:120},children:[(0,Y.jsx)(qe.A,{id:"time-range-label",children:a("pages.dashboard.dynamicCharts.time",{defaultValue:"Time"})}),(0,Y.jsxs)(_e.A,{labelId:"time-range-label",id:"time-range",value:o,label:a("pages.dashboard.dynamicCharts.time",{defaultValue:"Time"}),onChange:e=>{l(e.target.value)},children:[(0,Y.jsx)(Fe.A,{value:"today",children:a("pages.dashboard.dynamicCharts.timeRanges.today",{defaultValue:"Today"})}),(0,Y.jsx)(Fe.A,{value:"week",children:a("pages.dashboard.dynamicCharts.timeRanges.week",{defaultValue:"This week"})}),(0,Y.jsx)(Fe.A,{value:"month",children:a("pages.dashboard.dynamicCharts.timeRanges.month",{defaultValue:"This month"})}),(0,Y.jsx)(Fe.A,{value:"quarter",children:a("pages.dashboard.dynamicCharts.timeRanges.quarter",{defaultValue:"This quarter"})}),(0,Y.jsx)(Fe.A,{value:"year",children:a("pages.dashboard.dynamicCharts.timeRanges.year",{defaultValue:"This year"})})]})]})]})]}),(0,Y.jsxs)(i.A,{sx:{height:400,width:"100%"},children:["bar"===s&&(0,Y.jsx)(Ye.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(Ze.E,{data:"revenueByMonth"===h?b:ot,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Y.jsx)(Qe.d,{strokeDasharray:"3 3"}),(0,Y.jsx)(Je.W,{dataKey:"name"}),(0,Y.jsx)(Ge.h,{}),(0,Y.jsx)($e.m,{formatter:e=>f(e)}),(0,Y.jsx)(et.s,{}),(0,Y.jsx)(tt.y,{dataKey:"value",name:"revenueByMonth"===h?a("pages.dashboard.dynamicCharts.series.revenueByMonth",{defaultValue:"Revenue by month"}):a("pages.dashboard.dynamicCharts.series.revenueByEmployee",{defaultValue:"Revenue by employee"}),fill:"#3b82f6"})]})}),"pie"===s&&(0,Y.jsx)(Ye.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(at.r,{children:[(0,Y.jsx)(st.F,{data:"dealStatus"===h?p:ot,cx:"50%",cy:"50%",labelLine:!1,outerRadius:150,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:a}=e;return"".concat(t,": ").concat(a?(100*a).toFixed(0):0,"%")},children:y.map((e,t)=>(0,Y.jsx)(nt.f,{fill:e.color||lt[t%lt.length]},"cell-".concat(t)))}),(0,Y.jsx)($e.m,{formatter:e=>f(e)}),(0,Y.jsx)(et.s,{})]})}),"line"===s&&(0,Y.jsx)(Ye.u,{width:"100%",height:"100%",children:(0,Y.jsxs)(rt.b,{data:b,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Y.jsx)(Qe.d,{strokeDasharray:"3 3"}),(0,Y.jsx)(Je.W,{dataKey:"name"}),(0,Y.jsx)(Ge.h,{}),(0,Y.jsx)($e.m,{formatter:e=>f(e)}),(0,Y.jsx)(et.s,{}),(0,Y.jsx)(it.N,{type:"monotone",dataKey:"value",name:a("pages.dashboard.dynamicCharts.series.revenueByMonth",{defaultValue:"Revenue by month"}),stroke:"#3b82f6",activeDot:{r:8}})]})}),"table"===s&&(0,Y.jsx)(i.A,{sx:{height:"100%",overflow:"auto"},children:(0,Y.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[(0,Y.jsx)("th",{style:{padding:"12px 16px",textAlign:"left"},children:a("pages.dashboard.dynamicCharts.table.name",{defaultValue:"Name"})}),(0,Y.jsx)("th",{style:{padding:"12px 16px",textAlign:"right"},children:a("pages.dashboard.dynamicCharts.table.value",{defaultValue:"Value"})})]})}),(0,Y.jsx)("tbody",{children:("dealStatus"===h?p:"revenueByMonth"===h?b:ot).map((e,t)=>(0,Y.jsxs)("tr",{style:{borderBottom:"1px solid #e2e8f0",backgroundColor:t%2===0?"#f8fafc":"white"},children:[(0,Y.jsx)("td",{style:{padding:"12px 16px"},children:e.name}),(0,Y.jsx)("td",{style:{padding:"12px 16px",textAlign:"right"},children:f(e.value)})]},t))})]})})]})]})};var ct=a(52912),ht=a(4395),mt=a(45837),pt=a(62567),ut=a(12043),xt=a(37305),gt=a(61773),bt=a(26582),yt=a(5362);const ft=[{id:1,title:"B\xe1o c\xe1o doanh thu theo nh\xe2n vi\xean Q2/2025",createdAt:"2025-06-30",type:"bar",favorite:!0,tags:["doanh thu","nh\xe2n vi\xean","qu\xfd 2"]},{id:2,title:"Ph\xe2n t\xedch t\u1ec9 l\u1ec7 chuy\u1ec3n \u0111\u1ed5i lead sang kh\xe1ch h\xe0ng",createdAt:"2025-06-25",type:"pie",favorite:!1,tags:["lead","chuy\u1ec3n \u0111\u1ed5i","ph\u1ec5u b\xe1n h\xe0ng"]},{id:3,title:"B\xe1o c\xe1o doanh thu theo th\xe1ng n\u0103m 2025",createdAt:"2025-06-20",type:"line",favorite:!0,tags:["doanh thu","th\xe1ng","2025"]},{id:4,title:"Top 10 kh\xe1ch h\xe0ng ti\u1ec1m n\u0103ng th\xe1ng 6",createdAt:"2025-06-15",type:"table",favorite:!1,tags:["kh\xe1ch h\xe0ng ti\u1ec1m n\u0103ng","top 10"]},{id:5,title:"Ph\xe2n t\xedch hi\u1ec7u qu\u1ea3 chi\u1ebfn d\u1ecbch marketing Q2",createdAt:"2025-06-10",type:"bar",favorite:!1,tags:["marketing","chi\u1ebfn d\u1ecbch","qu\xfd 2"]}],At=()=>{const{t:e}=(0,U.Bd)(),t=e("pages.dashboard.savedReports.items",{returnObjects:!0}),a=ft.map(e=>{var a;const n=null===t||void 0===t?void 0:t[String(e.id)];return(0,s.A)((0,s.A)({},e),{},{title:null!==(a=null===n||void 0===n?void 0:n.title)&&void 0!==a?a:e.title,tags:Array.isArray(null===n||void 0===n?void 0:n.tags)?n.tags:e.tags})}),[r,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),[h,g]=(0,n.useState)(""),[b,y]=(0,n.useState)(a.reduce((e,t)=>(0,s.A)((0,s.A)({},e),{},{[t.id]:t.favorite}),{})),f=()=>{o(null),c(null)},v=e=>{switch(e){case"bar":return"\ud83d\udcca";case"pie":return"\ud83e\udd67";case"line":return"\ud83d\udcc8";case"table":return"\ud83d\udccb";default:return"\ud83d\udcc4"}},C=a.filter(e=>e.title.toLowerCase().includes(h.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(h.toLowerCase())));return(0,Y.jsxs)(m.A,{elevation:2,sx:{borderRadius:2},children:[(0,Y.jsxs)(i.A,{sx:{p:2,borderBottom:"1px solid #e2e8f0"},children:[(0,Y.jsx)(d.A,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:e("pages.dashboard.savedReports.title")}),(0,Y.jsx)(p.A,{fullWidth:!0,size:"small",placeholder:e("pages.dashboard.savedReports.searchPlaceholder"),value:h,onChange:e=>g(e.target.value),InputProps:{startAdornment:(0,Y.jsx)(u.A,{position:"start",children:(0,Y.jsx)(ne.A,{fontSize:"small"})})},sx:{mb:1}})]}),(0,Y.jsx)(ze.A,{sx:{maxHeight:"400px",overflow:"auto"},children:0===C.length?(0,Y.jsx)(De.Ay,{children:(0,Y.jsx)(We.A,{primary:e("pages.dashboard.savedReports.emptyTitle"),secondary:e("pages.dashboard.savedReports.emptySubtitle")})}):C.map(t=>(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsxs)(De.Ay,{sx:{cursor:"pointer","&:hover":{backgroundColor:"#f8fafc"}},children:[(0,Y.jsx)(i.A,{sx:{mr:1,fontSize:"1.5rem"},children:v(t.type)}),(0,Y.jsx)(We.A,{primary:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,Y.jsx)(d.A,{variant:"body1",sx:{fontWeight:"medium"},children:t.title}),(0,Y.jsx)(x.A,{size:"small",onClick:e=>{var a;e.stopPropagation(),a=t.id,y(e=>(0,s.A)((0,s.A)({},e),{},{[a]:!e[a]}))},sx:{ml:1,color:b[t.id]?"#f43f5e":"inherit"},children:b[t.id]?(0,Y.jsx)(mt.A,{fontSize:"small"}):(0,Y.jsx)(pt.A,{fontSize:"small"})})]}),secondary:(0,Y.jsxs)(i.A,{sx:{mt:.5},children:[(0,Y.jsxs)(d.A,{variant:"caption",color:"text.secondary",display:"block",children:[e("pages.dashboard.savedReports.createdAt"),": ",t.createdAt]}),(0,Y.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:t.tags.map((e,t)=>(0,Y.jsx)(A.A,{label:e,size:"small",sx:{height:20,fontSize:"0.65rem",backgroundColor:"#f1f5f9"}},t))})]})}),(0,Y.jsx)(ct.A,{children:(0,Y.jsx)(x.A,{edge:"end",onClick:e=>{return a=e,s=t.id,o(a.currentTarget),void c(s);var a,s},children:(0,Y.jsx)(ut.A,{})})})]}),(0,Y.jsx)(j.A,{variant:"inset",component:"li"})]},t.id))}),(0,Y.jsxs)(ht.A,{anchorEl:r,open:Boolean(r),onClose:f,id:"report-menu-".concat(l),children:[(0,Y.jsxs)(Fe.A,{onClick:f,children:[(0,Y.jsx)(xt.A,{fontSize:"small",sx:{mr:1}}),e("pages.dashboard.savedReports.menu.download")]}),(0,Y.jsxs)(Fe.A,{onClick:f,children:[(0,Y.jsx)(gt.A,{fontSize:"small",sx:{mr:1}}),e("pages.dashboard.savedReports.menu.edit")]}),(0,Y.jsxs)(Fe.A,{onClick:f,children:[(0,Y.jsx)(bt.A,{fontSize:"small",sx:{mr:1}}),e("pages.dashboard.savedReports.menu.share")]}),(0,Y.jsx)(j.A,{}),(0,Y.jsxs)(Fe.A,{onClick:f,sx:{color:"error.main"},children:[(0,Y.jsx)(yt.A,{fontSize:"small",sx:{mr:1}}),e("pages.dashboard.savedReports.menu.delete")]})]})]})};const jt=new class{constructor(){this.searchHistory=[],this.searchCache=new Map,this.contextData=null,this.loadSearchHistory()}setContext(e){this.contextData=e}async search(e,t,a){const n=this.generateCacheKey(e,t);if(this.searchCache.has(n))return this.searchCache.get(n);try{const r={id:"search_".concat(Date.now()),type:"search",data:{query:e,filters:t,context:(0,s.A)((0,s.A)({},this.contextData),a),searchHistory:this.searchHistory.slice(-5)},timestamp:new Date},i=await Pe.Z.processRequest(r),o=this.processSearchResults(i.result,e);return this.searchCache.set(n,o),this.addToSearchHistory(e),o}catch(r){return console.error("Error in AI search:",r),this.getFallbackResults(e,t)}}async quickSearch(e){return e.length<2?[]:this.search(e,void 0,{quickSearch:!0,maxResults:5})}async getSearchSuggestions(e,t){if(e.length<2)return this.getPopularSearches(t);try{const a={id:"suggestions_".concat(Date.now()),type:"search",data:{type:"suggestions",partialQuery:e,currentPage:t,searchHistory:this.searchHistory},timestamp:new Date};return(await Pe.Z.processRequest(a)).result.suggestions||[]}catch(a){return console.error("Error getting search suggestions:",a),this.getPopularSearches(t)}}async contextualSearch(e){var t;const a={};switch((null===(t=this.contextData)||void 0===t?void 0:t.currentPage)||""){case"/customers":a.types=["customer","contact"];break;case"/deals":a.types=["deal","quotation"];break;case"/contracts":a.types=["contract","invoice"]}return this.search(e,a,{contextual:!0})}async semanticSearch(e){const t={id:"semantic_".concat(Date.now()),type:"search",data:{type:"semantic",query:e,context:this.contextData},timestamp:new Date};try{const a=await Pe.Z.processRequest(t);return this.processSearchResults(a.result,e)}catch(a){return console.error("Error in semantic search:",a),[]}}processSearchResults(e,t){return(e.results||[]).map((e,t)=>({id:e.id||"result_".concat(t),type:e.type||"customer",title:e.title||e.name||"Untitled",description:e.description||e.summary||"",relevanceScore:e.relevance||1-.1*t,metadata:e.metadata||{},url:this.generateResultUrl(e.type,e.id),timestamp:new Date}))}generateResultUrl(e,t){return"".concat({customer:"/customers",deal:"/deals",contact:"/contacts",contract:"/contracts",invoice:"/invoices",requirement:"/requirements",quotation:"/quotations"}[e]||"/","/").concat(t)}generateCacheKey(e,t){return"".concat(e,"_").concat(JSON.stringify(t||{}))}getFallbackResults(e,t){return[{id:"1",type:"customer",title:'Kh\xe1ch h\xe0ng li\xean quan \u0111\u1ebfn "'.concat(e,'"'),description:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm c\u01a1 b\u1ea3n",relevanceScore:.8,metadata:{},url:"/customers/1",timestamp:new Date}]}getPopularSearches(e){const t={"/dashboard":["Doanh thu th\xe1ng n\xe0y","Deal \u0111ang pending","Kh\xe1ch h\xe0ng m\u1edbi","Top performer"],"/customers":["Kh\xe1ch h\xe0ng VIP","Kh\xe1ch h\xe0ng m\u1edbi","Kh\xe1ch h\xe0ng ch\u01b0a li\xean h\u1ec7","Kh\xe1ch h\xe0ng c\xf3 deal l\u1edbn"],"/deals":["Deal closing","Deal high value","Deal pending","Deal won this month"],default:["T\xecm ki\u1ebfm nhanh","B\xe1o c\xe1o","Th\u1ed1ng k\xea","Ph\xe2n t\xedch"]};return t[e||"default"]||t.default}addToSearchHistory(e){this.searchHistory.includes(e)||(this.searchHistory.unshift(e),this.searchHistory=this.searchHistory.slice(0,20),this.saveSearchHistory())}loadSearchHistory(){try{const e=localStorage.getItem("ai_search_history");e&&(this.searchHistory=JSON.parse(e))}catch(e){console.error("Error loading search history:",e)}}saveSearchHistory(){try{localStorage.setItem("ai_search_history",JSON.stringify(this.searchHistory))}catch(e){console.error("Error saving search history:",e)}}clearCache(){this.searchCache.clear()}getSearchStats(){return{historyCount:this.searchHistory.length,cacheSize:this.searchCache.size,recentSearches:this.searchHistory.slice(0,5)}}exportSearchData(){return{history:this.searchHistory,context:this.contextData,timestamp:new Date}}},vt=[{id:1,name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",owner:"Tr\u1ea7n Th\u1ecb B",leadStatus:"Hot Lead",avatar:"/avatars/an.jpg"},{id:2,name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.vn",phone:"0987654321",owner:"Ph\u1ea1m V\u0103n C",leadStatus:"Qualified",avatar:"/avatars/cam.jpg"},{id:3,name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.com",phone:"0912345678",owner:"Nguy\u1ec5n Th\u1ecb D",leadStatus:"New Lead",avatar:"/avatars/duc.jpg"}],Ct=[{id:1,name:"H\u1ec7 th\u1ed1ng CRM cho ABC Corp",customer:"ABC Corporation",owner:"Tr\u1ea7n V\u0103n E",amount:25e7,stage:"\u0110\xe3 g\u1eedi b\xe1o gi\xe1"},{id:2,name:"Website th\u01b0\u01a1ng m\u1ea1i \u0111i\u1ec7n t\u1eed",customer:"XYZ Trading",owner:"L\xea Th\u1ecb F",amount:15e7,stage:"\u0110ang \u0111\xe0m ph\xe1n"},{id:3,name:"\u1ee8ng d\u1ee5ng mobile banking",customer:"Tech Bank",owner:"Ph\u1ea1m V\u0103n G",amount:5e8,stage:"Li\xean h\u1ec7 ban \u0111\u1ea7u"}],wt=()=>{var e;const t=(0,r.A)(),a=(0,se.zy)(),C=(0,se.Zp)(),{t:w}=(0,U.Bd)(),[k,S]=(0,n.useState)(""),[z,D]=(0,n.useState)(!1),[I,W]=(0,n.useState)(""),[R,X]=(0,n.useState)(!1),[M,T]=(0,n.useState)([]),[P,B]=(0,n.useState)(!1),[K,V]=(0,n.useState)(!1),[L,E]=(0,n.useState)(!1),[q,_]=(0,n.useState)(0),[O,N]=(0,n.useState)(!1),[Z,Q]=(0,n.useState)("contacts"),[J,G]=(0,n.useState)({contacts:!1,deals:!1}),[$,ee]=(0,n.useState)(!1),[te,he]=(0,n.useState)(!1),[me,pe]=(0,n.useState)(""),ue=(0,n.useRef)(null),xe=(0,n.useRef)(null);(0,n.useEffect)(()=>{const e=setTimeout(()=>D(!0),200);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{const e=()=>{const e=window.scrollY;_(e),e>200?(V(!0),E(!0)):(V(!1),E(!1))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,n.useEffect)(()=>{R&&0===I.length&&ge()},[R]);const ge=async()=>{try{const e=await jt.getSearchSuggestions("",a.pathname);T(e)}catch(e){console.error("Error loading suggestions:",e)}},be=async()=>{if(I.trim()){B(!0);try{const e=await jt.contextualSearch(I);console.log("Search results:",e),ze(I)}catch(e){console.error("Error searching:",e)}finally{B(!1)}}},ye=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab"),fe=e=>/\d/.test(I)?e.phone:e.email,je=e=>{C("/contacts/".concat(e)),X(!1)},ve=e=>{C("/deals/".concat(e)),X(!1)},Ce=e=>{G(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!0}))},we=()=>{const e=[];for(let t=0;t<15;t++)e.push((0,s.A)((0,s.A)({},vt[t%vt.length]),{},{id:vt[t%vt.length].id+100*t,name:"".concat(vt[t%vt.length].name," ").concat(t+1)}));return e},ke=()=>{const e=[];for(let t=0;t<15;t++)e.push((0,s.A)((0,s.A)({},Ct[t%Ct.length]),{},{id:Ct[t%Ct.length].id+100*t,name:"".concat(Ct[t%Ct.length].name," ").concat(t+1),amount:Ct[t%Ct.length].amount+1e7*t}));return e},Se=e=>{switch(e.toLowerCase()){case"hot lead":return"error";case"qualified":return"success";case"new lead":return"info";case"\u0111\xe3 g\u1eedi b\xe1o gi\xe1":return"warning";case"\u0111ang \u0111\xe0m ph\xe1n":return"primary";default:return"default"}},ze=e=>{console.log("Generating report for query:",e),S(e)};return(0,Y.jsxs)(i.A,{sx:{position:"relative",width:"100%",height:"100%",overflow:"auto"},children:[(0,Y.jsx)(o.A,{in:z,timeout:800,children:(0,Y.jsxs)(i.A,{sx:{p:3,width:"100%",height:"100%"},children:[!O&&(0,Y.jsxs)(i.A,{sx:{textAlign:"center",mb:6,py:4,background:"linear-gradient(135deg, ".concat((0,l.X4)(t.palette.primary.main,.05)," 0%, ").concat((0,l.X4)(t.palette.secondary.main,.05)," 100%)"),borderRadius:3,border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.1))},children:[(0,Y.jsx)(d.A,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:t.palette.text.primary,mb:2},children:w("pages.dashboard.welcomeBack")}),(0,Y.jsx)(d.A,{variant:"h6",color:"text.secondary",sx:{mb:3,maxWidth:600,mx:"auto"},children:w("pages.dashboard.smartDashboard")}),(0,Y.jsx)(c.x,{onClickAway:()=>{X(!1)},children:(0,Y.jsxs)(i.A,{ref:ue,sx:{position:K?"fixed":"relative",bottom:K?20:"auto",right:K?20:"auto",left:"auto",zIndex:1e3,width:K?"auto":"100%",maxWidth:K?300:600,mx:"auto",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateY(0)",opacity:1,boxShadow:K?"0 8px 32px rgba(0,0,0,0.15)":"none",display:"flex",flexDirection:"column",gap:2},children:[(0,Y.jsx)(h.A,{in:!0,style:{transitionDelay:K?"100ms":"0ms"},children:(0,Y.jsxs)(m.A,{elevation:K?4:1,sx:{p:K?1:2,borderRadius:8,border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.2)),backgroundColor:K?(0,l.X4)(t.palette.background.paper,.95):(0,l.X4)(t.palette.background.paper,.8),backdropFilter:"blur(8px)",boxShadow:K?"0 4px 20px ".concat((0,l.X4)(t.palette.primary.main,.15)):"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:K?"0 8px 32px ".concat((0,l.X4)(t.palette.primary.main,.25)):"none",transform:K?"translateY(-2px)":"none"}},children:[(0,Y.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,Y.jsx)(p.A,{inputRef:xe,fullWidth:!0,placeholder:w("pages.dashboard.searchPlaceholder"),value:I,onChange:e=>W(e.target.value),onFocus:()=>{X(!0)},onKeyDown:e=>{var t;"Escape"===e.key&&(X(!1),null===(t=xe.current)||void 0===t||t.blur())},onKeyPress:e=>{"Enter"===e.key&&be()},variant:"outlined",size:K?"small":"medium",InputProps:{startAdornment:(0,Y.jsx)(u.A,{position:"start",children:(0,Y.jsx)(H.A,{color:"primary"})}),endAdornment:(0,Y.jsxs)(u.A,{position:"end",children:[I?(0,Y.jsx)(x.A,{size:"small",onClick:()=>W(""),edge:"end",children:(0,Y.jsx)(F.A,{fontSize:"small"})}):null,P?(0,Y.jsx)(g.A,{size:20}):(0,Y.jsx)(x.A,{size:"small",onClick:be,edge:"end",color:"primary",children:(0,Y.jsx)(ne.A,{})})]}),sx:{borderRadius:8,backgroundColor:(0,l.X4)(t.palette.background.paper,.5),fontSize:"1rem","&:hover":{backgroundColor:(0,l.X4)(t.palette.background.paper,.8)},"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.primary.main,.3),borderWidth:2},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.primary.main,.5),borderWidth:2},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2}}}})}),R&&!K&&(0,Y.jsx)(b.A,{open:R,anchorEl:ue.current,placement:"bottom-start",style:{width:"auto",minWidth:null===(e=ue.current)||void 0===e?void 0:e.clientWidth,maxWidth:500,zIndex:1301},children:(0,Y.jsx)(m.A,{elevation:3,sx:{mt:1,borderRadius:0,maxHeight:"none",overflow:"visible",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper},children:(0,Y.jsxs)(i.A,{sx:{overflow:"visible"},children:[(0,Y.jsxs)(i.A,{sx:{py:.5},children:[(0,Y.jsx)(d.A,{variant:"caption",sx:{px:1.5,py:.5,display:"block",color:"text.secondary",fontWeight:"medium",textTransform:"uppercase",letterSpacing:.5,fontSize:"0.65rem"},children:w("common.contacts")}),vt.slice(0,3).map(e=>(0,Y.jsx)(y.A,{onClick:()=>je(e.id),sx:{px:1.5,py:.75,borderRadius:0,mx:1,mb:.5,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(f.A,{sx:{width:24,height:24,mr:1,fontSize:"0.75rem",backgroundColor:t.palette.primary.main},children:e.name.charAt(0)}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(d.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(d.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",fe(e)]})]}),(0,Y.jsx)(A.A,{label:e.leadStatus,size:"small",color:Se(e.leadStatus),sx:{height:16,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),(0,Y.jsx)(y.A,{onClick:()=>{Q("contacts"),G({contacts:!0,deals:!1}),N(!0),X(!1)},sx:{px:1.5,py:.5,borderRadius:0,mx:1,color:"primary.main","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"medium"},children:w("common.viewAllContacts")})})]}),(0,Y.jsx)(j.A,{sx:{mx:1}}),(0,Y.jsxs)(i.A,{sx:{py:.5},children:[(0,Y.jsx)(d.A,{variant:"caption",sx:{px:1.5,py:.5,display:"block",color:"text.secondary",fontWeight:"medium",textTransform:"uppercase",letterSpacing:.5,fontSize:"0.65rem"},children:w("common.deals")}),Ct.slice(0,3).map(e=>(0,Y.jsx)(y.A,{onClick:()=>ve(e.id),sx:{px:1.5,py:.75,borderRadius:0,mx:1,mb:.5,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(i.A,{sx:{width:24,height:24,mr:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:(0,l.X4)(t.palette.success.main,.1),borderRadius:0,fontSize:"0.75rem"},children:"\ud83d\udcbc"}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(d.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(d.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",ye(e.amount)]})]}),(0,Y.jsx)(A.A,{label:e.stage,size:"small",color:Se(e.stage),sx:{height:16,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),(0,Y.jsx)(y.A,{onClick:()=>{Q("deals"),G({contacts:!1,deals:!0}),N(!0),X(!1)},sx:{px:1.5,py:.5,borderRadius:0,mx:1,color:"primary.main","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"medium"},children:w("common.viewAllDeals")})})]}),I&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(j.A,{sx:{my:1}}),(0,Y.jsx)(i.A,{sx:{px:1},children:(0,Y.jsx)(y.A,{onClick:()=>{pe(I),ee(!0),X(!1)},sx:{px:1.5,py:1,borderRadius:0,backgroundColor:(0,l.X4)(t.palette.warning.main,.05),border:"1px solid ".concat((0,l.X4)(t.palette.warning.main,.2)),"&:hover":{backgroundColor:(0,l.X4)(t.palette.warning.main,.1)}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,Y.jsx)(re.A,{sx:{color:"warning.main",mr:1.5,fontSize:"1.2rem"}}),(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"medium",color:"warning.dark"},children:w("pages.dashboard.askAssistant",{query:I.length>30?I.substring(0,30)+"...":I})})]})})})]})]})})}),K&&(0,Y.jsx)(d.A,{variant:"caption",sx:{ml:1,color:"text.secondary",display:{xs:"none",sm:"inline"}},children:w("common.aiAssistantMinimized")})]})}),(0,Y.jsx)(v.A,{direction:"up",in:L,mountOnEnter:!0,unmountOnExit:!0,children:(0,Y.jsx)(x.A,{color:"primary",size:"medium",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},sx:{position:"fixed",bottom:K?80:20,right:20,backgroundColor:(0,l.X4)(t.palette.background.paper,.9),boxShadow:"0 4px 14px ".concat((0,l.X4)(t.palette.primary.main,.2)),border:"1px solid ".concat((0,l.X4)(t.palette.primary.main,.3)),"&:hover":{backgroundColor:(0,l.X4)(t.palette.background.paper,1),boxShadow:"0 6px 20px ".concat((0,l.X4)(t.palette.primary.main,.3))}},children:(0,Y.jsx)(ie.A,{})})})]})})]}),O&&(0,Y.jsx)(i.A,{sx:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"auto",maxWidth:700,minWidth:500},children:(0,Y.jsx)(m.A,{elevation:4,sx:{p:2,borderRadius:4,border:"2px solid ".concat((0,l.X4)(t.palette.warning.main,.6)),backgroundColor:(0,l.X4)(t.palette.warning.main,.15),backdropFilter:"blur(12px)",boxShadow:"0 6px 24px ".concat((0,l.X4)(t.palette.warning.main,.3)),transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:(0,l.X4)(t.palette.warning.main,.25),boxShadow:"0 12px 40px ".concat((0,l.X4)(t.palette.warning.main,.4)),transform:"translateY(-4px)"}},children:(0,Y.jsx)(p.A,{fullWidth:!0,placeholder:w("pages.dashboard.searchPlaceholder"),value:I,onChange:e=>W(e.target.value),onKeyPress:e=>{"Enter"===e.key&&be()},variant:"outlined",size:"small",InputProps:{startAdornment:(0,Y.jsx)(u.A,{position:"start",children:(0,Y.jsx)(H.A,{color:"primary"})}),endAdornment:(0,Y.jsxs)(u.A,{position:"end",children:[I?(0,Y.jsx)(x.A,{size:"small",onClick:()=>W(""),edge:"end",children:(0,Y.jsx)(F.A,{fontSize:"small"})}):null,P?(0,Y.jsx)(g.A,{size:20}):(0,Y.jsx)(x.A,{size:"small",onClick:be,edge:"end",color:"primary",children:(0,Y.jsx)(ne.A,{})}),(0,Y.jsx)(x.A,{size:"small",edge:"end",children:(0,Y.jsx)(oe.A,{})})]}),sx:{borderRadius:8,backgroundColor:(0,l.X4)(t.palette.background.paper,.9),fontSize:"0.9rem","&:hover":{backgroundColor:t.palette.background.paper},"& .MuiOutlinedInput-notchedOutline":{borderColor:(0,l.X4)(t.palette.background.paper,.8),borderWidth:2},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.background.paper,borderWidth:2},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.background.paper,borderWidth:2}}}})})}),O&&(0,Y.jsxs)(i.A,{sx:{mb:4},children:[(0,Y.jsxs)(i.A,{sx:{position:"sticky",top:0,zIndex:100,backgroundColor:t.palette.background.paper,borderBottom:"1px solid ".concat(t.palette.divider),p:1.5,mb:2},children:[(0,Y.jsxs)(i.A,{sx:{mb:2},children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,Y.jsx)(x.A,{onClick:()=>{N(!1),X(!0)},size:"small",sx:{mr:1,width:28,height:28,backgroundColor:(0,l.X4)(t.palette.primary.main,.1),"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.2)}},children:(0,Y.jsx)(le.A,{fontSize:"small"})}),(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"bold",fontSize:"0.875rem"},children:w("pages.dashboard.back")})]}),(0,Y.jsx)(d.A,{variant:"h6",sx:{fontSize:"1.1rem",color:"text.primary",fontWeight:"medium"},children:w("pages.dashboard.searchFor",{query:I||w("pages.dashboard.aiSearchResults")})})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:1},children:[(0,Y.jsx)(A.A,{icon:(0,Y.jsx)(de.A,{fontSize:"small"}),label:w("common.contacts"),variant:"contacts"===Z?"filled":"outlined",color:"contacts"===Z?"primary":"default",onClick:()=>C("/contacts"),sx:{cursor:"pointer",fontSize:"0.8rem"}}),(0,Y.jsx)(A.A,{icon:(0,Y.jsx)(ce.A,{fontSize:"small"}),label:w("common.deals"),variant:"deals"===Z?"filled":"outlined",color:"deals"===Z?"primary":"default",onClick:()=>C("/deals"),sx:{cursor:"pointer",fontSize:"0.8rem"}})]})]}),(0,Y.jsxs)(i.A,{sx:{px:2},children:[(0,Y.jsxs)(i.A,{sx:{mb:4},children:[(0,Y.jsxs)(d.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:[w("pages.dashboard.sections.contacts"),(0,Y.jsx)(A.A,{label:J.contacts?we().length:vt.length,size:"small",variant:"outlined"})]}),(0,Y.jsxs)(m.A,{elevation:1,sx:{borderRadius:"6px",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper,overflow:"hidden"},children:[(J.contacts?we():vt.slice(0,3)).map(e=>(0,Y.jsx)(y.A,{onClick:()=>je(e.id),sx:{px:2,py:1,borderRadius:0,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)},"&:not(:last-child)":{borderBottom:"1px solid ".concat((0,l.X4)(t.palette.divider,.2))}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(f.A,{sx:{width:24,height:24,mr:1.5,fontSize:"0.75rem",backgroundColor:t.palette.primary.main},children:e.name.charAt(0)}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(d.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(d.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",fe(e)," \xb7 ",e.owner]})]}),(0,Y.jsx)(A.A,{label:e.leadStatus,size:"small",color:Se(e.leadStatus),sx:{height:18,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),!J.contacts&&(0,Y.jsx)(y.A,{onClick:()=>Ce("contacts"),sx:{px:2,py:1,borderRadius:0,color:"primary.main",borderTop:"1px solid ".concat((0,l.X4)(t.palette.divider,.2)),justifyContent:"center","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"medium"},children:w("pages.dashboard.showMoreContacts")})})]})]}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsxs)(d.A,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:[w("pages.dashboard.sections.deals"),(0,Y.jsx)(A.A,{label:J.deals?ke().length:Ct.length,size:"small",variant:"outlined"})]}),(0,Y.jsxs)(m.A,{elevation:1,sx:{borderRadius:"6px",border:"1px solid ".concat((0,l.X4)(t.palette.divider,.3)),backgroundColor:t.palette.background.paper,overflow:"hidden"},children:[(J.deals?ke():Ct.slice(0,3)).map(e=>(0,Y.jsx)(y.A,{onClick:()=>ve(e.id),sx:{px:2,py:1,borderRadius:0,"&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)},"&:not(:last-child)":{borderBottom:"1px solid ".concat((0,l.X4)(t.palette.divider,.2))}},children:(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%",minWidth:0},children:[(0,Y.jsx)(i.A,{sx:{width:24,height:24,mr:1.5,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:(0,l.X4)(t.palette.success.main,.1),borderRadius:1,fontSize:"0.75rem"},children:"\ud83d\udcbc"}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",minWidth:0},children:[(0,Y.jsxs)(d.A,{variant:"body2",sx:{fontWeight:"bold",color:"text.primary",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",mr:1,flex:1},children:[e.name,(0,Y.jsxs)(d.A,{component:"span",variant:"caption",sx:{color:"text.secondary",ml:.5,fontWeight:"normal"},children:["\u2014 ",e.customer," \xb7 ",e.owner," \xb7 ",ye(e.amount)]})]}),(0,Y.jsx)(A.A,{label:e.stage,size:"small",color:Se(e.stage),sx:{height:18,fontSize:"0.65rem",flexShrink:0}})]})]})},e.id)),!J.deals&&(0,Y.jsx)(y.A,{onClick:()=>Ce("deals"),sx:{px:2,py:1,borderRadius:0,color:"primary.main",borderTop:"1px solid ".concat((0,l.X4)(t.palette.divider,.2)),justifyContent:"center","&:hover":{backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}},children:(0,Y.jsx)(d.A,{variant:"body2",sx:{fontWeight:"medium"},children:w("pages.dashboard.showMoreDeals")})})]})]})]})]}),!O&&(0,Y.jsx)(Ae,{}),!O&&(0,Y.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"2fr 1fr"},gap:4,mb:4},children:[(0,Y.jsx)(i.A,{children:(0,Y.jsx)(Ve,{})}),(0,Y.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,Y.jsx)(i.A,{children:(0,Y.jsx)(dt,{query:k})}),(0,Y.jsx)(i.A,{children:(0,Y.jsx)(At,{})})]})]}),(0,Y.jsx)(i.A,{sx:{mt:4,pt:2,borderTop:"1px solid ".concat(t.palette.divider),textAlign:"center"},children:(0,Y.jsx)(d.A,{variant:"caption",color:"text.secondary",children:w("pages.dashboard.footer")})})]})}),(0,Y.jsx)(ae,{open:$,initialQuery:me,onClose:()=>{ee(!1),he(!1)},onMinimize:()=>{he(!0),ee(!1)}}),te&&(0,Y.jsx)(h.A,{in:te,children:(0,Y.jsx)(m.A,{elevation:6,sx:{position:"fixed",bottom:20,right:20,width:60,height:60,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:"warning.main",color:"warning.contrastText",zIndex:1300,"&:hover":{transform:"scale(1.1)",boxShadow:"0 8px 25px ".concat((0,l.X4)(t.palette.warning.main,.4))},transition:"all 0.3s ease-in-out"},onClick:()=>{he(!1),ee(!0)},children:(0,Y.jsx)(re.A,{sx:{fontSize:"1.5rem"}})})})]})}}}]);
//# sourceMappingURL=854.3fe25606.chunk.js.map