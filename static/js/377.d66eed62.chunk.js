"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[377],{10706:(e,a,n)=>{n.d(a,{A:()=>S});var t=n(65043),o=n(53969),i=n(55895),l=n(42579),s=n(26529),r=n(94527),c=n(91244),d=n(16128),m=n(83759),u=n(27421),h=n(61773),p=n(19817),x=n(94045),g=n(4573),y=n(23241),v=n(73069),f=n(69200),A=n(25272),b=n(70579);const S=e=>{let{contact:a,onClose:n,onOpenEmailWindow:S,onOpenNoteDialog:w}=e;const[C,j]=(0,t.useState)(!1),[z,T]=(0,t.useState)(!1);return(0,b.jsxs)(o.A,{sx:{fontSize:"0.9rem"},children:[(0,b.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,children:[(0,b.jsx)(i.A,{variant:"h6",sx:{fontSize:"1.1rem"},children:"Contact Details"}),(0,b.jsx)(l.A,{onClick:n,size:"small",children:(0,b.jsx)(u.A,{fontSize:"small"})})]}),(0,b.jsxs)(o.A,{mb:2,children:[(0,b.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),children:[(0,b.jsxs)(i.A,{variant:"h5",fontWeight:"bold",sx:{fontSize:"1.1rem"},children:[a.firstName," ",a.lastName]}),C&&(0,b.jsx)(l.A,{size:"small",sx:{ml:1},children:(0,b.jsx)(h.A,{fontSize:"small"})})]}),(0,b.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:[(0,b.jsx)(i.A,{color:"text.secondary",sx:{mb:.5,fontSize:"0.85rem"},children:a.email}),z&&(0,b.jsx)(l.A,{size:"small",sx:{ml:1},onClick:()=>{navigator.clipboard.writeText(a.email),alert("Email copied to clipboard!")},children:(0,b.jsx)(p.A,{fontSize:"small"})})]}),(0,b.jsxs)(o.A,{display:"flex",gap:.5,mt:1.5,children:[(0,b.jsx)(s.A,{title:"Add Note",children:(0,b.jsx)(l.A,{color:"primary",onClick:w,size:"small",children:(0,b.jsx)(x.A,{fontSize:"small"})})}),(0,b.jsx)(s.A,{title:"Send Email",children:(0,b.jsx)(l.A,{color:"primary",onClick:S,size:"small",children:(0,b.jsx)(g.A,{fontSize:"small"})})}),(0,b.jsx)(s.A,{title:"Call",children:(0,b.jsx)(l.A,{color:"primary",size:"small",children:(0,b.jsx)(y.A,{fontSize:"small"})})}),(0,b.jsx)(s.A,{title:"Schedule",children:(0,b.jsx)(l.A,{color:"primary",size:"small",children:(0,b.jsx)(v.A,{fontSize:"small"})})}),(0,b.jsx)(s.A,{title:"Create Task",children:(0,b.jsx)(l.A,{color:"primary",size:"small",children:(0,b.jsx)(f.A,{fontSize:"small"})})})]})]}),(0,b.jsx)(r.A,{sx:{my:1.5}}),(0,b.jsx)(c.A,{variant:"outlined",sx:{mb:1.5},children:(0,b.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,b.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,b.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"About this contact"}),(0,b.jsx)(A.A,{fontSize:"small"})]}),(0,b.jsxs)(o.A,{mt:1.5,sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:[(0,b.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,b.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Phone"}),(0,b.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.phone})]}),(0,b.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,b.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Lead Status"}),(0,b.jsx)(m.A,{label:a.leadStatus,color:"New"===a.leadStatus?"primary":"Qualified"===a.leadStatus?"success":"warning",size:"small",sx:{height:"20px","& .MuiChip-label":{fontSize:"0.75rem",px:1}}})]}),(0,b.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,b.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Owner"}),(0,b.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.owner})]}),(0,b.jsxs)(o.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,b.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Created"}),(0,b.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:a.createDate})]})]})]})}),(0,b.jsx)(c.A,{variant:"outlined",children:(0,b.jsxs)(d.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,b.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"Activity Timeline"}),(0,b.jsx)(o.A,{mt:1.5,display:"flex",justifyContent:"center",alignItems:"center",height:80,children:(0,b.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"No activities yet"})})]})})]})}},16128:(e,a,n)=>{n.d(a,{A:()=>g});var t=n(89379),o=n(80045),i=n(65043),l=n(58387),s=n(31807),r=n(58128),c=n(28301),d=n(79857),m=n(86061);function u(e){return(0,m.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var h=n(70579);const p=["className","component"],x=(0,r.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),g=i.forwardRef(function(e,a){const n=(0,c.b)({props:e,name:"MuiCardContent"}),{className:i,component:r="div"}=n,d=(0,o.A)(n,p),m=(0,t.A)((0,t.A)({},n),{},{component:r}),g=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},u,a)})(m);return(0,h.jsx)(x,(0,t.A)({as:r,className:(0,l.A)(g.root,i),ownerState:m,ref:a},d))})},19817:(e,a,n)=>{n.d(a,{A:()=>i});var t=n(14057),o=n(70579);const i=(0,t.A)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},25272:(e,a,n)=>{n.d(a,{A:()=>i});var t=n(14057),o=n(70579);const i=(0,t.A)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},67377:(e,a,n)=>{n.r(a),n.d(a,{default:()=>b});var t=n(89379),o=n(65043),i=n(60267),l=n(40405),s=n(53969),r=n(55895),c=n(57268),d=n(95220),m=n(24341),u=n(10706),h=n(90160),p=n(82518),x=n(87195),g=n(70579);const y=[{id:"1",name:"Tr\u1ea7n Th\u1ecb B",email:"tran.b@company.com",avatar:"/avatars/tran.jpg"},{id:"2",name:"Ph\u1ea1m V\u0103n C",email:"pham.c@company.com",avatar:"/avatars/pham.jpg"},{id:"3",name:"Nguy\u1ec5n Th\u1ecb D",email:"nguyen.d@company.com",avatar:"/avatars/nguyen.jpg"},{id:"4",name:"L\xea V\u0103n E",email:"le.e@company.com",avatar:"/avatars/le.jpg"},{id:"5",name:"Ho\xe0ng Th\u1ecb F",email:"hoang.f@company.com",avatar:"/avatars/hoang.jpg"}],v=[{value:"new",label:"New Lead",color:"#2196f3"},{value:"qualified",label:"Qualified",color:"#4caf50"},{value:"hot",label:"Hot Lead",color:"#ff5722"},{value:"cold",label:"Cold Lead",color:"#9e9e9e"},{value:"converted",label:"Converted",color:"#8bc34a"}],f=[{id:"name",label:"T\xean",type:"text",width:200,sortable:!0,editable:!0,required:!0},{id:"email",label:"Email",type:"email",width:250,sortable:!0,editable:!0,required:!0,validate:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Email kh\xf4ng h\u1ee3p l\u1ec7"},{id:"phone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"phone",width:150,sortable:!0,editable:!0,validate:e=>/^[0-9]{10,11}$/.test(e.replace(/\D/g,""))?null:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"},{id:"company",label:"C\xf4ng ty",type:"text",width:200,sortable:!0,editable:!0},{id:"position",label:"Ch\u1ee9c v\u1ee5",type:"text",width:150,sortable:!0,editable:!0},{id:"owner",label:"Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch",type:"userSelect",width:180,sortable:!0,editable:!0},{id:"leadStatus",label:"Tr\u1ea1ng th\xe1i Lead",type:"select",width:150,sortable:!0,editable:!0,options:v},{id:"lastContact",label:"Li\xean h\u1ec7 cu\u1ed1i",type:"date",width:130,sortable:!0,editable:!0},{id:"value",label:"Gi\xe1 tr\u1ecb ti\u1ec1m n\u0103ng",type:"currency",width:150,sortable:!0,editable:!0,format:e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B\u20ab"):e>=1e6?"".concat((e/1e6).toFixed(1),"M\u20ab"):e>=1e3?"".concat((e/1e3).toFixed(1),"K\u20ab"):"".concat(e,"\u20ab")},{id:"actions",label:"Thao t\xe1c",type:"actions",width:100,sortable:!1,editable:!1}],A=[{id:"1",name:"Nguy\u1ec5n V\u0103n An",email:"an.nguyen@company.com",phone:"0901234567",company:"ABC Corporation",position:"Gi\xe1m \u0111\u1ed1c IT",owner:"1",leadStatus:"hot",lastContact:"2024-01-15",value:25e7},{id:"2",name:"L\xea Th\u1ecb C\u1ea9m",email:"cam.le@business.vn",phone:"0987654321",company:"XYZ Trading",position:"Tr\u01b0\u1edfng ph\xf2ng Marketing",owner:"2",leadStatus:"qualified",lastContact:"2024-01-10",value:15e7},{id:"3",name:"Ho\xe0ng Minh \u0110\u1ee9c",email:"duc.hoang@tech.com",phone:"0912345678",company:"Tech Solutions",position:"CTO",owner:"3",leadStatus:"new",lastContact:"2024-01-08",value:5e8},{id:"4",name:"Tr\u1ea7n Th\u1ecb Mai",email:"mai.tran@startup.io",phone:"0923456789",company:"Innovation Startup",position:"CEO",owner:"1",leadStatus:"qualified",lastContact:"2024-01-12",value:3e8},{id:"5",name:"Ph\u1ea1m V\u0103n Nam",email:"nam.pham@enterprise.com",phone:"0934567890",company:"Big Enterprise",position:"Procurement Manager",owner:"4",leadStatus:"cold",lastContact:"2023-12-20",value:1e8},{id:"6",name:"V\xf5 Th\u1ecb Lan",email:"lan.vo@retail.vn",phone:"0945678901",company:"Retail Chain",position:"Operations Director",owner:"2",leadStatus:"hot",lastContact:"2024-01-14",value:4e8},{id:"7",name:"\u0110\u1ed7 Minh Tu\u1ea5n",email:"tuan.do@finance.com",phone:"0956789012",company:"Financial Services",position:"Head of Digital",owner:"5",leadStatus:"qualified",lastContact:"2024-01-11",value:2e8},{id:"8",name:"B\xf9i Th\u1ecb Hoa",email:"hoa.bui@healthcare.vn",phone:"0967890123",company:"Healthcare Group",position:"IT Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-09",value:18e7},{id:"9",name:"Ng\xf4 V\u0103n Ki\xean",email:"kien.ngo@logistics.com",phone:"0978901234",company:"Logistics Solutions",position:"Supply Chain Manager",owner:"1",leadStatus:"hot",lastContact:"2024-01-16",value:32e7},{id:"10",name:"\u0110\u1eb7ng Th\u1ecb Linh",email:"linh.dang@education.edu",phone:"0989012345",company:"Education Institute",position:"Technology Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-13",value:28e7},{id:"11",name:"L\xfd Minh Quang",email:"quang.ly@manufacturing.vn",phone:"0990123456",company:"Manufacturing Corp",position:"Production Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-07",value:45e7},{id:"12",name:"Phan Th\u1ecb Nga",email:"nga.phan@tourism.com",phone:"0901234568",company:"Tourism Group",position:"Digital Marketing Head",owner:"4",leadStatus:"cold",lastContact:"2023-12-25",value:12e7},{id:"13",name:"V\u0169 V\u0103n H\xf9ng",email:"hung.vu@construction.vn",phone:"0912345679",company:"Construction Ltd",position:"Project Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-11",value:38e7},{id:"14",name:"Tr\u1ecbnh Th\u1ecb Oanh",email:"oanh.trinh@banking.com",phone:"0923456780",company:"Banking Solutions",position:"IT Director",owner:"1",leadStatus:"hot",lastContact:"2024-01-15",value:6e8},{id:"15",name:"H\u1ed3 V\u0103n Ph\xfac",email:"phuc.ho@insurance.vn",phone:"0934567891",company:"Insurance Group",position:"Digital Transformation Lead",owner:"2",leadStatus:"qualified",lastContact:"2024-01-12",value:35e7},{id:"16",name:"Mai Th\u1ecb Qu\u1ef3nh",email:"quynh.mai@media.com",phone:"0945678902",company:"Media Corporation",position:"Technology Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-08",value:22e7},{id:"17",name:"\u0110inh V\u0103n S\u01a1n",email:"son.dinh@energy.vn",phone:"0956789013",company:"Energy Solutions",position:"Operations Director",owner:"4",leadStatus:"cold",lastContact:"2023-12-18",value:48e7},{id:"18",name:"L\u01b0\u01a1ng Th\u1ecb T\xe2m",email:"tam.luong@pharma.com",phone:"0967890124",company:"Pharmaceutical Inc",position:"R&D Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-10",value:29e7},{id:"19",name:"Cao V\u0103n Th\u1eafng",email:"thang.cao@automotive.vn",phone:"0978901235",company:"Automotive Group",position:"Engineering Manager",owner:"1",leadStatus:"hot",lastContact:"2024-01-14",value:52e7},{id:"20",name:"\u0110o\xe0n Th\u1ecb Uy\xean",email:"uyen.doan@agriculture.com",phone:"0989012346",company:"Agriculture Tech",position:"Innovation Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-11",value:18e7},{id:"21",name:"T\xf4 V\u0103n Vinh",email:"vinh.to@textile.vn",phone:"0990123457",company:"Textile Manufacturing",position:"Quality Manager",owner:"3",leadStatus:"new",lastContact:"2024-01-06",value:15e7},{id:"22",name:"B\u1ea1ch Th\u1ecb Xu\xe2n",email:"xuan.bach@chemicals.com",phone:"0901234569",company:"Chemical Industries",position:"Process Manager",owner:"4",leadStatus:"cold",lastContact:"2023-12-22",value:34e7},{id:"23",name:"L\xe2m V\u0103n Y\xean",email:"yen.lam@electronics.vn",phone:"0912345680",company:"Electronics Corp",position:"Product Manager",owner:"5",leadStatus:"qualified",lastContact:"2024-01-09",value:42e7},{id:"24",name:"\u1ee8ng Th\u1ecb Zara",email:"zara.ung@fashion.com",phone:"0923456781",company:"Fashion Retail",position:"E-commerce Director",owner:"1",leadStatus:"hot",lastContact:"2024-01-13",value:26e7},{id:"25",name:"Kh\u01b0\u01a1ng V\u0103n An",email:"an.khuong@sports.vn",phone:"0934567892",company:"Sports Equipment",position:"Sales Director",owner:"2",leadStatus:"qualified",lastContact:"2024-01-10",value:19e7}],b=()=>{(0,i.A)();const[e,a]=(0,o.useState)(A),[n,b]=(0,o.useState)(A),[S,w]=(0,o.useState)(!1),[C,j]=(0,o.useState)([]),[z,T]=(0,o.useState)("all"),[M,k]=(0,o.useState)(null),[N,D]=(0,o.useState)(!1),L=[{id:"owner",label:"Contact owner",type:"owner",icon:(0,g.jsx)(h.A,{fontSize:"small"}),enabled:!0,fieldName:"owner"},{id:"lastContact",label:"Li\xean h\u1ec7 cu\u1ed1i",type:"date",icon:(0,g.jsx)(p.A,{fontSize:"small"}),enabled:!0,fieldName:"lastContact"},{id:"leadStatus",label:"Lead status",type:"status",icon:(0,g.jsx)(x.A,{fontSize:"small"}),enabled:!0,fieldName:"leadStatus"}],V=[{id:"all",label:"All",count:A.length},{id:"my",label:"My contacts",count:8},{id:"unassigned",label:"Unassigned",count:3}],E=y.map(e=>({id:e.id,name:e.name,email:e.email,avatar:e.avatar})),I=v.map(e=>({value:e.value,label:e.label,color:e.color})),q=()=>{D(!1),k(null)};return(0,g.jsx)(l.A,{in:!0,timeout:800,children:(0,g.jsxs)(s.A,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,g.jsxs)(s.A,{sx:{mb:3,flexShrink:0,px:1},children:[(0,g.jsx)(r.A,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"text.primary",mb:1},children:"Qu\u1ea3n l\xfd Li\xean h\u1ec7"}),(0,g.jsx)(r.A,{variant:"body1",color:"text.secondary",children:"Qu\u1ea3n l\xfd th\xf4ng tin kh\xe1ch h\xe0ng ti\u1ec1m n\u0103ng v\xe0 theo d\xf5i qu\xe1 tr\xecnh chuy\u1ec3n \u0111\u1ed5i"})]}),(0,g.jsx)(m.A,{entity:"contacts",availableFilters:L,owners:E,statuses:I,savedViews:V,onQueryChange:a=>{var n;let t=[...e];a.ownerIds.length>0&&(t=t.filter(e=>a.ownerIds.includes(e.owner)||a.ownerIds.includes("unassigned")&&!e.owner)),a.leadStatus.length>0&&(t=t.filter(e=>a.leadStatus.includes(e.leadStatus))),null!==(n=a.lastContact)&&void 0!==n&&n.preset&&console.log("Filtering by last contact:",a.lastContact.preset),b(t)},onViewChange:a=>{T(a);let n=[...e];switch(a){case"my":n=n.filter(e=>"1"===e.owner);break;case"unassigned":n=n.filter(e=>!e.owner);break;default:n=e}b(n)},sticky:!0}),(0,g.jsx)(s.A,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:(0,g.jsx)(d.A,{columns:f,data:n,loading:S,searchable:!0,filterable:!1,selectable:!0,pagination:!0,defaultRowsPerPage:10,onRowSelect:j,onCellEdit:async(e,n,o)=>(w(!0),await new Promise(e=>setTimeout(e,1e3)),a(a=>a.map(a=>a.id===e?(0,t.A)((0,t.A)({},a),{},{[n]:o}):a)),b(a=>a.map(a=>a.id===e?(0,t.A)((0,t.A)({},a),{},{[n]:o}):a)),w(!1),!0),onRowDoubleClick:e=>{console.log("Open contact detail:",e)},onBulkAction:(e,n)=>{if(console.log("Bulk action:",e,n),"delete"===e)a(e=>e.filter(e=>!n.includes(e.id))),j([])},onPreviewContact:e=>{k(e),D(!0)},users:y,emptyMessage:"Ch\u01b0a c\xf3 li\xean h\u1ec7 n\xe0o",zebra:!0})}),(0,g.jsx)(c.Ay,{anchor:"right",open:N,onClose:q,PaperProps:{sx:{width:400,p:3,backgroundColor:"background.paper"}},children:M&&(0,g.jsx)(u.A,{contact:(e=>{const a=e.name.split(" ");return{id:parseInt(e.id),firstName:a[0]||"",lastName:a.slice(1).join(" ")||"",email:e.email,phone:e.phone,owner:e.owner,createDate:e.createDate,leadStatus:e.leadStatus}})(M),onClose:q,onOpenEmailWindow:()=>{console.log("Open email window for:",M.name)},onOpenNoteDialog:()=>{console.log("Open note dialog for:",M.name)}})})]})})}},91244:(e,a,n)=>{n.d(a,{A:()=>y});var t=n(89379),o=n(80045),i=n(65043),l=n(58387),s=n(31807),r=n(58128),c=n(28301),d=n(94799),m=n(79857),u=n(86061);function h(e){return(0,u.Ay)("MuiCard",e)}(0,m.A)("MuiCard",["root"]);var p=n(70579);const x=["className","raised"],g=(0,r.Ay)(d.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),y=i.forwardRef(function(e,a){const n=(0,c.b)({props:e,name:"MuiCard"}),{className:i,raised:r=!1}=n,d=(0,o.A)(n,x),m=(0,t.A)((0,t.A)({},n),{},{raised:r}),u=(e=>{const{classes:a}=e;return(0,s.A)({root:["root"]},h,a)})(m);return(0,p.jsx)(g,(0,t.A)({className:(0,l.A)(u.root,i),elevation:r?8:void 0,ref:a,ownerState:m},d))})},94045:(e,a,n)=>{n.d(a,{A:()=>i});var t=n(14057),o=n(70579);const i=(0,t.A)((0,o.jsx)("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"}),"Note")}}]);
//# sourceMappingURL=377.d66eed62.chunk.js.map