"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[228],{6228:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var s=n(89379),l=n(65043),i=n(53969),a=n(38517),o=n(57268),r=n(94799),c=n(55895),x=n(41859),d=n(24343),h=n(33699),m=n(42579),p=n(28259),u=n(87443),f=n(10756),j=n(86172),A=n(81341),g=n(38865),b=n(34375),S=n(17873),w=n(83759),C=n(26529),y=n(89174),v=n(22950),z=n(63745),k=n(40847),N=n(61773),I=n(5362),W=n(12043),L=n(70579);const P=[{id:"name",label:"Name",minWidth:170},{id:"email",label:"Email",minWidth:170},{id:"phone",label:"Phone Number",minWidth:120},{id:"owner",label:"Contact Owner",minWidth:120},{id:"createDate",label:"Create Date",minWidth:100},{id:"leadStatus",label:"Lead Status",minWidth:100},{id:"actions",label:"Actions",minWidth:80}],T=e=>{let{contacts:t,searchTerm:n,page:s,rowsPerPage:l,selectedContacts:a,onSearchChange:o,onChangePage:T,onChangeRowsPerPage:E,onSelectAllClick:R,onCheckboxClick:D,onOpenCreateDialog:M,onOpenContactDrawer:O,getInitials:B,isSelected:H}=e;const q=t.filter(e=>e.firstName.toLowerCase().includes(n.toLowerCase())||e.lastName.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase())||e.phone.includes(n));return(0,L.jsxs)(r.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,L.jsxs)(i.A,{p:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,L.jsxs)(c.A,{variant:"h6",component:"div",children:["Contacts",(0,L.jsxs)(c.A,{component:"span",color:"text.secondary",sx:{ml:1},children:["(",q.length,")"]})]}),(0,L.jsx)(i.A,{display:"flex",gap:1,children:(0,L.jsx)(x.A,{variant:"contained",startIcon:(0,L.jsx)(v.A,{}),onClick:M,children:"Create Contact"})})]}),(0,L.jsxs)(i.A,{px:2,pb:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,L.jsx)(d.A,{placeholder:"Search contacts...",size:"small",value:n,onChange:o,InputProps:{startAdornment:(0,L.jsx)(h.A,{position:"start",children:(0,L.jsx)(z.A,{})})},sx:{width:300}}),(0,L.jsx)(m.A,{children:(0,L.jsx)(k.A,{})})]}),(0,L.jsx)(p.A,{sx:{maxHeight:"calc(100vh - 280px)"},children:(0,L.jsxs)(u.A,{stickyHeader:!0,children:[(0,L.jsx)(f.A,{children:(0,L.jsxs)(j.A,{children:[(0,L.jsx)(A.A,{padding:"checkbox",children:(0,L.jsx)(g.A,{indeterminate:a.length>0&&a.length<q.length,checked:q.length>0&&a.length===q.length,onChange:R})}),P.map(e=>(0,L.jsx)(A.A,{style:{minWidth:e.minWidth},sx:{fontWeight:"bold"},children:e.label},e.id))]})}),(0,L.jsx)(b.A,{children:q.slice(s*l,s*l+l).map(e=>{const t=H(e.id);return(0,L.jsxs)(j.A,{hover:!0,role:"checkbox",tabIndex:-1,selected:t,children:[(0,L.jsx)(A.A,{padding:"checkbox",children:(0,L.jsx)(g.A,{checked:t,onClick:()=>D(e.id)})}),(0,L.jsx)(A.A,{children:(0,L.jsxs)(i.A,{display:"flex",alignItems:"center",sx:{cursor:"pointer"},onClick:()=>O(e),children:[(0,L.jsx)(S.A,{sx:{mr:2,bgcolor:"primary.main"},children:B(e.firstName,e.lastName)}),(0,L.jsxs)(c.A,{children:[e.firstName," ",e.lastName]})]})}),(0,L.jsx)(A.A,{children:e.email}),(0,L.jsx)(A.A,{children:e.phone}),(0,L.jsx)(A.A,{children:e.owner}),(0,L.jsx)(A.A,{children:e.createDate}),(0,L.jsx)(A.A,{children:(0,L.jsx)(w.A,{label:e.leadStatus,color:"New"===e.leadStatus?"primary":"Qualified"===e.leadStatus?"success":"warning",size:"small"})}),(0,L.jsx)(A.A,{children:(0,L.jsxs)(i.A,{display:"flex",children:[(0,L.jsx)(C.A,{title:"Edit",children:(0,L.jsx)(m.A,{size:"small",children:(0,L.jsx)(N.A,{fontSize:"small"})})}),(0,L.jsx)(C.A,{title:"Delete",children:(0,L.jsx)(m.A,{size:"small",children:(0,L.jsx)(I.A,{fontSize:"small"})})}),(0,L.jsx)(C.A,{title:"More",children:(0,L.jsx)(m.A,{size:"small",children:(0,L.jsx)(W.A,{fontSize:"small"})})})]})})]},e.id)})})]})}),(0,L.jsx)(y.A,{rowsPerPageOptions:[10,25,100],component:"div",count:q.length,rowsPerPage:l,page:s,onPageChange:T,onRowsPerPageChange:E})]})};var E=n(10706),R=n(81911),D=n(78776),M=n(10256),O=n(3353),B=n(67203),H=n(47471),q=n(85877),U=n(27421);const _=e=>{let{newContact:t,onClose:n,onChange:s,onLeadStatusChange:l,onSubmit:a}=e;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.A,{children:(0,L.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:["Create New Contact",(0,L.jsx)(m.A,{onClick:n,size:"small",children:(0,L.jsx)(U.A,{})})]})}),(0,L.jsx)(D.A,{children:(0,L.jsxs)(i.A,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:2},children:[(0,L.jsx)(i.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,L.jsx)(d.A,{name:"firstName",label:"First Name",fullWidth:!0,required:!0,value:t.firstName,onChange:s,autoFocus:!0})}),(0,L.jsx)(i.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:(0,L.jsx)(d.A,{name:"lastName",label:"Last Name",fullWidth:!0,value:t.lastName,onChange:s})}),(0,L.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,L.jsx)(d.A,{name:"email",label:"Email",type:"email",fullWidth:!0,required:!0,value:t.email,onChange:s})}),(0,L.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,L.jsx)(d.A,{name:"phone",label:"Phone Number",fullWidth:!0,value:t.phone,onChange:s})}),(0,L.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,L.jsx)(d.A,{name:"jobTitle",label:"Job Title",fullWidth:!0,value:t.jobTitle,onChange:s})}),(0,L.jsx)(i.A,{sx:{width:"100%",mt:2},children:(0,L.jsxs)(M.A,{fullWidth:!0,children:[(0,L.jsx)(O.A,{children:"Lead Status"}),(0,L.jsxs)(B.A,{value:t.leadStatus,label:"Lead Status",onChange:l,children:[(0,L.jsx)(H.A,{value:"New",children:"New"}),(0,L.jsx)(H.A,{value:"Contacted",children:"Contacted"}),(0,L.jsx)(H.A,{value:"Qualified",children:"Qualified"}),(0,L.jsx)(H.A,{value:"Lost",children:"Lost"})]})]})})]})}),(0,L.jsxs)(q.A,{children:[(0,L.jsx)(x.A,{onClick:n,children:"Cancel"}),(0,L.jsx)(x.A,{onClick:a,variant:"contained",color:"primary",children:"Save"})]})]})};var F=n(94527),Q=n(70846),G=n(52956),V=n(46261),X=n(1725),Y=n(68826),J=n(25272),K=n(8297),Z=n(69258),$=n(16100),ee=n(10167),te=n(63697),ne=n(79430),se=n(45714),le=n(82058),ie=n(20312),ae=n(39073),oe=n(63898);const re=e=>{let{open:t,onClose:n,recipientEmail:s="",fromContactDetails:a=!1}=e;const o={x:window.innerWidth/2-375,y:window.innerHeight/2-300},[h,p]=(0,l.useState)(o),[u,f]=(0,l.useState)(!1),[j,A]=(0,l.useState)({x:0,y:0}),[g,b]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!1),[C,y]=(0,l.useState)(!1),[v,z]=(0,l.useState)(!1),[k,N]=(0,l.useState)(""),[I,W]=(0,l.useState)(""),[P,T]=(0,l.useState)(s||"");(0,l.useEffect)(()=>{if(t){let e=20;if(a){e=400+20}const t=window.innerHeight-(g?48:600),n=window.innerWidth-750-e;p({x:Math.max(20,n),y:t})}s&&T(s)},[t,a,s,g]);const[E,R]=(0,l.useState)(null),[D,O]=(0,l.useState)("1hour"),[B,q]=(0,l.useState)((new Date).toISOString().split("T")[0]),[_,re]=(0,l.useState)("16:30"),ce=(0,l.useRef)(null);(0,l.useEffect)(()=>{const e=e=>{u&&!S&&p({x:e.clientX-j.x,y:e.clientY-j.y})},t=()=>{f(!1)};return u&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[u,j,S]);const xe=()=>{if(!P)return void alert("Please enter a recipient email address");const e="mailto:".concat(P,"?subject=").concat(encodeURIComponent(k),"&body=").concat(encodeURIComponent(I));window.open(e,"_blank"),w(!1),b(!0),console.log("Sending email now"),alert("Email opened in your default mail client!"),n()},de=()=>{R(null)};return t?(0,L.jsxs)(L.Fragment,{children:[t&&S&&(0,L.jsx)(i.A,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1100}}),(0,L.jsxs)(r.A,{ref:ce,sx:{position:"fixed",top:S?"50%":"auto",left:S?"50%":h.x,bottom:S?"auto":"20px",transform:S?"translate(-50%, -50%)":"none",width:S?"900px":"550px",maxWidth:S?"1200px":"550px",display:"flex",flexDirection:"column",boxShadow:g?1:3,zIndex:1200,visibility:t?"visible":"hidden",opacity:t?1:0,transition:"all 0.3s ease",overflow:"hidden",maxHeight:S?"600px":"450px",height:g?"48px":"auto",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",borderBottomLeftRadius:g?"0px":"8px",borderBottomRightRadius:g?"0px":"8px","@media (min-width: 1800px)":{width:S?"1100px":"550px",maxWidth:S?"1200px":"550px",maxHeight:S?"650px":"450px"},"@media (min-width: 1600px)":{width:S?"1000px":"550px",maxHeight:S?"600px":"450px"},"@media (max-width: 1400px)":{width:S?"800px":"550px"},"@media (max-width: 1200px)":{width:S?"700px":"500px"},"@media (max-width: 992px)":{width:S?"650px":"450px"}},children:[(0,L.jsxs)(i.A,{sx:{bgcolor:"#ff7a59",p:1,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"move",userSelect:"none",color:"white",borderTopLeftRadius:"8px",borderTopRightRadius:"8px","@media (min-width: 1600px)":{width:"100%"},"@media (max-width: 1200px)":{width:S?"calc(100% - 420px)":"600px"},"@media (max-width: 900px)":{width:"100%",right:"0",bottom:"0",borderRadius:0}},onMouseDown:e=>{if(!S&&ce.current&&e.target===e.currentTarget){f(!0);const t=ce.current.getBoundingClientRect();A({x:e.clientX-t.left,y:e.clientY-t.top})}},children:[(0,L.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(m.A,{size:"small",sx:{color:"white",mr:1},onClick:()=>b(!g),children:g?(0,L.jsx)(J.A,{fontSize:"small"}):(0,L.jsx)(K.A,{fontSize:"small"})}),(0,L.jsx)(c.A,{variant:"subtitle1",fontWeight:"medium",children:"New Email"})]}),(0,L.jsxs)(i.A,{children:[(0,L.jsx)(m.A,{size:"small",sx:{color:"white"},onClick:()=>{const e=new URLSearchParams({to:P,subject:k,body:I}).toString();window.open("/email/compose?".concat(e),"_blank"),n()},children:(0,L.jsx)(Z.A,{fontSize:"small"})}),(0,L.jsx)(m.A,{size:"small",sx:{color:"white"},onClick:()=>{w(!S),b(!1)},children:S?(0,L.jsx)($.A,{fontSize:"small"}):(0,L.jsx)(ee.A,{fontSize:"small"})}),(0,L.jsx)(m.A,{size:"small",sx:{color:"white"},onClick:n,children:(0,L.jsx)(U.A,{fontSize:"small"})})]})]}),!g&&(0,L.jsxs)(i.A,{sx:{p:0,flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,L.jsx)(i.A,{sx:{bgcolor:"#f5f5f5",borderBottom:"1px solid #ddd"},children:(0,L.jsxs)(i.A,{sx:{display:"flex",px:2,py:.5},children:[(0,L.jsx)(c.A,{sx:{mr:2,fontWeight:"bold",fontSize:"13px",color:"#ff7a59"},children:"Templates"}),(0,L.jsxs)(c.A,{sx:{mr:2,fontSize:"13px",display:"flex",alignItems:"center"},children:["Sequences ",(0,L.jsx)(i.A,{component:"span",sx:{ml:.5,fontSize:"14px"},children:"\ud83d\udd12"})]}),(0,L.jsx)(c.A,{sx:{mr:2,fontSize:"13px"},children:"Documents"}),(0,L.jsxs)(c.A,{sx:{mr:2,fontSize:"13px",display:"flex",alignItems:"center"},children:["Meetings ",(0,L.jsx)(J.A,{fontSize:"small"})]}),(0,L.jsxs)(c.A,{sx:{fontSize:"13px",display:"flex",alignItems:"center"},children:["Quotes ",(0,L.jsx)(J.A,{fontSize:"small"})]})]})}),(0,L.jsxs)(i.A,{sx:{p:1.5},children:[(0,L.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,L.jsx)(c.A,{sx:{width:30,fontSize:"13px",mr:2},children:"To"}),(0,L.jsx)(d.A,{fullWidth:!0,value:P,onChange:e=>T(e.target.value),size:"small",variant:"standard",placeholder:"recipient@example.com",sx:{"& .MuiInputBase-input":{fontSize:"13px"}}})]}),(0,L.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,L.jsx)(c.A,{sx:{width:30,fontSize:"13px",mr:2},children:"From"}),(0,L.jsx)(i.A,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:(0,L.jsxs)(c.A,{sx:{fontSize:"13px"},children:["T\xf4 Th\u1ebf M\u1eabn ",(0,L.jsx)(c.A,{component:"span",sx:{color:"text.secondary",fontSize:"13px"},children:"(totheman2@gmail.com)"})]})}),(0,L.jsx)(c.A,{sx:{fontSize:"13px",color:"#ff7a59",ml:2,cursor:"pointer"},children:"Cc"}),(0,L.jsx)(c.A,{sx:{fontSize:"13px",color:"#ff7a59",ml:2,cursor:"pointer"},children:"Bcc"})]}),(0,L.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,L.jsx)(c.A,{sx:{width:30,fontSize:"13px",mr:2},children:"Subject"}),(0,L.jsx)(d.A,{fullWidth:!0,size:"small",variant:"standard",placeholder:"Email subject",value:k,onChange:e=>N(e.target.value),sx:{"& .MuiInputBase-input":{fontSize:"13px"}}})]})]}),(0,L.jsx)(F.A,{}),(0,L.jsxs)(i.A,{sx:{p:1.5,flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto",maxHeight:S?"400px":"200px","@media (min-width: 1600px)":{maxHeight:S?"450px":"200px"}},children:[(0,L.jsx)(d.A,{multiline:!0,placeholder:"Type your message here...",minRows:3,maxRows:S?15:8,fullWidth:!0,variant:"standard",value:I,onChange:e=>W(e.target.value),InputProps:{disableUnderline:!0,sx:{p:0}},sx:{flexGrow:1,"& .MuiInputBase-root":{height:"auto",alignItems:"flex-start",fontSize:"13px"},"& .MuiInputBase-input":{overflow:"auto",fontSize:"13px"}}}),(0,L.jsx)(F.A,{sx:{my:1}}),(0,L.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",borderTop:"1px solid #ddd",pt:.5,flexShrink:0},children:[(0,L.jsx)(m.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,n=e.selectionEnd,s=I.substring(t,n),l=I.substring(0,t)+"<b>".concat(s,"</b>")+I.substring(n);W(l)}else W(e=>"<b>".concat(e,"</b>"))},children:(0,L.jsx)(te.A,{fontSize:"small"})}),(0,L.jsx)(m.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,n=e.selectionEnd,s=I.substring(t,n),l=I.substring(0,t)+"<i>".concat(s,"</i>")+I.substring(n);W(l)}else W(e=>"<i>".concat(e,"</i>"))},children:(0,L.jsx)(ne.A,{fontSize:"small"})}),(0,L.jsx)(m.A,{size:"small",onClick:()=>{const e=document.querySelector("textarea");if(e){const t=e.selectionStart,n=e.selectionEnd,s=I.substring(t,n),l=I.substring(0,t)+"<u>".concat(s,"</u>")+I.substring(n);W(l)}else W(e=>"<u>".concat(e,"</u>"))},children:(0,L.jsx)(se.A,{fontSize:"small"})}),(0,L.jsx)(c.A,{sx:{fontSize:"12px",color:"#ff7a59",mx:1,cursor:"pointer"},children:"More"}),(0,L.jsx)(m.A,{size:"small",onClick:()=>{alert("Attach file functionality would be implemented here")},children:(0,L.jsx)(le.A,{fontSize:"small"})}),(0,L.jsx)(m.A,{size:"small",onClick:()=>{alert("Insert image functionality would be implemented here")},children:(0,L.jsx)(ie.A,{fontSize:"small"})}),(0,L.jsx)(c.A,{sx:{fontSize:"12px",color:"#ff7a59",mx:1,cursor:"pointer"},children:"Insert"}),(0,L.jsx)(m.A,{size:"small",onClick:()=>{const e=prompt("Enter URL:");if(e){const t=document.querySelector("textarea");if(t){const n=t.selectionStart,s=t.selectionEnd,l=I.substring(n,s)||e,i=I.substring(0,n)+'<a href="'.concat(e,'">').concat(l,"</a>")+I.substring(s);W(i)}else W(t=>"".concat(t,' <a href="').concat(e,'">').concat(e,"</a>"))}},children:(0,L.jsx)(ae.A,{fontSize:"small"})}),(0,L.jsx)(i.A,{sx:{flexGrow:1}}),(0,L.jsxs)(c.A,{sx:{fontSize:"12px",color:"#ff7a59",display:"flex",alignItems:"center",cursor:"pointer"},children:["Associated with 1 record ",(0,L.jsx)(J.A,{fontSize:"small"})]})]})]}),(0,L.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,borderTop:"1px solid #ddd"},children:[(0,L.jsxs)(Q.A,{variant:"contained",sx:{bgcolor:"#ff7a59","& .MuiButton-contained":{bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}}},children:[(0,L.jsx)(x.A,{onClick:v?e=>{R(e.currentTarget)}:xe,sx:{borderTopRightRadius:0,borderBottomRightRadius:0,bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}},children:v?"Send Later":"Send"}),(0,L.jsx)(x.A,{onClick:e=>{y(!0),R(e.currentTarget)},sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"},minWidth:"30px",width:"30px"},children:(0,L.jsx)(J.A,{})})]}),(0,L.jsxs)(G.Ay,{open:Boolean(E)&&C,anchorEl:E,onClose:()=>{y(!1),R(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:200,p:1}},children:[(0,L.jsx)(H.A,{onClick:xe,sx:{py:1},children:"Send Now"}),(0,L.jsx)(H.A,{onClick:()=>{z(!0),y(!1)},sx:{py:1},children:"Send Later"})]}),(0,L.jsxs)(G.Ay,{open:Boolean(E)&&!C&&v,anchorEl:E,onClose:de,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:300,p:2}},children:[(0,L.jsx)(c.A,{variant:"subtitle1",fontWeight:"bold",sx:{mb:2},children:"Send later"}),(0,L.jsx)(M.A,{component:"fieldset",children:(0,L.jsxs)(V.A,{value:D,onChange:e=>{O(e.target.value)},children:[(0,L.jsx)(X.A,{value:"1hour",control:(0,L.jsx)(Y.A,{}),label:"In 1 hour"}),(0,L.jsx)(X.A,{value:"2hours",control:(0,L.jsx)(Y.A,{}),label:"In 2 hours"}),(0,L.jsx)(X.A,{value:"tomorrow_morning",control:(0,L.jsx)(Y.A,{}),label:"Tomorrow morning (8am)"}),(0,L.jsx)(X.A,{value:"tomorrow_afternoon",control:(0,L.jsx)(Y.A,{}),label:"Tomorrow afternoon (1pm)"}),(0,L.jsx)(X.A,{value:"custom",control:(0,L.jsx)(Y.A,{}),label:"Custom"})]})}),"custom"===D&&(0,L.jsxs)(i.A,{sx:{display:"flex",gap:2,mt:2,mb:2},children:[(0,L.jsx)(d.A,{type:"date",size:"small",value:B,onChange:e=>q(e.target.value),InputProps:{startAdornment:(0,L.jsx)(oe.A,{fontSize:"small",sx:{mr:1,color:"text.secondary"}})},sx:{flex:1}}),(0,L.jsx)(d.A,{type:"time",size:"small",value:_,onChange:e=>re(e.target.value),sx:{width:"120px"}})]}),(0,L.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,L.jsx)(x.A,{variant:"contained",onClick:()=>{let e="";switch(D){case"1hour":e="in 1 hour";break;case"2hours":e="in 2 hours";break;case"tomorrow_morning":e="tomorrow morning (8am)";break;case"tomorrow_afternoon":e="tomorrow afternoon (1pm)";break;case"custom":e="on ".concat(B," at ").concat(_)}console.log("Email scheduled to be sent ".concat("custom"===D?"on ".concat(B," at ").concat(_):"with option: ".concat(D))),w(!1),b(!0),de()},sx:{bgcolor:"#ff7a59","&:hover":{bgcolor:"#ff5c33"}},children:"Schedule"}),(0,L.jsx)(x.A,{variant:"outlined",onClick:de,children:"Cancel"})]})]})]})]})]})]}):null},ce=e=>{let{open:t,onClose:n}=e;return(0,L.jsxs)(a.A,{open:t,onClose:n,fullWidth:!0,maxWidth:"sm",children:[(0,L.jsx)(R.A,{children:(0,L.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:["Add Note",(0,L.jsx)(m.A,{onClick:n,size:"small",children:(0,L.jsx)(U.A,{})})]})}),(0,L.jsxs)(D.A,{children:[(0,L.jsx)(d.A,{autoFocus:!0,margin:"dense",id:"note",label:"Note",multiline:!0,rows:4,fullWidth:!0,variant:"outlined"}),(0,L.jsxs)(x.A,{variant:"outlined",component:"label",sx:{mt:2},children:["Attach File",(0,L.jsx)("input",{type:"file",hidden:!0})]})]}),(0,L.jsxs)(q.A,{children:[(0,L.jsx)(x.A,{onClick:n,children:"Cancel"}),(0,L.jsx)(x.A,{onClick:n,variant:"contained",color:"primary",children:"Save"})]})]})},xe=[{id:1,firstName:"Nguy\u1ec5n",lastName:"V\u0103n A",email:"nguyenvana@example.com",phone:"0901234567",owner:"Admin User",createDate:"2023-07-15",leadStatus:"New"},{id:2,firstName:"Tr\u1ea7n",lastName:"Th\u1ecb B",email:"tranthib@example.com",phone:"0912345678",owner:"Sales Rep",createDate:"2023-07-10",leadStatus:"Qualified"},{id:3,firstName:"L\xea",lastName:"V\u0103n C",email:"levanc@example.com",phone:"0923456789",owner:"Admin User",createDate:"2023-07-05",leadStatus:"Contacted"},{id:4,firstName:"Ph\u1ea1m",lastName:"Th\u1ecb D",email:"phamthid@example.com",phone:"0934567890",owner:"Sales Rep",createDate:"2023-06-30",leadStatus:"New"},{id:5,firstName:"Ho\xe0ng",lastName:"V\u0103n E",email:"hoangvane@example.com",phone:"0945678901",owner:"Admin User",createDate:"2023-06-25",leadStatus:"Qualified"}],de=()=>{const[e,t]=(0,l.useState)(0),[n,r]=(0,l.useState)(10),[c,x]=(0,l.useState)(""),[d,h]=(0,l.useState)([]),[m,p]=(0,l.useState)(!1),[u,f]=(0,l.useState)(!1),[j,A]=(0,l.useState)(null),[g,b]=(0,l.useState)(!1),[S,w]=(0,l.useState)(!1),[C,y]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"}),v=()=>{p(!1),y({firstName:"",lastName:"",email:"",phone:"",jobTitle:"",leadStatus:"New"})},z=()=>{f(!1)},k=xe.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.phone.includes(c));return(0,L.jsxs)(i.A,{sx:{p:3},children:[(0,L.jsx)(T,{contacts:xe,searchTerm:c,page:e,rowsPerPage:n,selectedContacts:d,onSearchChange:e=>{x(e.target.value),t(0)},onChangePage:(e,n)=>{t(n)},onChangeRowsPerPage:e=>{r(+e.target.value),t(0)},onSelectAllClick:e=>{if(e.target.checked){const e=k.map(e=>e.id);return void h(e)}h([])},onCheckboxClick:e=>{const t=d.indexOf(e);let n=[];-1===t?n=n.concat(d,e):0===t?n=n.concat(d.slice(1)):t===d.length-1?n=n.concat(d.slice(0,-1)):t>0&&(n=n.concat(d.slice(0,t),d.slice(t+1))),h(n)},onOpenCreateDialog:()=>{p(!0)},onOpenContactDrawer:e=>{A(e),f(!0)},getInitials:(e,t)=>"".concat(e.charAt(0)).concat(t.charAt(0)),isSelected:e=>-1!==d.indexOf(e)}),(0,L.jsx)(a.A,{open:m,onClose:v,fullWidth:!0,maxWidth:"sm",children:(0,L.jsx)(_,{newContact:C,onClose:v,onChange:e=>{const{name:t,value:n}=e.target;y((0,s.A)((0,s.A)({},C),{},{[t]:n}))},onLeadStatusChange:e=>{y((0,s.A)((0,s.A)({},C),{},{leadStatus:e.target.value}))},onSubmit:()=>{console.log("Creating contact:",C),v(),alert("\u2705 Contact created successfully!")}})}),(0,L.jsx)(o.Ay,{anchor:"right",open:u,onClose:(e,t)=>{if("backdropClick"===t){const e=document.querySelector(".email-window");if(e&&e.contains(document.activeElement))return}z()},ModalProps:{BackdropProps:{sx:{backgroundColor:"transparent"}}},sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:500},p:2}},children:j&&(0,L.jsx)(E.A,{contact:j,onClose:z,onOpenEmailWindow:()=>{w(!0)},onOpenNoteDialog:()=>{b(!0)}})}),(0,L.jsx)(ce,{open:g,onClose:()=>{b(!1)}}),(0,L.jsx)(re,{open:S,onClose:()=>{w(!1)},recipientEmail:(null===j||void 0===j?void 0:j.email)||"",fromContactDetails:!0})]})}},10706:(e,t,n)=>{n.d(t,{A:()=>w});var s=n(65043),l=n(53969),i=n(55895),a=n(42579),o=n(26529),r=n(94527),c=n(91244),x=n(16128),d=n(83759),h=n(27421),m=n(61773),p=n(19817),u=n(94045),f=n(4573),j=n(23241),A=n(73069),g=n(69200),b=n(25272),S=n(70579);const w=e=>{let{contact:t,onClose:n,onOpenEmailWindow:w,onOpenNoteDialog:C}=e;const[y,v]=(0,s.useState)(!1),[z,k]=(0,s.useState)(!1);return(0,S.jsxs)(l.A,{sx:{fontSize:"0.9rem"},children:[(0,S.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,children:[(0,S.jsx)(i.A,{variant:"h6",sx:{fontSize:"1.1rem"},children:"Contact Details"}),(0,S.jsx)(a.A,{onClick:n,size:"small",children:(0,S.jsx)(h.A,{fontSize:"small"})})]}),(0,S.jsxs)(l.A,{mb:2,children:[(0,S.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[(0,S.jsxs)(i.A,{variant:"h5",fontWeight:"bold",sx:{fontSize:"1.1rem"},children:[t.firstName," ",t.lastName]}),y&&(0,S.jsx)(a.A,{size:"small",sx:{ml:1},children:(0,S.jsx)(m.A,{fontSize:"small"})})]}),(0,S.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[(0,S.jsx)(i.A,{color:"text.secondary",sx:{mb:.5,fontSize:"0.85rem"},children:t.email}),z&&(0,S.jsx)(a.A,{size:"small",sx:{ml:1},onClick:()=>{navigator.clipboard.writeText(t.email),alert("Email copied to clipboard!")},children:(0,S.jsx)(p.A,{fontSize:"small"})})]}),(0,S.jsxs)(l.A,{display:"flex",gap:.5,mt:1.5,children:[(0,S.jsx)(o.A,{title:"Add Note",children:(0,S.jsx)(a.A,{color:"primary",onClick:C,size:"small",children:(0,S.jsx)(u.A,{fontSize:"small"})})}),(0,S.jsx)(o.A,{title:"Send Email",children:(0,S.jsx)(a.A,{color:"primary",onClick:w,size:"small",children:(0,S.jsx)(f.A,{fontSize:"small"})})}),(0,S.jsx)(o.A,{title:"Call",children:(0,S.jsx)(a.A,{color:"primary",size:"small",children:(0,S.jsx)(j.A,{fontSize:"small"})})}),(0,S.jsx)(o.A,{title:"Schedule",children:(0,S.jsx)(a.A,{color:"primary",size:"small",children:(0,S.jsx)(A.A,{fontSize:"small"})})}),(0,S.jsx)(o.A,{title:"Create Task",children:(0,S.jsx)(a.A,{color:"primary",size:"small",children:(0,S.jsx)(g.A,{fontSize:"small"})})})]})]}),(0,S.jsx)(r.A,{sx:{my:1.5}}),(0,S.jsx)(c.A,{variant:"outlined",sx:{mb:1.5},children:(0,S.jsxs)(x.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,S.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"About this contact"}),(0,S.jsx)(b.A,{fontSize:"small"})]}),(0,S.jsxs)(l.A,{mt:1.5,sx:{display:"flex",flexWrap:"wrap",gap:1.5},children:[(0,S.jsxs)(l.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Phone"}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.phone})]}),(0,S.jsxs)(l.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Lead Status"}),(0,S.jsx)(d.A,{label:t.leadStatus,color:"New"===t.leadStatus?"primary":"Qualified"===t.leadStatus?"success":"warning",size:"small",sx:{height:"20px","& .MuiChip-label":{fontSize:"0.75rem",px:1}}})]}),(0,S.jsxs)(l.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Owner"}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.owner})]}),(0,S.jsxs)(l.A,{sx:{flex:"1 1 calc(50% - 8px)"},children:[(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Created"}),(0,S.jsx)(i.A,{variant:"body1",sx:{fontSize:"0.85rem"},children:t.createDate})]})]})]})}),(0,S.jsx)(c.A,{variant:"outlined",children:(0,S.jsxs)(x.A,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[(0,S.jsx)(i.A,{variant:"subtitle1",fontWeight:"bold",sx:{fontSize:"0.9rem"},children:"Activity Timeline"}),(0,S.jsx)(l.A,{mt:1.5,display:"flex",justifyContent:"center",alignItems:"center",height:80,children:(0,S.jsx)(i.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"No activities yet"})})]})})]})}}}]);
//# sourceMappingURL=228.ecb78fb2.chunk.js.map