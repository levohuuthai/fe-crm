{"version":3,"file":"static/js/343.0571f7ee.chunk.js","mappings":"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","sources":["pages/Deals/index.tsx","../node_modules/@mui/icons-material/esm/CalendarToday.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Container,\r\n  useTheme,\r\n  alpha,\r\n  Fade\r\n} from '@mui/material';\r\nimport SmartTable, { SmartTableColumn, SmartTableRow } from '../../components/SmartTable';\r\nimport FilterBar, { FilterConfig, FilterOwner, FilterStatus, SavedView, FilterQuery } from '../../components/FilterBar';\r\nimport {\r\n  Person as PersonIcon,\r\n  CalendarToday as CalendarIcon,\r\n  Timeline as ActivityIcon,\r\n  AttachMoney as MoneyIcon,\r\n  Label as StatusIcon\r\n} from '@mui/icons-material';\r\n\r\n// Mock users data (same as contacts)\r\nconst mockUsers = [\r\n  { id: '1', name: 'Trần Thị B', email: 'tran.b@company.com', avatar: '/avatars/tran.jpg' },\r\n  { id: '2', name: 'Phạm Văn C', email: 'pham.c@company.com', avatar: '/avatars/pham.jpg' },\r\n  { id: '3', name: 'Nguyễn Thị D', email: 'nguyen.d@company.com', avatar: '/avatars/nguyen.jpg' },\r\n  { id: '4', name: 'Lê Văn E', email: 'le.e@company.com', avatar: '/avatars/le.jpg' },\r\n  { id: '5', name: 'Hoàng Thị F', email: 'hoang.f@company.com', avatar: '/avatars/hoang.jpg' }\r\n];\r\n\r\n// Deal stage options\r\nconst dealStageOptions = [\r\n  { value: 'prospecting', label: 'Prospecting', color: '#2196f3' },\r\n  { value: 'qualification', label: 'Qualification', color: '#ff9800' },\r\n  { value: 'proposal', label: 'Proposal', color: '#9c27b0' },\r\n  { value: 'negotiation', label: 'Negotiation', color: '#f44336' },\r\n  { value: 'closed-won', label: 'Closed Won', color: '#4caf50' },\r\n  { value: 'closed-lost', label: 'Closed Lost', color: '#9e9e9e' }\r\n];\r\n\r\n// Deal priority options\r\nconst dealPriorityOptions = [\r\n  { value: 'low', label: 'Low', color: '#9e9e9e' },\r\n  { value: 'medium', label: 'Medium', color: '#ff9800' },\r\n  { value: 'high', label: 'High', color: '#f44336' },\r\n  { value: 'urgent', label: 'Urgent', color: '#e91e63' }\r\n];\r\n\r\n// Table columns configuration for deals\r\nconst dealsColumns: SmartTableColumn[] = [\r\n  {\r\n    id: 'dealName',\r\n    label: 'Tên Deal',\r\n    type: 'text',\r\n    width: 250,\r\n    sortable: true,\r\n    editable: true,\r\n    required: true\r\n  },\r\n  {\r\n    id: 'customer',\r\n    label: 'Khách hàng',\r\n    type: 'text',\r\n    width: 200,\r\n    sortable: true,\r\n    editable: true,\r\n    required: true\r\n  },\r\n  {\r\n    id: 'amount',\r\n    label: 'Giá trị',\r\n    type: 'currency',\r\n    width: 150,\r\n    sortable: true,\r\n    editable: true,\r\n    required: true,\r\n    format: (value: number) => {\r\n      if (value >= 1000000000) return `${(value / 1000000000).toFixed(1)}B₫`;\r\n      if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M₫`;\r\n      if (value >= 1000) return `${(value / 1000).toFixed(1)}K₫`;\r\n      return `${value}₫`;\r\n    }\r\n  },\r\n  {\r\n    id: 'stage',\r\n    label: 'Giai đoạn',\r\n    type: 'select',\r\n    width: 150,\r\n    sortable: true,\r\n    editable: true,\r\n    options: dealStageOptions\r\n  },\r\n  {\r\n    id: 'priority',\r\n    label: 'Độ ưu tiên',\r\n    type: 'select',\r\n    width: 120,\r\n    sortable: true,\r\n    editable: true,\r\n    options: dealPriorityOptions\r\n  },\r\n  {\r\n    id: 'owner',\r\n    label: 'Người phụ trách',\r\n    type: 'userSelect',\r\n    width: 180,\r\n    sortable: true,\r\n    editable: true\r\n  },\r\n  {\r\n    id: 'probability',\r\n    label: 'Xác suất (%)',\r\n    type: 'number',\r\n    width: 120,\r\n    sortable: true,\r\n    editable: true,\r\n    validate: (value: number) => {\r\n      const num = Number(value);\r\n      return num >= 0 && num <= 100 ? null : 'Xác suất phải từ 0-100%';\r\n    },\r\n    format: (value: number) => `${value}%`\r\n  },\r\n  {\r\n    id: 'expectedCloseDate',\r\n    label: 'Ngày dự kiến đóng',\r\n    type: 'date',\r\n    width: 150,\r\n    sortable: true,\r\n    editable: true\r\n  },\r\n  {\r\n    id: 'lastActivity',\r\n    label: 'Hoạt động cuối',\r\n    type: 'date',\r\n    width: 140,\r\n    sortable: true,\r\n    editable: true\r\n  },\r\n  {\r\n    id: 'actions',\r\n    label: 'Thao tác',\r\n    type: 'actions',\r\n    width: 100,\r\n    sortable: false,\r\n    editable: false\r\n  }\r\n];\r\n\r\n// Mock deals data\r\nconst mockDealsData: SmartTableRow[] = [\r\n  {\r\n    id: '1',\r\n    dealName: 'Hệ thống CRM cho ABC Corp',\r\n    customer: 'ABC Corporation',\r\n    amount: 500000000,\r\n    stage: 'proposal',\r\n    priority: 'high',\r\n    owner: '1',\r\n    probability: 75,\r\n    expectedCloseDate: '2024-02-15',\r\n    lastActivity: '2024-01-15'\r\n  },\r\n  {\r\n    id: '2',\r\n    dealName: 'Phần mềm quản lý kho XYZ',\r\n    customer: 'XYZ Trading',\r\n    amount: 300000000,\r\n    stage: 'negotiation',\r\n    priority: 'urgent',\r\n    owner: '2',\r\n    probability: 85,\r\n    expectedCloseDate: '2024-01-30',\r\n    lastActivity: '2024-01-14'\r\n  },\r\n  {\r\n    id: '3',\r\n    dealName: 'Giải pháp Cloud cho Tech Solutions',\r\n    customer: 'Tech Solutions',\r\n    amount: 800000000,\r\n    stage: 'qualification',\r\n    priority: 'medium',\r\n    owner: '3',\r\n    probability: 60,\r\n    expectedCloseDate: '2024-03-20',\r\n    lastActivity: '2024-01-12'\r\n  },\r\n  {\r\n    id: '4',\r\n    dealName: 'App mobile cho Innovation Startup',\r\n    customer: 'Innovation Startup',\r\n    amount: 250000000,\r\n    stage: 'prospecting',\r\n    priority: 'low',\r\n    owner: '1',\r\n    probability: 30,\r\n    expectedCloseDate: '2024-04-10',\r\n    lastActivity: '2024-01-10'\r\n  },\r\n  {\r\n    id: '5',\r\n    dealName: 'ERP System cho Big Enterprise',\r\n    customer: 'Big Enterprise',\r\n    amount: 1200000000,\r\n    stage: 'proposal',\r\n    priority: 'urgent',\r\n    owner: '4',\r\n    probability: 70,\r\n    expectedCloseDate: '2024-02-28',\r\n    lastActivity: '2024-01-13'\r\n  },\r\n  {\r\n    id: '6',\r\n    dealName: 'POS System cho Retail Chain',\r\n    customer: 'Retail Chain',\r\n    amount: 400000000,\r\n    stage: 'closed-won',\r\n    priority: 'high',\r\n    owner: '2',\r\n    probability: 100,\r\n    expectedCloseDate: '2024-01-20',\r\n    lastActivity: '2024-01-16'\r\n  },\r\n  {\r\n    id: '7',\r\n    dealName: 'Fintech Solution cho Financial Services',\r\n    customer: 'Financial Services',\r\n    amount: 600000000,\r\n    stage: 'negotiation',\r\n    priority: 'high',\r\n    owner: '5',\r\n    probability: 80,\r\n    expectedCloseDate: '2024-02-05',\r\n    lastActivity: '2024-01-15'\r\n  },\r\n  {\r\n    id: '8',\r\n    dealName: 'Healthcare Management System',\r\n    customer: 'Healthcare Group',\r\n    amount: 350000000,\r\n    stage: 'qualification',\r\n    priority: 'medium',\r\n    owner: '3',\r\n    probability: 50,\r\n    expectedCloseDate: '2024-03-15',\r\n    lastActivity: '2024-01-11'\r\n  },\r\n  {\r\n    id: '9',\r\n    dealName: 'E-commerce Platform cho Online Store',\r\n    customer: 'Online Store Ltd',\r\n    amount: 180000000,\r\n    stage: 'closed-lost',\r\n    priority: 'low',\r\n    owner: '1',\r\n    probability: 0,\r\n    expectedCloseDate: '2024-01-10',\r\n    lastActivity: '2024-01-08'\r\n  },\r\n  {\r\n    id: '10',\r\n    dealName: 'Digital Marketing Suite',\r\n    customer: 'Marketing Agency',\r\n    amount: 220000000,\r\n    stage: 'prospecting',\r\n    priority: 'medium',\r\n    owner: '4',\r\n    probability: 25,\r\n    expectedCloseDate: '2024-04-30',\r\n    lastActivity: '2024-01-09'\r\n  }\r\n];\r\n\r\nconst DealsPage: React.FC = () => {\r\n  const theme = useTheme();\r\n  const [dealsData, setDealsData] = useState<SmartTableRow[]>(mockDealsData);\r\n  const [filteredData, setFilteredData] = useState<SmartTableRow[]>(mockDealsData);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedRows, setSelectedRows] = useState<string[]>([]);\r\n  const [currentView, setCurrentView] = useState('all');\r\n\r\n  // Filter configuration for Deals\r\n  const filterConfigs: FilterConfig[] = [\r\n    {\r\n      id: 'owner',\r\n      label: 'Contact owner',\r\n      type: 'owner',\r\n      icon: <PersonIcon fontSize=\"small\" />,\r\n      enabled: true,\r\n      fieldName: 'owner'\r\n    },\r\n    {\r\n      id: 'expectedCloseDate',\r\n      label: 'Ngày dự kiến đóng',\r\n      type: 'date',\r\n      icon: <CalendarIcon fontSize=\"small\" />,\r\n      enabled: true,\r\n      fieldName: 'expectedCloseDate'\r\n    },\r\n    {\r\n      id: 'lastActivity',\r\n      label: 'Hoạt động cuối',\r\n      type: 'date',\r\n      icon: <ActivityIcon fontSize=\"small\" />,\r\n      enabled: true,\r\n      fieldName: 'lastActivity'\r\n    },\r\n    {\r\n      id: 'amount',\r\n      label: 'Amount',\r\n      type: 'amount',\r\n      icon: <MoneyIcon fontSize=\"small\" />,\r\n      enabled: true,\r\n      fieldName: 'amount'\r\n    },\r\n    {\r\n      id: 'stage',\r\n      label: 'Stage',\r\n      type: 'status',\r\n      icon: <StatusIcon fontSize=\"small\" />,\r\n      enabled: true,\r\n      fieldName: 'stage'\r\n    }\r\n  ];\r\n\r\n  // Saved views for Deals\r\n  const savedViews: SavedView[] = [\r\n    { id: 'all', label: 'All', count: mockDealsData.length },\r\n    { id: 'my', label: 'My deals', count: 6 },\r\n    { id: 'unassigned', label: 'Unassigned', count: 2 }\r\n  ];\r\n\r\n  // Filter owners (using existing mockUsers)\r\n  const filterOwners: FilterOwner[] = mockUsers.map(user => ({\r\n    id: user.id,\r\n    name: user.name,\r\n    email: user.email,\r\n    avatar: user.avatar\r\n  }));\r\n\r\n  // Filter statuses (using existing dealStageOptions)\r\n  const filterStatuses: FilterStatus[] = dealStageOptions.map(stage => ({\r\n    value: stage.value,\r\n    label: stage.label,\r\n    color: stage.color\r\n  }));\r\n\r\n  // Handle filter query change\r\n  const handleFilterQueryChange = (query: FilterQuery) => {\r\n    // Mock filtering logic - in real app this would be API call\r\n    let filtered = [...dealsData];\r\n\r\n    // Filter by owners\r\n    if (query.ownerIds.length > 0) {\r\n      filtered = filtered.filter(deal => \r\n        query.ownerIds.includes(deal.owner) || \r\n        (query.ownerIds.includes('unassigned') && !deal.owner)\r\n      );\r\n    }\r\n\r\n    // Filter by stage (using leadStatus field for consistency)\r\n    if (query.leadStatus.length > 0) {\r\n      filtered = filtered.filter(deal => \r\n        query.leadStatus.includes(deal.stage)\r\n      );\r\n    }\r\n\r\n    // Filter by amount\r\n    if (query.amount) {\r\n      const { min, max } = query.amount;\r\n      filtered = filtered.filter(deal => {\r\n        const amount = deal.amount || 0;\r\n        if (min && max) return amount >= min && amount <= max;\r\n        if (min) return amount >= min;\r\n        if (max) return amount <= max;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // Filter by expected close date (mock logic)\r\n    if ((query as any).expectedCloseDate?.preset) {\r\n      console.log('Filtering by expected close date:', (query as any).expectedCloseDate.preset);\r\n    }\r\n\r\n    // Filter by last activity date (mock logic)\r\n    if ((query as any).lastActivity?.preset) {\r\n      console.log('Filtering by last activity:', (query as any).lastActivity.preset);\r\n    }\r\n\r\n    setFilteredData(filtered);\r\n  };\r\n\r\n  // Handle view change\r\n  const handleViewChange = (viewId: string) => {\r\n    setCurrentView(viewId);\r\n    // Mock view filtering logic\r\n    let filtered = [...dealsData];\r\n    \r\n    switch (viewId) {\r\n      case 'my':\r\n        filtered = filtered.filter(deal => deal.owner === '1'); // Current user\r\n        break;\r\n      case 'unassigned':\r\n        filtered = filtered.filter(deal => !deal.owner);\r\n        break;\r\n      default:\r\n        filtered = dealsData;\r\n    }\r\n    \r\n    setFilteredData(filtered);\r\n  };\r\n\r\n  // Handle cell edit\r\n  const handleCellEdit = async (rowId: string, columnId: string, value: any): Promise<boolean> => {\r\n    setLoading(true);\r\n    \r\n    // Simulate API call\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n    \r\n    // Update data\r\n    setDealsData(prev => \r\n      prev.map(row => \r\n        row.id === rowId ? { ...row, [columnId]: value } : row\r\n      )\r\n    );\r\n    \r\n    // Also update filtered data\r\n    setFilteredData(prev => \r\n      prev.map(row => \r\n        row.id === rowId ? { ...row, [columnId]: value } : row\r\n      )\r\n    );\r\n    \r\n    setLoading(false);\r\n    return true;\r\n  };\r\n\r\n  // Handle row double click\r\n  const handleRowDoubleClick = (row: SmartTableRow) => {\r\n    console.log('Open deal detail:', row);\r\n    // Navigate to deal detail page or open side panel\r\n  };\r\n\r\n  // Handle bulk actions\r\n  const handleBulkAction = (action: string, selectedRows: string[]) => {\r\n    console.log('Bulk action:', action, selectedRows);\r\n    switch (action) {\r\n      case 'delete':\r\n        setDealsData(prev => prev.filter(row => !selectedRows.includes(row.id)));\r\n        setSelectedRows([]);\r\n        break;\r\n      case 'assign':\r\n        // Open assign owner dialog\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Calculate summary stats\r\n  const totalValue = dealsData.reduce((sum, deal) => sum + (deal.amount || 0), 0);\r\n  const wonDeals = dealsData.filter(deal => deal.stage === 'closed-won');\r\n  const wonValue = wonDeals.reduce((sum, deal) => sum + (deal.amount || 0), 0);\r\n  const activeDeals = dealsData.filter(deal => !['closed-won', 'closed-lost'].includes(deal.stage));\r\n\r\n  const formatCurrency = (value: number) => {\r\n    if (value >= 1000000000) return `${(value / 1000000000).toFixed(1)}B₫`;\r\n    if (value >= 1000000) return `${(value / 1000000).toFixed(1)}M₫`;\r\n    if (value >= 1000) return `${(value / 1000).toFixed(1)}K₫`;\r\n    return `${value}₫`;\r\n  };\r\n\r\n  return (\r\n    <Fade in timeout={800}>\r\n      <Box sx={{ \r\n        width: '100%', \r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden'\r\n      }}>\r\n        {/* Page Header */}\r\n        <Box sx={{ \r\n          mb: 3,\r\n          flexShrink: 0,\r\n          px: 1\r\n        }}>\r\n          <Typography \r\n            variant=\"h4\" \r\n            component=\"h1\" \r\n            sx={{ \r\n              fontWeight: 'bold',\r\n              color: 'text.primary',\r\n              mb: 1\r\n            }}\r\n          >\r\n            Quản lý Cơ hội\r\n          </Typography>\r\n          <Typography \r\n            variant=\"body1\" \r\n            color=\"text.secondary\"\r\n            sx={{ mb: 3 }}\r\n          >\r\n            Theo dõi và quản lý các cơ hội bán hàng từ prospecting đến closing\r\n          </Typography>\r\n\r\n          {/* Summary Cards */}\r\n          <Box sx={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n            gap: 2\r\n          }}>\r\n            <Box sx={{\r\n              p: 2,\r\n              borderRadius: 2,\r\n              backgroundColor: alpha(theme.palette.primary.main, 0.1),\r\n              border: `1px solid ${alpha(theme.palette.primary.main, 0.2)}`\r\n            }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">Tổng giá trị</Typography>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary\">\r\n                {formatCurrency(totalValue)}\r\n              </Typography>\r\n            </Box>\r\n            \r\n            <Box sx={{\r\n              p: 2,\r\n              borderRadius: 2,\r\n              backgroundColor: alpha(theme.palette.success.main, 0.1),\r\n              border: `1px solid ${alpha(theme.palette.success.main, 0.2)}`\r\n            }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">Đã thắng</Typography>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\" color=\"success.main\">\r\n                {formatCurrency(wonValue)}\r\n              </Typography>\r\n            </Box>\r\n            \r\n            <Box sx={{\r\n              p: 2,\r\n              borderRadius: 2,\r\n              backgroundColor: alpha(theme.palette.warning.main, 0.1),\r\n              border: `1px solid ${alpha(theme.palette.warning.main, 0.2)}`\r\n            }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">Đang hoạt động</Typography>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\" color=\"warning.main\">\r\n                {activeDeals.length} deals\r\n              </Typography>\r\n            </Box>\r\n            \r\n            <Box sx={{\r\n              p: 2,\r\n              borderRadius: 2,\r\n              backgroundColor: alpha(theme.palette.info.main, 0.1),\r\n              border: `1px solid ${alpha(theme.palette.info.main, 0.2)}`\r\n            }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">Tỷ lệ thắng</Typography>\r\n              <Typography variant=\"h6\" fontWeight=\"bold\" color=\"info.main\">\r\n                {dealsData.length > 0 ? Math.round((wonDeals.length / dealsData.length) * 100) : 0}%\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Filter Bar */}\r\n        <FilterBar\r\n          entity=\"deals\"\r\n          availableFilters={filterConfigs}\r\n          owners={filterOwners}\r\n          statuses={filterStatuses}\r\n          savedViews={savedViews}\r\n          currency=\"₫\"\r\n          onQueryChange={handleFilterQueryChange}\r\n          onViewChange={handleViewChange}\r\n          sticky={true}\r\n        />\r\n\r\n        {/* Smart Table Container */}\r\n        <Box sx={{\r\n          flex: 1,\r\n          overflow: 'hidden',\r\n          display: 'flex',\r\n          flexDirection: 'column'\r\n        }}>\r\n          <SmartTable\r\n            columns={dealsColumns}\r\n            data={filteredData}\r\n            loading={loading}\r\n            searchable={true}\r\n            filterable={false}\r\n            selectable={true}\r\n            pagination={true}\r\n            defaultRowsPerPage={25}\r\n            onRowSelect={setSelectedRows}\r\n            onCellEdit={handleCellEdit}\r\n            onRowDoubleClick={handleRowDoubleClick}\r\n            onBulkAction={handleBulkAction}\r\n            users={mockUsers}\r\n            emptyMessage=\"Chưa có cơ hội nào\"\r\n            zebra={true}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </Fade>\r\n  );\r\n};\r\n\r\nexport default DealsPage;\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z\"\n}), 'CalendarToday');"],"names":["mockUsers","id","name","email","avatar","dealStageOptions","value","label","color","dealsColumns","type","width","sortable","editable","required","format","concat","toFixed","options","validate","num","Number","mockDealsData","dealName","customer","amount","stage","priority","owner","probability","expectedCloseDate","lastActivity","DealsPage","theme","useTheme","dealsData","setDealsData","useState","filteredData","setFilteredData","loading","setLoading","selectedRows","setSelectedRows","currentView","setCurrentView","filterConfigs","icon","_jsx","PersonIcon","fontSize","enabled","fieldName","CalendarIcon","ActivityIcon","MoneyIcon","StatusIcon","savedViews","count","length","filterOwners","map","user","filterStatuses","totalValue","reduce","sum","deal","wonDeals","filter","wonValue","activeDeals","includes","formatCurrency","Fade","in","timeout","children","_jsxs","Box","sx","height","display","flexDirection","overflow","mb","flexShrink","px","Typography","variant","component","fontWeight","gridTemplateColumns","gap","p","borderRadius","backgroundColor","alpha","palette","primary","main","border","success","warning","info","Math","round","FilterBar","entity","availableFilters","owners","statuses","currency","onQueryChange","query","_expectedCloseDate","_lastActivity","filtered","ownerIds","leadStatus","min","max","preset","console","log","onViewChange","viewId","sticky","flex","SmartTable","columns","data","searchable","filterable","selectable","pagination","defaultRowsPerPage","onRowSelect","onCellEdit","async","rowId","columnId","Promise","resolve","setTimeout","prev","row","_objectSpread","onRowDoubleClick","onBulkAction","handleBulkAction","action","users","emptyMessage","zebra","createSvgIcon","d"],"sourceRoot":""}