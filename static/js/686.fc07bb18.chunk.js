"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[686],{12686:(e,s,n)=>{n.r(s),n.d(s,{default:()=>Ae});var t=n(89379),i=n(65043),r=n(74117),l=n(53969),a=n(55895),o=n(70298),d=n(41859),c=n(94799),h=n(24343),u=n(17060),x=n(10256),m=n(3353),p=n(67203),A=n(47471),j=n(50103),g=n(22950),f=n(63745),b=n(40847),v=n(38517),y=n(81911),q=n(78776),C=n(9200),w=n(85877),k=n(70579);const S=e=>{let{open:s,onClose:n,onConfirm:t,title:i="X\xe1c nh\u1eadn x\xf3a",content:r="B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a m\u1ee5c n\xe0y?"}=e;return(0,k.jsxs)(v.A,{open:s,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(y.A,{id:"alert-dialog-title",children:i}),(0,k.jsx)(q.A,{children:(0,k.jsx)(C.A,{id:"alert-dialog-description",children:r})}),(0,k.jsxs)(w.A,{children:[(0,k.jsx)(d.A,{onClick:n,color:"primary",children:"H\u1ee7y"}),(0,k.jsx)(d.A,{onClick:t,color:"error",autoFocus:!0,children:"X\xe1c nh\u1eadn"})]})]})};var I=n(28259),W=n(87443),P=n(10756),D=n(86172),T=n(81341),z=n(34375),H=n(83759),M=n(42579),R=n(89174),B=n(61773),K=n(5362);const N=e=>{switch(e){case"pending":return"warning";case"in_discussion":return"info";case"confirmed":return"success";default:return"default"}},_=(e,s)=>{switch(s){case"pending":return e("pages.requirements.status.pending");case"in_discussion":return e("pages.requirements.status.in_discussion");case"confirmed":return e("pages.requirements.status.confirmed");default:return e("common.unknown")}},E=e=>{let{requirements:s,page:n,rowsPerPage:t,totalCount:i,onPageChange:l,onRowsPerPageChange:o,onEdit:d,onDelete:h,onViewDetail:u}=e;const{t:x}=(0,r.Bd)();return(0,k.jsxs)(c.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,k.jsx)(I.A,{sx:{maxHeight:440},children:(0,k.jsxs)(W.A,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.id")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.name")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.type")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.customer")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.assignee")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.source")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.createdDate")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.deadline")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.status")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.actions")})]})}),(0,k.jsx)(z.A,{children:s.length>0?s.map(e=>(0,k.jsxs)(D.A,{hover:!0,onClick:()=>u(e.id),sx:{cursor:"pointer"},children:[(0,k.jsx)(T.A,{children:e.id}),(0,k.jsx)(T.A,{children:e.name}),(0,k.jsx)(T.A,{children:e.type||"N/A"}),(0,k.jsx)(T.A,{children:e.customer}),(0,k.jsx)(T.A,{children:e.assignee}),(0,k.jsx)(T.A,{children:e.source||"N/A"}),(0,k.jsx)(T.A,{children:e.createdDate}),(0,k.jsx)(T.A,{children:e.expectedDeadline}),(0,k.jsx)(T.A,{children:(0,k.jsx)(H.A,{label:_(x,e.status),color:N(e.status),size:"small"})}),(0,k.jsxs)(T.A,{children:[(0,k.jsx)(M.A,{size:"small",onClick:()=>d(e.id),children:(0,k.jsx)(B.A,{fontSize:"small"})}),(0,k.jsx)(M.A,{size:"small",onClick:()=>h(e.id),children:(0,k.jsx)(K.A,{fontSize:"small"})})]})]},e.id)):(0,k.jsx)(D.A,{children:(0,k.jsx)(T.A,{colSpan:10,align:"center",children:(0,k.jsx)(a.A,{variant:"body1",children:x("pages.requirements.list.empty")})})})})]})}),(0,k.jsx)(R.A,{component:"div",count:i,rowsPerPage:t,page:n,onPageChange:l,onRowsPerPageChange:o,labelRowsPerPage:x("pages.requirements.pagination.rowsPerPage"),labelDisplayedRows:e=>{let{from:s,to:n,count:t}=e;return x("pages.requirements.pagination.displayedRows",{from:s,to:n,count:t})}})]})};var F=n(53407),L=n(79693),O=n(99147),G=n(68894),U=n(91244),X=n(16128),Q=n(43971),V=n(46261),Y=n(1725),J=n(68826),Z=n(80172),$=n(14333),ee=n(12843),se=n(51692),ne=n(95315),te=n(57401),ie=n(66185),re=n(31202),le=n(69302),ae=n(22672);const oe=e=>{let{open:s,onClose:n,onSave:o,customers:j,assignees:f}=e;const{t:b}=(0,r.Bd)(),[C,w]=(0,i.useState)(!1),[S,H]=(0,i.useState)({name:"",type:"",customer:"",assignee:"",source:"manual",status:"pending",expectedDeadline:new Date(Date.now()+6048e5).toISOString().split("T")[0],createdDate:(new Date).toISOString().split("T")[0],description:"",features:[]}),[R,B]=(0,i.useState)("manual"),[N,_]=(0,i.useState)([]),[E,oe]=(0,i.useState)(""),[de,ce]=(0,i.useState)(!1),[he,ue]=(0,i.useState)(0),[xe,me]=(0,i.useState)([]),[pe,Ae]=(0,i.useState)([]),[je,ge]=(0,i.useState)([]),[fe,be]=(0,i.useState)([]),[ve,ye]=(0,i.useState)([]),qe=(0,i.useRef)(null),[Ce,we]=(0,i.useState)(null),[ke,Se]=(0,i.useState)(null),[Ie,We]=(0,i.useState)(""),Pe=()=>{ce(!1),_([]),oe(""),B("manual"),ue(0),me([]),Ae([]),ge([]),be([]),ye([]),H({name:"",type:"",customer:"",assignee:"",source:"manual",status:"pending",expectedDeadline:new Date(Date.now()+6048e5).toISOString().split("T")[0],createdDate:(new Date).toISOString().split("T")[0],description:"",features:[]})},De=(e,s,n)=>{_(i=>i.map(i=>i.id===e.id?(0,t.A)((0,t.A)({},i),{},{[s]:n}):i))},[Te,ze]=(0,i.useState)(0);return(0,k.jsxs)(v.A,{open:s,onClose:n,maxWidth:"lg",fullWidth:!0,children:[(0,k.jsx)(y.A,{children:(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,k.jsx)(a.A,{variant:"h6",children:b("pages.requirements.form.title")}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mr:1},children:b("pages.requirements.form.steps.indicator",{current:Te+1})}),(0,k.jsxs)(l.A,{sx:{width:100,display:"flex",alignItems:"center"},children:[(0,k.jsx)(l.A,{sx:{width:"".concat(50*(Te+1),"%"),height:4,backgroundColor:"primary.main",borderRadius:1}}),(0,k.jsx)(l.A,{sx:{width:"".concat(50*(2-Te-1),"%"),height:4,backgroundColor:"grey.300",borderRadius:1}})]})]})]})}),(0,k.jsx)(q.A,{children:(0,k.jsxs)(l.A,{sx:{mt:2},children:[(0,k.jsxs)(F.A,{activeStep:Te,orientation:"vertical",sx:{"& .MuiStepLabel-root":{padding:"8px 0"}},children:[(0,k.jsxs)(L.A,{children:[(0,k.jsx)(O.A,{children:(0,k.jsx)(a.A,{variant:"subtitle1",children:b("pages.requirements.form.steps.step1")})}),(0,k.jsxs)(G.A,{children:[(0,k.jsx)(U.A,{variant:"outlined",sx:{mb:2},children:(0,k.jsxs)(X.A,{children:[(0,k.jsx)(h.A,{label:b("pages.requirements.form.fields.name"),fullWidth:!0,required:!0,value:S.name||"",onChange:e=>H((0,t.A)((0,t.A)({},S),{},{name:e.target.value})),margin:"normal",size:"small",placeholder:b("pages.requirements.form.placeholders.name")}),(0,k.jsxs)(x.A,{fullWidth:!0,margin:"normal",size:"small",required:!0,children:[(0,k.jsx)(m.A,{children:b("pages.requirements.form.fields.type")}),(0,k.jsxs)(p.A,{value:S.type||"",label:b("pages.requirements.form.fields.type"),onChange:e=>H((0,t.A)((0,t.A)({},S),{},{type:e.target.value})),children:[(0,k.jsx)(A.A,{value:"RFI",children:"RFI"}),(0,k.jsx)(A.A,{value:"Bank",children:"Bank"}),(0,k.jsx)(A.A,{value:"Industry",children:"Industry"}),(0,k.jsx)(A.A,{value:"Client",children:"Client"}),(0,k.jsx)(A.A,{value:"Internal",children:"Internal"})]})]}),(0,k.jsxs)(l.A,{sx:{display:"flex",gap:2,mt:2,flexWrap:"wrap"},children:[(0,k.jsx)(u.A,{options:j,value:S.customer||null,onChange:(e,s)=>H((0,t.A)((0,t.A)({},S),{},{customer:s||""})),renderInput:e=>(0,k.jsx)(h.A,(0,t.A)((0,t.A)({},e),{},{label:b("pages.requirements.form.fields.customer"),size:"small",sx:{minWidth:250,flex:1},required:!0}))}),(0,k.jsx)(u.A,{options:f,value:S.assignee||null,onChange:(e,s)=>H((0,t.A)((0,t.A)({},S),{},{assignee:s||""})),renderInput:e=>(0,k.jsx)(h.A,(0,t.A)((0,t.A)({},e),{},{label:b("pages.requirements.form.fields.assignee"),size:"small",sx:{minWidth:250},required:!0}))}),(0,k.jsx)(h.A,{label:b("pages.requirements.form.fields.deadline"),type:"date",size:"small",sx:{minWidth:200},value:S.expectedDeadline||"",onChange:e=>H((0,t.A)((0,t.A)({},S),{},{expectedDeadline:e.target.value})),InputLabelProps:{shrink:!0},required:!0})]})]})}),(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:(0,k.jsx)(d.A,{variant:"contained",onClick:()=>{ze(e=>e+1)},disabled:!(S.name&&S.type&&S.customer&&S.assignee&&S.expectedDeadline),children:b("pages.requirements.form.actions.next")})})]})]}),(0,k.jsxs)(L.A,{children:[(0,k.jsx)(O.A,{children:(0,k.jsx)(a.A,{variant:"subtitle1",children:b("pages.requirements.form.steps.step2")})}),(0,k.jsxs)(G.A,{children:[(0,k.jsx)(U.A,{variant:"outlined",sx:{mb:2},children:(0,k.jsxs)(X.A,{children:[(0,k.jsxs)(x.A,{component:"fieldset",sx:{mb:2},children:[(0,k.jsx)(Q.A,{component:"legend",children:b("pages.requirements.form.method.group")}),(0,k.jsxs)(V.A,{row:!0,value:R,onChange:e=>B(e.target.value),children:[(0,k.jsx)(Y.A,{value:"manual",control:(0,k.jsx)(J.A,{}),label:b("pages.requirements.form.method.manual")}),(0,k.jsx)(Y.A,{value:"upload",control:(0,k.jsx)(J.A,{}),label:b("pages.requirements.form.method.upload")})]})]}),"manual"===R?(0,k.jsx)(h.A,{multiline:!0,rows:4,fullWidth:!0,placeholder:b("pages.requirements.form.placeholders.manualDescription"),variant:"outlined",sx:{mb:2},value:S.description||"",onChange:e=>H((0,t.A)((0,t.A)({},S),{},{description:e.target.value}))}):(0,k.jsxs)(l.A,{sx:{border:"1px dashed #ccc",p:3,borderRadius:1,textAlign:"center",mb:2},children:[(0,k.jsx)("input",{accept:".pdf,.docx",style:{display:"none"},id:"file-upload",type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&setTimeout(()=>{var s;H((0,t.A)((0,t.A)({},S),{},{description:"M\xf4 t\u1ea3 \u0111\u01b0\u1ee3c t\u1ea1o t\u1eeb file ".concat(null===(s=e.target.files)||void 0===s?void 0:s[0].name)}))},1e3)}}),(0,k.jsx)("label",{htmlFor:"file-upload",children:(0,k.jsx)(d.A,{variant:"outlined",component:"span",children:b("pages.requirements.form.method.uploadButton")})}),(0,k.jsx)(a.A,{variant:"body2",sx:{mt:1,color:"text.secondary"},children:b("pages.requirements.form.method.uploadHelp")})]})]})}),(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,k.jsx)(d.A,{onClick:()=>{ze(e=>e-1)},children:b("pages.requirements.form.actions.back")}),(0,k.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>{w(!0),setTimeout(()=>{oe("H\u1ec7 th\u1ed1ng qu\u1ea3n l\xfd kho v\u1edbi \u0111\u1ea7y \u0111\u1ee7 c\xe1c ch\u1ee9c n\u0103ng nh\u1eadp xu\u1ea5t t\u1ed3n"),_([{id:1,feature:"Qu\u1ea3n l\xfd Kho",detail:"Nh\u1eadp kho",description:"Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng nh\u1eadp h\xe0ng m\u1edbi v\xe0o kho",notes:"T\u1eeb AI (m\u1eabu)"},{id:2,feature:"Qu\u1ea3n l\xfd Kho",detail:"Xu\u1ea5t kho",description:"Ghi nh\u1eadn xu\u1ea5t kho khi giao h\xe0ng ho\u1eb7c b\xe1n",notes:"T\u1eeb AI (m\u1eabu)"},{id:3,feature:"Gi\xe1m s\xe1t Kho",detail:"C\u1ea3nh b\xe1o t\u1ed3n kho th\u1ea5p",description:"Th\xf4ng b\xe1o khi s\u1ed1 l\u01b0\u1ee3ng h\xe0ng t\u1ed3n d\u01b0\u1edbi m\u1ee9c t\u1ed1i thi\u1ec3u",notes:"T\u1eeb AI (m\u1eabu)"}]),me([{id:1,key:"Hi\u1ec7u su\u1ea5t",value:"H\u1ec7 th\u1ed1ng ph\u1ea3i x\u1eed l\xfd \xedt nh\u1ea5t 100 giao d\u1ecbch/ph\xfat"},{id:2,key:"B\u1ea3o m\u1eadt",value:"M\xe3 h\xf3a d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng, x\xe1c th\u1ef1c 2 y\u1ebfu t\u1ed1"},{id:3,key:"Kh\u1ea3 d\u1ee5ng",value:"Uptime 99.9%, th\u1eddi gian kh\xf4i ph\u1ee5c < 1 gi\u1edd"}]),Ae([{id:1,testCase:"Nh\u1eadp kho",condition:"S\u1ed1 l\u01b0\u1ee3ng > 0",expectedResult:"C\u1eadp nh\u1eadt s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n kho"},{id:2,testCase:"Xu\u1ea5t kho",condition:"S\u1ed1 l\u01b0\u1ee3ng <= T\u1ed3n kho",expectedResult:"Gi\u1ea3m s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n kho"},{id:3,testCase:"C\u1ea3nh b\xe1o",condition:"T\u1ed3n kho < Ng\u01b0\u1ee1ng t\u1ed1i thi\u1ec3u",expectedResult:"Hi\u1ec3n th\u1ecb c\u1ea3nh b\xe1o"}]),ge([{id:1,description:"Giao di\u1ec7n qu\u1ea3n l\xfd kho",figmaLink:"https://figma.com/example"}]),be([{id:1,entityName:"Product",fields:"id, name, description, quantity, min_quantity",description:"Th\xf4ng tin s\u1ea3n ph\u1ea9m"},{id:2,entityName:"Transaction",fields:"id, product_id, type, quantity, date",description:"Giao d\u1ecbch nh\u1eadp/xu\u1ea5t"}]),ye([{id:1,system:"ERP",method:"REST API",purpose:"\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u s\u1ea3n ph\u1ea9m"},{id:2,system:"Notification Service",method:"WebSocket",purpose:"G\u1eedi c\u1ea3nh b\xe1o t\u1ed3n kho th\u1ea5p"}]),ce(!0),w(!1),setTimeout(()=>{var e;null===(e=qe.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)},2e3)},disabled:!("manual"!==R||S.description&&S.description.length>10)||C,startIcon:C?(0,k.jsx)(Z.A,{size:20,color:"inherit"}):null,children:b(C?"pages.requirements.form.actions.generating":"pages.requirements.form.actions.generate")})]})]})]})]}),de&&1===Te&&(0,k.jsxs)(l.A,{ref:qe,sx:{mt:2,mb:3,border:"1px solid #e0e0e0",borderRadius:1,p:2},children:[(0,k.jsxs)(a.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,k.jsx)("span",{children:b("pages.requirements.form.ai.resultTitle")}),(0,k.jsx)(d.A,{variant:"outlined",size:"small",startIcon:(0,k.jsx)(le.A,{}),onClick:()=>{_([{id:1,feature:"Qu\u1ea3n l\xfd Kho",detail:"Lu\xe2n chuy\u1ec3n kho",description:"Theo d\xf5i m\u1ecdi ho\u1ea1t \u0111\u1ed9ng nh\u1eadp xu\u1ea5t kho",notes:"T\u1ea1o l\u1ea1i b\u1edfi AI (m\u1eabu)"},{id:2,feature:"T\u1ed3n kho",detail:"M\u1ee9c t\u1ed3n kho",description:"Theo d\xf5i m\u1ee9c t\u1ed3n kho hi\u1ec7n t\u1ea1i",notes:"T\u1ea1o l\u1ea1i b\u1edfi AI (m\u1eabu)"}])},children:b("pages.requirements.form.actions.regenerate")})]}),(0,k.jsx)(a.A,{variant:"body1",gutterBottom:!0,children:E}),(0,k.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mt:2},children:(0,k.jsxs)($.A,{value:he,onChange:(e,s)=>ue(s),variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.functional")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.nonFunctional")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.tests")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.uiMockups")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.dataModel")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.integration")})]})}),0===he&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.feature")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.detail")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.description")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"15%"},children:b("pages.requirements.form.tableHeaders.notes")}),(0,k.jsx)(T.A,{sx:{width:"5%"}})]})}),(0,k.jsx)(z.A,{children:N.map(e=>(0,k.jsxs)(D.A,{hover:!0,children:[(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("feature"),We(e.feature)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"feature"===ke?(0,k.jsx)(h.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{De(e,"feature",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(De(e,"feature",Ie),we(null),Se(null))},autoFocus:!0}):e.feature}),(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("detail"),We(e.detail)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"detail"===ke?(0,k.jsx)(h.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{De(e,"detail",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(De(e,"detail",Ie),we(null),Se(null))},autoFocus:!0}):e.detail}),(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("description"),We(e.description)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"description"===ke?(0,k.jsx)(h.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{De(e,"description",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(De(e,"description",Ie),we(null),Se(null))},autoFocus:!0}):e.description}),(0,k.jsx)(T.A,{children:e.notes}),(0,k.jsx)(T.A,{children:(0,k.jsx)(M.A,{size:"small",color:"error",onClick:()=>{return s=e.id,void _(e=>e.filter(e=>e.id!==s));var s},children:(0,k.jsx)(K.A,{fontSize:"small"})})})]},e.id))}),(0,k.jsx)(se.A,{children:(0,k.jsx)(D.A,{children:(0,k.jsx)(T.A,{colSpan:5,align:"center",children:(0,k.jsx)(d.A,{startIcon:(0,k.jsx)(g.A,{}),onClick:()=>{const e=N.length>0?Math.max(...N.map(e=>e.id))+1:1;_([...N,{id:e,feature:"",detail:"",description:"",notes:"T\u1eeb AI (m\u1eabu)"}])},size:"small",sx:{mr:1},children:b("pages.requirements.form.actions.addRow")})})})})]})}),1===he&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.requirementType")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"70%"},children:b("pages.requirements.form.tableHeaders.value")})]})}),(0,k.jsx)(z.A,{children:xe.map(e=>(0,k.jsxs)(D.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.key}),(0,k.jsx)(T.A,{children:e.value})]},e.id))})]})}),2===he&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.testCase")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.condition")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.expectedResult")})]})}),(0,k.jsx)(z.A,{children:pe.map(e=>(0,k.jsxs)(D.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.testCase}),(0,k.jsx)(T.A,{children:e.condition}),(0,k.jsx)(T.A,{children:e.expectedResult})]},e.id))})]})}),3===he&&(0,k.jsx)(l.A,{sx:{mt:2},children:(0,k.jsx)(ne.A,{children:je.map(e=>(0,k.jsx)(te.Ay,{divider:!0,children:(0,k.jsx)(ie.A,{primary:e.description,secondary:e.figmaLink&&(0,k.jsx)(re.A,{href:e.figmaLink,target:"_blank",rel:"noopener",children:b("pages.requirements.form.links.viewOnFigma")})})},e.id))})}),4===he&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.entity")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.fields")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.modelDescription")})]})}),(0,k.jsx)(z.A,{children:fe.map(e=>(0,k.jsxs)(D.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.entityName}),(0,k.jsx)(T.A,{children:(0,k.jsx)("code",{children:e.fields})}),(0,k.jsx)(T.A,{children:e.description})]},e.id))})]})}),5===he&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:"H\u1ec7 th\u1ed1ng"}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:"Ph\u01b0\u01a1ng th\u1ee9c"}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:"M\u1ee5c \u0111\xedch"})]})}),(0,k.jsx)(z.A,{children:ve.map(e=>(0,k.jsxs)(D.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.system}),(0,k.jsx)(T.A,{children:e.method}),(0,k.jsx)(T.A,{children:e.purpose})]},e.id))})]})}),(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2,gap:1},children:(0,k.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(ae.A,{}),onClick:()=>{if(S.name&&S.customer&&S.assignee&&S.type){const e=(0,t.A)((0,t.A)({},S),{},{id:Math.floor(1e4*Math.random()),createdDate:(new Date).toISOString().split("T")[0],status:"pending",features:N,description:S.description||E,source:"manual"===R?de?"AI sinh t\u1eeb m\xf4 t\u1ea3":"Nh\u1eadp tay":"AI sinh t\u1eeb file upload"});o(e),Pe()}},children:"X\xe1c nh\u1eadn & L\u01b0u"})})]})]})})]})};var de=n(94527);const ce=e=>{switch(e){case"pending":return"warning";case"in_discussion":return"info";case"confirmed":return"success";default:return"default"}},he=e=>{switch(e){case"pending":return"Pending";case"in_discussion":return"In Discussion";case"confirmed":return"Confirmed";default:return e}},ue=e=>{let{open:s,onClose:n,requirement:t}=e;return t?(0,k.jsxs)(v.A,{open:s,onClose:n,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,k.jsx)(y.A,{sx:{fontWeight:"bold"},children:"Chi ti\u1ebft y\xeau c\u1ea7u"}),(0,k.jsxs)(q.A,{dividers:!0,children:[(0,k.jsxs)(l.A,{sx:{mb:4},children:[(0,k.jsx)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main"},children:"\ud83d\udccc Th\xf4ng tin c\u01a1 b\u1ea3n"}),(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsxs)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"T\xean y\xeau c\u1ea7u"}),(0,k.jsx)(a.A,{variant:"body1",sx:{fontWeight:"medium"},children:t.name})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Kh\xe1ch h\xe0ng"}),(0,k.jsx)(a.A,{variant:"body1",children:t.customer})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"}),(0,k.jsx)(a.A,{variant:"body1",children:t.assignee})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Tr\u1ea1ng th\xe1i"}),(0,k.jsx)(H.A,{label:he(t.status),color:ce(t.status),size:"small"})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"H\u1ea1n d\u1ef1 ki\u1ebfn"}),(0,k.jsx)(a.A,{variant:"body1",children:t.expectedDeadline})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Ng\xe0y t\u1ea1o"}),(0,k.jsx)(a.A,{variant:"body1",children:t.createdDate})]})]})})]}),(0,k.jsx)(de.A,{sx:{my:3}}),(0,k.jsxs)(l.A,{sx:{mb:4},children:[(0,k.jsx)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mt:4},children:"\ud83d\udcdd M\xf4 t\u1ea3 y\xeau c\u1ea7u"}),(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsx)(a.A,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:t.description||"Ch\u01b0a c\xf3 m\xf4 t\u1ea3."})})]}),(0,k.jsx)(de.A,{sx:{my:3}}),(0,k.jsxs)(l.A,{children:[(0,k.jsx)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mt:4},children:"\ud83e\udd16 Ph\xe2n t\xedch y\xeau c\u1ea7u (t\u1ea1o b\u1edfi AI)"}),t.features&&t.features.length>0?(0,k.jsx)(I.A,{component:c.A,variant:"outlined",children:(0,k.jsxs)(W.A,{children:[(0,k.jsx)(P.A,{children:(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{children:"STT"}),(0,k.jsx)(T.A,{children:"T\xednh n\u0103ng"}),(0,k.jsx)(T.A,{children:"Chi ti\u1ebft"}),(0,k.jsx)(T.A,{children:"M\xf4 t\u1ea3"}),(0,k.jsx)(T.A,{children:"Ghi ch\xfa"})]})}),(0,k.jsx)(z.A,{children:t.features.map((e,s)=>(0,k.jsxs)(D.A,{children:[(0,k.jsx)(T.A,{children:s+1}),(0,k.jsx)(T.A,{children:e.feature}),(0,k.jsx)(T.A,{children:e.detail}),(0,k.jsx)(T.A,{sx:{whiteSpace:"pre-wrap"},children:e.description}),(0,k.jsx)(T.A,{sx:{whiteSpace:"pre-wrap"},children:e.notes})]},s))})]})}):(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsx)(a.A,{variant:"body1",color:"text.secondary",children:"No AI-generated features available."})})]})]}),(0,k.jsx)(w.A,{children:(0,k.jsx)(d.A,{onClick:n,children:"\u0110\xf3ng"})})]}):null},xe=["Company A","Company B","Company C","Company D"],me=["User A","User B","User C","User D"],pe=[{value:"pending",labelKey:"pages.requirements.status.pending"},{value:"in_discussion",labelKey:"pages.requirements.status.in_discussion"},{value:"confirmed",labelKey:"pages.requirements.status.confirmed"}],Ae=()=>{const{t:e}=(0,r.Bd)(),[s,n]=(0,i.useState)(0),[v,y]=(0,i.useState)(10),[q,C]=(0,i.useState)(""),[w,I]=(0,i.useState)(null),[W,P]=(0,i.useState)(null),[D,T]=(0,i.useState)("all"),[z,H]=(0,i.useState)((M=25,Array.from({length:M},(e,s)=>({id:s+1,name:"Y\xeau c\u1ea7u ".concat(s+1," - ").concat(["H\u1ec7 th\u1ed1ng kho","Website b\xe1n h\xe0ng","App di \u0111\u1ed9ng","Ph\u1ea7n m\u1ec1m k\u1ebf to\xe1n"][s%4]),customer:xe[Math.floor(Math.random()*xe.length)],assignee:me[Math.floor(Math.random()*me.length)],status:["pending","in_discussion","confirmed"][Math.floor(3*Math.random())],expectedDeadline:new Date(Date.now()+24*Math.floor(30*Math.random())*60*60*1e3).toISOString().split("T")[0],createdDate:new Date(Date.now()-24*Math.floor(90*Math.random())*60*60*1e3).toISOString().split("T")[0]}))));var M;const[R,B]=(0,i.useState)(!1),[K,N]=(0,i.useState)(!1),[_,F]=(0,i.useState)(null),[L,O]=(0,i.useState)(!1),[G,U]=(0,i.useState)(null),X=z.filter(e=>{const s=e.name.toLowerCase().includes(q.toLowerCase()),n=!w||e.customer===w,t=!W||e.assignee===W,i="all"===D||e.status===D;return s&&n&&t&&i}),Q=X.slice(s*v,s*v+v);return(0,k.jsxs)(l.A,{sx:{p:3},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexWrap:"wrap",gap:2},children:[(0,k.jsx)(a.A,{variant:"h4",component:"h1",children:e("pages.requirements.title")}),(0,k.jsxs)(o.A,{direction:"row",spacing:2,sx:{flexWrap:"wrap",gap:1},children:[(0,k.jsx)(d.A,{variant:"outlined",startIcon:(0,k.jsx)(j.A,{}),onClick:()=>console.log("Export to Excel"),children:e("pages.requirements.actions.exportExcel")}),(0,k.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(g.A,{}),onClick:()=>{B(!0)},children:e("pages.requirements.actions.createRequirement")})]})]}),(0,k.jsxs)(c.A,{sx:{p:2,mb:2},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[(0,k.jsx)(h.A,{variant:"outlined",placeholder:e("pages.requirements.searchPlaceholder"),size:"small",value:q,onChange:e=>{C(e.target.value),n(0)},sx:{minWidth:250,flex:1},InputProps:{startAdornment:(0,k.jsx)(f.A,{sx:{color:"action.active",mr:1}})}}),(0,k.jsx)(u.A,{options:xe,value:w,onChange:(e,s)=>{I(s),n(0)},renderInput:s=>(0,k.jsx)(h.A,(0,t.A)((0,t.A)({},s),{},{label:e("pages.requirements.filters.customer"),size:"small",sx:{minWidth:200},InputProps:(0,t.A)((0,t.A)({},s.InputProps),{},{startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}})})}))}),(0,k.jsx)(u.A,{options:me,value:W,onChange:(e,s)=>{P(s),n(0)},renderInput:s=>(0,k.jsx)(h.A,(0,t.A)((0,t.A)({},s),{},{label:e("pages.requirements.filters.assignee"),size:"small",sx:{minWidth:200},InputProps:(0,t.A)((0,t.A)({},s.InputProps),{},{startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}})})}))}),(0,k.jsxs)(x.A,{sx:{minWidth:200},size:"small",children:[(0,k.jsx)(m.A,{children:e("pages.requirements.filters.status")}),(0,k.jsxs)(p.A,{value:D,label:e("pages.requirements.filters.status"),onChange:e=>{T(e.target.value),n(0)},startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}}),children:[(0,k.jsx)(A.A,{value:"all",children:e("pages.requirements.filters.all")}),pe.map(s=>(0,k.jsx)(A.A,{value:s.value,children:e(s.labelKey)},s.value))]})]})]}),(0,k.jsx)(E,{requirements:Q,page:s,rowsPerPage:v,totalCount:X.length,onPageChange:(e,s)=>{n(s)},onRowsPerPageChange:e=>{y(parseInt(e.target.value,10)),n(0)},onEdit:e=>{console.log("Edit requirement with id ".concat(e))},onDelete:e=>{F(e),N(!0)},onViewDetail:e=>{const s=z.find(s=>s.id===e);s&&(U(s),O(!0))}})]}),(0,k.jsx)(S,{open:K,onClose:()=>{N(!1),F(null)},onConfirm:()=>{null!==_&&(H(z.filter(e=>e.id!==_)),N(!1),F(null))},title:e("pages.requirements.dialogs.deleteConfirmTitle"),content:e("pages.requirements.dialogs.deleteConfirmText")}),(0,k.jsx)(ue,{open:L,onClose:()=>O(!1),requirement:G}),(0,k.jsx)(oe,{open:R,onClose:()=>{B(!1)},onSave:e=>{const s=(0,t.A)((0,t.A)({},e),{},{id:Math.max(...z.map(e=>e.id),0)+1});H([s,...z]),B(!1)},customers:xe,assignees:me})]})}}}]);
//# sourceMappingURL=686.fc07bb18.chunk.js.map