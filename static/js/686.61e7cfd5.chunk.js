"use strict";(self.webpackChunkfe_crm=self.webpackChunkfe_crm||[]).push([[686],{12686:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ae});var n=t(89379),i=t(65043),r=t(74117),l=t(53969),a=t(55895),o=t(70298),d=t(41859),c=t(94799),u=t(24343),h=t(17060),x=t(10256),m=t(3353),p=t(67203),A=t(47471),g=t(50103),j=t(22950),f=t(63745),b=t(40847),v=t(38517),y=t(81911),q=t(78776),C=t(9200),w=t(85877),k=t(70579);const S=e=>{let{open:s,onClose:t,onConfirm:n,title:i,content:l}=e;const{t:a}=(0,r.Bd)(),o=null!==i&&void 0!==i?i:a("pages.requirements.dialogs.deleteConfirmTitle",{defaultValue:"Delete confirmation"}),c=null!==l&&void 0!==l?l:a("pages.requirements.dialogs.deleteConfirmText",{defaultValue:"Are you sure you want to delete this requirement?"});return(0,k.jsxs)(v.A,{open:s,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(y.A,{id:"alert-dialog-title",children:o}),(0,k.jsx)(q.A,{children:(0,k.jsx)(C.A,{id:"alert-dialog-description",children:c})}),(0,k.jsxs)(w.A,{children:[(0,k.jsx)(d.A,{onClick:t,color:"primary",children:a("common.cancel",{defaultValue:"Cancel"})}),(0,k.jsx)(d.A,{onClick:n,color:"error",autoFocus:!0,children:a("common.delete",{defaultValue:"Delete"})})]})]})};var I=t(28259),W=t(87443),D=t(10756),P=t(86172),T=t(81341),z=t(34375),R=t(83759),B=t(42579),H=t(89174),M=t(61773),V=t(5362);const N=e=>{switch(e){case"pending":return"warning";case"in_discussion":return"info";case"confirmed":return"success";default:return"default"}},E=(e,s)=>{switch(s){case"pending":return e("pages.requirements.status.pending");case"in_discussion":return e("pages.requirements.status.in_discussion");case"confirmed":return e("pages.requirements.status.confirmed");default:return e("common.unknown")}},K=e=>{let{requirements:s,page:t,rowsPerPage:n,totalCount:i,onPageChange:l,onRowsPerPageChange:o,onEdit:d,onDelete:u,onViewDetail:h}=e;const{t:x}=(0,r.Bd)();return(0,k.jsxs)(c.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,k.jsx)(I.A,{sx:{maxHeight:440},children:(0,k.jsxs)(W.A,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.id")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.name")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.type")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.customer")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.assignee")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.source")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.createdDate")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.deadline")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.status")}),(0,k.jsx)(T.A,{children:x("pages.requirements.list.columns.actions")})]})}),(0,k.jsx)(z.A,{children:s.length>0?s.map(e=>(0,k.jsxs)(P.A,{hover:!0,onClick:()=>h(e.id),sx:{cursor:"pointer"},children:[(0,k.jsx)(T.A,{children:e.id}),(0,k.jsx)(T.A,{children:e.name}),(0,k.jsx)(T.A,{children:e.type||"N/A"}),(0,k.jsx)(T.A,{children:e.customer}),(0,k.jsx)(T.A,{children:e.assignee}),(0,k.jsx)(T.A,{children:e.source||"N/A"}),(0,k.jsx)(T.A,{children:e.createdDate}),(0,k.jsx)(T.A,{children:e.expectedDeadline}),(0,k.jsx)(T.A,{children:(0,k.jsx)(R.A,{label:E(x,e.status),color:N(e.status),size:"small"})}),(0,k.jsxs)(T.A,{children:[(0,k.jsx)(B.A,{size:"small",onClick:()=>d(e.id),children:(0,k.jsx)(M.A,{fontSize:"small"})}),(0,k.jsx)(B.A,{size:"small",onClick:()=>u(e.id),children:(0,k.jsx)(V.A,{fontSize:"small"})})]})]},e.id)):(0,k.jsx)(P.A,{children:(0,k.jsx)(T.A,{colSpan:10,align:"center",children:(0,k.jsx)(a.A,{variant:"body1",children:x("pages.requirements.list.empty")})})})})]})}),(0,k.jsx)(H.A,{component:"div",count:i,rowsPerPage:n,page:t,onPageChange:l,onRowsPerPageChange:o,labelRowsPerPage:x("pages.requirements.pagination.rowsPerPage"),labelDisplayedRows:e=>{let{from:s,to:t,count:n}=e;return x("pages.requirements.pagination.displayedRows",{from:s,to:t,count:n})}})]})};var _=t(53407),F=t(79693),L=t(99147),O=t(68894),G=t(91244),U=t(16128),Q=t(43971),X=t(46261),Y=t(1725),J=t(68826),Z=t(80172),$=t(14333),ee=t(12843),se=t(51692),te=t(95315),ne=t(57401),ie=t(66185),re=t(31202),le=t(69302),ae=t(22672);const oe=e=>{let{open:s,onClose:t,onSave:o,customers:g,assignees:f}=e;const{t:b}=(0,r.Bd)(),[C,w]=(0,i.useState)(!1),[S,R]=(0,i.useState)({name:"",type:"",customer:"",assignee:"",source:"manual",status:"pending",expectedDeadline:new Date(Date.now()+6048e5).toISOString().split("T")[0],createdDate:(new Date).toISOString().split("T")[0],description:"",features:[]}),[H,M]=(0,i.useState)("manual"),[N,E]=(0,i.useState)([]),[K,oe]=(0,i.useState)(""),[de,ce]=(0,i.useState)(!1),[ue,he]=(0,i.useState)(0),[xe,me]=(0,i.useState)([]),[pe,Ae]=(0,i.useState)([]),[ge,je]=(0,i.useState)([]),[fe,be]=(0,i.useState)([]),[ve,ye]=(0,i.useState)([]),qe=(0,i.useRef)(null),[Ce,we]=(0,i.useState)(null),[ke,Se]=(0,i.useState)(null),[Ie,We]=(0,i.useState)(""),De=()=>{ce(!1),E([]),oe(""),M("manual"),he(0),me([]),Ae([]),je([]),be([]),ye([]),R({name:"",type:"",customer:"",assignee:"",source:"manual",status:"pending",expectedDeadline:new Date(Date.now()+6048e5).toISOString().split("T")[0],createdDate:(new Date).toISOString().split("T")[0],description:"",features:[]})},Pe=(e,s,t)=>{E(i=>i.map(i=>i.id===e.id?(0,n.A)((0,n.A)({},i),{},{[s]:t}):i))},[Te,ze]=(0,i.useState)(0);return(0,k.jsxs)(v.A,{open:s,onClose:t,maxWidth:"lg",fullWidth:!0,children:[(0,k.jsx)(y.A,{children:(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,k.jsx)(a.A,{variant:"h6",children:b("pages.requirements.form.title")}),(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mr:1},children:b("pages.requirements.form.steps.indicator",{current:Te+1})}),(0,k.jsxs)(l.A,{sx:{width:100,display:"flex",alignItems:"center"},children:[(0,k.jsx)(l.A,{sx:{width:"".concat(50*(Te+1),"%"),height:4,backgroundColor:"primary.main",borderRadius:1}}),(0,k.jsx)(l.A,{sx:{width:"".concat(50*(2-Te-1),"%"),height:4,backgroundColor:"grey.300",borderRadius:1}})]})]})]})}),(0,k.jsx)(q.A,{children:(0,k.jsxs)(l.A,{sx:{mt:2},children:[(0,k.jsxs)(_.A,{activeStep:Te,orientation:"vertical",sx:{"& .MuiStepLabel-root":{padding:"8px 0"}},children:[(0,k.jsxs)(F.A,{children:[(0,k.jsx)(L.A,{children:(0,k.jsx)(a.A,{variant:"subtitle1",children:b("pages.requirements.form.steps.step1")})}),(0,k.jsxs)(O.A,{children:[(0,k.jsx)(G.A,{variant:"outlined",sx:{mb:2},children:(0,k.jsxs)(U.A,{children:[(0,k.jsx)(u.A,{label:b("pages.requirements.form.fields.name"),fullWidth:!0,required:!0,value:S.name||"",onChange:e=>R((0,n.A)((0,n.A)({},S),{},{name:e.target.value})),margin:"normal",size:"small",placeholder:b("pages.requirements.form.placeholders.name")}),(0,k.jsxs)(x.A,{fullWidth:!0,margin:"normal",size:"small",required:!0,children:[(0,k.jsx)(m.A,{children:b("pages.requirements.form.fields.type",{defaultValue:"Type"})}),(0,k.jsxs)(p.A,{value:S.type||"",label:b("pages.requirements.form.fields.type",{defaultValue:"Type"}),onChange:e=>R((0,n.A)((0,n.A)({},S),{},{type:e.target.value})),children:[(0,k.jsx)(A.A,{value:"RFI",children:b("pages.requirements.form.types.rfi",{defaultValue:"RFI"})}),(0,k.jsx)(A.A,{value:"Bank",children:b("pages.requirements.form.types.bank",{defaultValue:"Bank"})}),(0,k.jsx)(A.A,{value:"Industry",children:b("pages.requirements.form.types.industry",{defaultValue:"Industry"})}),(0,k.jsx)(A.A,{value:"Client",children:b("pages.requirements.form.types.client",{defaultValue:"Client"})}),(0,k.jsx)(A.A,{value:"Internal",children:b("pages.requirements.form.types.internal",{defaultValue:"Internal"})})]})]}),(0,k.jsxs)(l.A,{sx:{display:"flex",gap:2,mt:2,flexWrap:"wrap"},children:[(0,k.jsx)(h.A,{options:g,value:S.customer||null,onChange:(e,s)=>R((0,n.A)((0,n.A)({},S),{},{customer:s||""})),renderInput:e=>(0,k.jsx)(u.A,(0,n.A)((0,n.A)({},e),{},{label:b("pages.requirements.form.fields.customer"),size:"small",sx:{minWidth:250,flex:1},required:!0}))}),(0,k.jsx)(h.A,{options:f,value:S.assignee||null,onChange:(e,s)=>R((0,n.A)((0,n.A)({},S),{},{assignee:s||""})),renderInput:e=>(0,k.jsx)(u.A,(0,n.A)((0,n.A)({},e),{},{label:b("pages.requirements.form.fields.assignee"),size:"small",sx:{minWidth:250},required:!0}))}),(0,k.jsx)(u.A,{label:b("pages.requirements.form.fields.deadline"),type:"date",size:"small",sx:{minWidth:200},value:S.expectedDeadline||"",onChange:e=>R((0,n.A)((0,n.A)({},S),{},{expectedDeadline:e.target.value})),InputLabelProps:{shrink:!0},required:!0})]})]})}),(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:(0,k.jsx)(d.A,{variant:"contained",onClick:()=>{ze(e=>e+1)},disabled:!(S.name&&S.type&&S.customer&&S.assignee&&S.expectedDeadline),children:b("pages.requirements.form.actions.next")})})]})]}),(0,k.jsxs)(F.A,{children:[(0,k.jsx)(L.A,{children:(0,k.jsx)(a.A,{variant:"subtitle1",children:b("pages.requirements.form.steps.step2")})}),(0,k.jsxs)(O.A,{children:[(0,k.jsx)(G.A,{variant:"outlined",sx:{mb:2},children:(0,k.jsxs)(U.A,{children:[(0,k.jsxs)(x.A,{component:"fieldset",sx:{mb:2},children:[(0,k.jsx)(Q.A,{component:"legend",children:b("pages.requirements.form.method.group")}),(0,k.jsxs)(X.A,{row:!0,value:H,onChange:e=>M(e.target.value),children:[(0,k.jsx)(Y.A,{value:"manual",control:(0,k.jsx)(J.A,{}),label:b("pages.requirements.form.method.manual")}),(0,k.jsx)(Y.A,{value:"upload",control:(0,k.jsx)(J.A,{}),label:b("pages.requirements.form.method.upload")})]})]}),"manual"===H?(0,k.jsx)(u.A,{label:b("pages.requirements.form.fields.description"),placeholder:b("pages.requirements.form.placeholders.description"),multiline:!0,rows:6,fullWidth:!0,value:S.description||"",onChange:e=>R((0,n.A)((0,n.A)({},S),{},{description:e.target.value}))}):(0,k.jsxs)(l.A,{sx:{border:"1px dashed #ccc",p:3,borderRadius:1,textAlign:"center",mb:2},children:[(0,k.jsx)("input",{accept:".pdf,.docx",style:{display:"none"},id:"file-upload",type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&setTimeout(()=>{var s;R((0,n.A)((0,n.A)({},S),{},{description:b("pages.requirements.form.upload.generatedDescription",{fileName:null===(s=e.target.files)||void 0===s?void 0:s[0].name})}))},1e3)}}),(0,k.jsx)("label",{htmlFor:"file-upload",children:(0,k.jsx)(d.A,{variant:"outlined",component:"span",children:b("pages.requirements.form.method.uploadButton")})}),(0,k.jsx)(a.A,{variant:"body2",sx:{mt:1,color:"text.secondary"},children:b("pages.requirements.form.method.uploadHelp")})]})]})}),(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,k.jsx)(d.A,{onClick:()=>{ze(e=>e-1)},children:b("pages.requirements.form.actions.back")}),(0,k.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>{w(!0),setTimeout(()=>{oe("H\u1ec7 th\u1ed1ng qu\u1ea3n l\xfd kho v\u1edbi \u0111\u1ea7y \u0111\u1ee7 c\xe1c ch\u1ee9c n\u0103ng nh\u1eadp xu\u1ea5t t\u1ed3n"),E([{id:1,feature:"Qu\u1ea3n l\xfd Kho",detail:"Nh\u1eadp kho",description:"Cho ph\xe9p ng\u01b0\u1eddi d\xf9ng nh\u1eadp h\xe0ng m\u1edbi v\xe0o kho",notes:"T\u1eeb AI (m\u1eabu)"},{id:2,feature:"Qu\u1ea3n l\xfd Kho",detail:"Xu\u1ea5t kho",description:"Ghi nh\u1eadn xu\u1ea5t kho khi giao h\xe0ng ho\u1eb7c b\xe1n",notes:"T\u1eeb AI (m\u1eabu)"},{id:3,feature:"Gi\xe1m s\xe1t Kho",detail:"C\u1ea3nh b\xe1o t\u1ed3n kho th\u1ea5p",description:"Th\xf4ng b\xe1o khi s\u1ed1 l\u01b0\u1ee3ng h\xe0ng t\u1ed3n d\u01b0\u1edbi m\u1ee9c t\u1ed1i thi\u1ec3u",notes:"T\u1eeb AI (m\u1eabu)"}]),me([{id:1,key:"Hi\u1ec7u su\u1ea5t",value:"H\u1ec7 th\u1ed1ng ph\u1ea3i x\u1eed l\xfd \xedt nh\u1ea5t 100 giao d\u1ecbch/ph\xfat"},{id:2,key:"B\u1ea3o m\u1eadt",value:"M\xe3 h\xf3a d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng, x\xe1c th\u1ef1c 2 y\u1ebfu t\u1ed1"},{id:3,key:"Kh\u1ea3 d\u1ee5ng",value:"Uptime 99.9%, th\u1eddi gian kh\xf4i ph\u1ee5c < 1 gi\u1edd"}]),Ae([{id:1,testCase:"Nh\u1eadp kho",condition:"S\u1ed1 l\u01b0\u1ee3ng > 0",expectedResult:"C\u1eadp nh\u1eadt s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n kho"},{id:2,testCase:"Xu\u1ea5t kho",condition:"S\u1ed1 l\u01b0\u1ee3ng <= T\u1ed3n kho",expectedResult:"Gi\u1ea3m s\u1ed1 l\u01b0\u1ee3ng t\u1ed3n kho"},{id:3,testCase:"C\u1ea3nh b\xe1o",condition:"T\u1ed3n kho < Ng\u01b0\u1ee1ng t\u1ed1i thi\u1ec3u",expectedResult:"Hi\u1ec3n th\u1ecb c\u1ea3nh b\xe1o"}]),je([{id:1,description:"Giao di\u1ec7n qu\u1ea3n l\xfd kho",figmaLink:"https://figma.com/example"}]),be([{id:1,entityName:"Product",fields:"id, name, description, quantity, min_quantity",description:"Th\xf4ng tin s\u1ea3n ph\u1ea9m"},{id:2,entityName:"Transaction",fields:"id, product_id, type, quantity, date",description:"Giao d\u1ecbch nh\u1eadp/xu\u1ea5t"}]),ye([{id:1,system:"ERP",method:"REST API",purpose:"\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u s\u1ea3n ph\u1ea9m"},{id:2,system:"Notification Service",method:"WebSocket",purpose:"G\u1eedi c\u1ea3nh b\xe1o t\u1ed3n kho th\u1ea5p"}]),ce(!0),w(!1),setTimeout(()=>{var e;null===(e=qe.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)},2e3)},disabled:!("manual"!==H||S.description&&S.description.length>10)||C,startIcon:C?(0,k.jsx)(Z.A,{size:20,color:"inherit"}):null,children:b(C?"pages.requirements.form.actions.generating":"pages.requirements.form.actions.generate")})]})]})]})]}),de&&1===Te&&(0,k.jsxs)(l.A,{ref:qe,sx:{mt:2,mb:3,border:"1px solid #e0e0e0",borderRadius:1,p:2},children:[(0,k.jsxs)(a.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,k.jsx)("span",{children:b("pages.requirements.form.ai.resultTitle")}),(0,k.jsx)(d.A,{variant:"outlined",size:"small",startIcon:(0,k.jsx)(le.A,{}),onClick:()=>{E([{id:1,feature:"Qu\u1ea3n l\xfd Kho",detail:"Lu\xe2n chuy\u1ec3n kho",description:"Theo d\xf5i m\u1ecdi ho\u1ea1t \u0111\u1ed9ng nh\u1eadp xu\u1ea5t kho",notes:"T\u1ea1o l\u1ea1i b\u1edfi AI (m\u1eabu)"},{id:2,feature:"T\u1ed3n kho",detail:"M\u1ee9c t\u1ed3n kho",description:"Theo d\xf5i m\u1ee9c t\u1ed3n kho hi\u1ec7n t\u1ea1i",notes:"T\u1ea1o l\u1ea1i b\u1edfi AI (m\u1eabu)"}])},children:b("pages.requirements.form.actions.regenerate")})]}),(0,k.jsx)(a.A,{variant:"body1",gutterBottom:!0,children:K}),(0,k.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mt:2},children:(0,k.jsxs)($.A,{value:ue,onChange:(e,s)=>he(s),variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.functional")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.nonFunctional")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.test")}),(0,k.jsx)(ee.A,{label:b("pages.requirements.form.tabs.uiMockup")})]})}),0===ue&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.feature")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.detail")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.description")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"15%"},children:b("pages.requirements.form.tableHeaders.notes")}),(0,k.jsx)(T.A,{sx:{width:"5%"}})]})}),(0,k.jsx)(z.A,{children:N.map(e=>(0,k.jsxs)(P.A,{hover:!0,children:[(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("feature"),We(e.feature)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"feature"===ke?(0,k.jsx)(u.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{Pe(e,"feature",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(Pe(e,"feature",Ie),we(null),Se(null))},autoFocus:!0}):e.feature}),(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("detail"),We(e.detail)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"detail"===ke?(0,k.jsx)(u.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{Pe(e,"detail",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(Pe(e,"detail",Ie),we(null),Se(null))},autoFocus:!0}):e.detail}),(0,k.jsx)(T.A,{onClick:()=>{we(e),Se("description"),We(e.description)},sx:{cursor:"pointer"},children:(null===Ce||void 0===Ce?void 0:Ce.id)===e.id&&"description"===ke?(0,k.jsx)(u.A,{size:"small",fullWidth:!0,variant:"standard",value:Ie,onChange:e=>We(e.target.value),onBlur:()=>{Pe(e,"description",Ie),we(null),Se(null)},onKeyPress:s=>{"Enter"===s.key&&(Pe(e,"description",Ie),we(null),Se(null))},autoFocus:!0}):e.description}),(0,k.jsx)(T.A,{children:e.notes}),(0,k.jsx)(T.A,{children:(0,k.jsx)(B.A,{size:"small",color:"error",onClick:()=>{return s=e.id,void E(e=>e.filter(e=>e.id!==s));var s},children:(0,k.jsx)(V.A,{fontSize:"small"})})})]},e.id))}),(0,k.jsx)(se.A,{children:(0,k.jsx)(P.A,{children:(0,k.jsx)(T.A,{colSpan:5,align:"center",children:(0,k.jsx)(d.A,{startIcon:(0,k.jsx)(j.A,{}),onClick:()=>{const e=N.length>0?Math.max(...N.map(e=>e.id))+1:1;E([...N,{id:e,feature:"",detail:"",description:"",notes:"T\u1eeb AI (m\u1eabu)"}])},size:"small",sx:{mr:1},children:b("pages.requirements.form.actions.addRow")})})})})]})}),1===ue&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.requirementType")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"70%"},children:b("pages.requirements.form.tableHeaders.value")})]})}),(0,k.jsx)(z.A,{children:xe.map(e=>(0,k.jsxs)(P.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.key}),(0,k.jsx)(T.A,{children:e.value})]},e.id))})]})}),2===ue&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.testCase")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:b("pages.requirements.form.tableHeaders.condition")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.expectedResult")})]})}),(0,k.jsx)(z.A,{children:pe.map(e=>(0,k.jsxs)(P.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.testCase}),(0,k.jsx)(T.A,{children:e.condition}),(0,k.jsx)(T.A,{children:e.expectedResult})]},e.id))})]})}),3===ue&&(0,k.jsx)(l.A,{sx:{mt:2},children:(0,k.jsx)(te.A,{children:ge.map(e=>(0,k.jsx)(ne.Ay,{divider:!0,children:(0,k.jsx)(ie.A,{primary:e.description,secondary:e.figmaLink&&(0,k.jsx)(re.A,{href:e.figmaLink,target:"_blank",rel:"noopener",children:b("pages.requirements.form.links.viewOnFigma")})})},e.id))})}),4===ue&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"20%"},children:b("pages.requirements.form.tableHeaders.entity")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.fields")}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:b("pages.requirements.form.tableHeaders.modelDescription")})]})}),(0,k.jsx)(z.A,{children:fe.map(e=>(0,k.jsxs)(P.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.entityName}),(0,k.jsx)(T.A,{children:(0,k.jsx)("code",{children:e.fields})}),(0,k.jsx)(T.A,{children:e.description})]},e.id))})]})}),5===ue&&(0,k.jsx)(I.A,{component:c.A,sx:{mt:2},children:(0,k.jsxs)(W.A,{size:"small",children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:"H\u1ec7 th\u1ed1ng"}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"30%"},children:"Ph\u01b0\u01a1ng th\u1ee9c"}),(0,k.jsx)(T.A,{sx:{fontWeight:"bold",width:"40%"},children:"M\u1ee5c \u0111\xedch"})]})}),(0,k.jsx)(z.A,{children:ve.map(e=>(0,k.jsxs)(P.A,{hover:!0,children:[(0,k.jsx)(T.A,{children:e.system}),(0,k.jsx)(T.A,{children:e.method}),(0,k.jsx)(T.A,{children:e.purpose})]},e.id))})]})}),(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end",mt:2,gap:1},children:(0,k.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(ae.A,{}),onClick:()=>{if(S.name&&S.customer&&S.assignee&&S.type){const e=(0,n.A)((0,n.A)({},S),{},{id:Math.floor(1e4*Math.random()),createdDate:(new Date).toISOString().split("T")[0],status:"pending",features:N,description:S.description||K,source:"manual"===H?de?"AI sinh t\u1eeb m\xf4 t\u1ea3":"Nh\u1eadp tay":"AI sinh t\u1eeb file upload"});o(e),De()}},children:"X\xe1c nh\u1eadn & L\u01b0u"})})]})]})})]})};var de=t(94527);const ce=e=>{switch(e){case"pending":return"warning";case"in_discussion":return"info";case"confirmed":return"success";default:return"default"}},ue=(e,s)=>s("pages.requirements.detail.status.".concat(e),{defaultValue:e}),he=e=>{let{open:s,onClose:t,requirement:n}=e;const{t:i}=(0,r.Bd)();return n?(0,k.jsxs)(v.A,{open:s,onClose:t,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,k.jsx)(y.A,{sx:{fontWeight:"bold"},children:i("pages.requirements.detail.title","Requirement details")}),(0,k.jsxs)(q.A,{dividers:!0,children:[(0,k.jsxs)(l.A,{sx:{mb:4},children:[(0,k.jsxs)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main"},children:["\ud83d\udccc ",i("pages.requirements.detail.sections.basicInfo","Basic information")]}),(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsxs)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.name","Requirement name")}),(0,k.jsx)(a.A,{variant:"body1",sx:{fontWeight:"medium"},children:n.name})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.customer","Customer")}),(0,k.jsx)(a.A,{variant:"body1",children:n.customer})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.assignee","Assignee")}),(0,k.jsx)(a.A,{variant:"body1",children:n.assignee})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.status","Status")}),(0,k.jsx)(R.A,{label:ue(n.status,i),color:ce(n.status),size:"small"})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.deadline","Expected deadline")}),(0,k.jsx)(a.A,{variant:"body1",children:n.expectedDeadline})]}),(0,k.jsxs)(l.A,{sx:{width:{xs:"100%",sm:"calc(50% - 8px)"}},children:[(0,k.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:i("pages.requirements.detail.fields.createdAt","Created at")}),(0,k.jsx)(a.A,{variant:"body1",children:n.createdDate})]})]})})]}),(0,k.jsx)(de.A,{sx:{my:3}}),(0,k.jsxs)(l.A,{sx:{mb:4},children:[(0,k.jsxs)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mt:4},children:["\ud83d\udcdd ",i("pages.requirements.detail.sections.description","Requirement description")]}),(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsx)(a.A,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:n.description||""})})]}),(0,k.jsx)(de.A,{sx:{my:3}}),(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(a.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mt:4},children:["\ud83e\udd16 ",i("pages.requirements.detail.sections.aiAnalysis","AI-generated requirement analysis")]}),n.features&&n.features.length>0?(0,k.jsx)(I.A,{component:c.A,variant:"outlined",children:(0,k.jsxs)(W.A,{children:[(0,k.jsx)(D.A,{children:(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{children:i("pages.requirements.detail.table.headers.no","No.")}),(0,k.jsx)(T.A,{children:i("pages.requirements.detail.table.headers.feature","Feature")}),(0,k.jsx)(T.A,{children:i("pages.requirements.detail.table.headers.detail","Detail")}),(0,k.jsx)(T.A,{children:i("pages.requirements.detail.table.headers.description","Description")}),(0,k.jsx)(T.A,{children:i("pages.requirements.detail.table.headers.notes","Notes")})]})}),(0,k.jsx)(z.A,{children:n.features.map((e,s)=>(0,k.jsxs)(P.A,{children:[(0,k.jsx)(T.A,{children:s+1}),(0,k.jsx)(T.A,{children:e.feature}),(0,k.jsx)(T.A,{children:e.detail}),(0,k.jsx)(T.A,{sx:{whiteSpace:"pre-wrap"},children:e.description}),(0,k.jsx)(T.A,{sx:{whiteSpace:"pre-wrap"},children:e.notes})]},s))})]})}):(0,k.jsx)(c.A,{variant:"outlined",sx:{p:2},children:(0,k.jsx)(a.A,{variant:"body1",color:"text.secondary",children:i("pages.requirements.detail.empty.aiFeatures","No AI-generated features available.")})})]})]}),(0,k.jsx)(w.A,{children:(0,k.jsx)(d.A,{onClick:t,children:i("pages.requirements.detail.buttons.close","Close")})})]}):null},xe=["Company A","Company B","Company C","Company D"],me=["User A","User B","User C","User D"],pe=[{value:"pending",labelKey:"pages.requirements.status.pending"},{value:"in_discussion",labelKey:"pages.requirements.status.in_discussion"},{value:"confirmed",labelKey:"pages.requirements.status.confirmed"}],Ae=()=>{const{t:e}=(0,r.Bd)(),[s,t]=(0,i.useState)(0),[v,y]=(0,i.useState)(10),[q,C]=(0,i.useState)(""),[w,I]=(0,i.useState)(null),[W,D]=(0,i.useState)(null),[P,T]=(0,i.useState)("all"),[z,R]=(0,i.useState)((B=25,Array.from({length:B},(e,s)=>({id:s+1,name:"Y\xeau c\u1ea7u ".concat(s+1," - ").concat(["H\u1ec7 th\u1ed1ng kho","Website b\xe1n h\xe0ng","App di \u0111\u1ed9ng","Ph\u1ea7n m\u1ec1m k\u1ebf to\xe1n"][s%4]),customer:xe[Math.floor(Math.random()*xe.length)],assignee:me[Math.floor(Math.random()*me.length)],status:["pending","in_discussion","confirmed"][Math.floor(3*Math.random())],expectedDeadline:new Date(Date.now()+24*Math.floor(30*Math.random())*60*60*1e3).toISOString().split("T")[0],createdDate:new Date(Date.now()-24*Math.floor(90*Math.random())*60*60*1e3).toISOString().split("T")[0]}))));var B;const[H,M]=(0,i.useState)(!1),[V,N]=(0,i.useState)(!1),[E,_]=(0,i.useState)(null),[F,L]=(0,i.useState)(!1),[O,G]=(0,i.useState)(null),U=z.filter(e=>{const s=e.name.toLowerCase().includes(q.toLowerCase()),t=!w||e.customer===w,n=!W||e.assignee===W,i="all"===P||e.status===P;return s&&t&&n&&i}),Q=U.slice(s*v,s*v+v);return(0,k.jsxs)(l.A,{sx:{p:3},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,flexWrap:"wrap",gap:2},children:[(0,k.jsx)(a.A,{variant:"h4",component:"h1",children:e("pages.requirements.title")}),(0,k.jsxs)(o.A,{direction:"row",spacing:2,sx:{flexWrap:"wrap",gap:1},children:[(0,k.jsx)(d.A,{variant:"outlined",startIcon:(0,k.jsx)(g.A,{}),onClick:()=>console.log("Export to Excel"),children:e("pages.requirements.actions.exportExcel")}),(0,k.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(j.A,{}),onClick:()=>{M(!0)},children:e("pages.requirements.actions.createRequirement")})]})]}),(0,k.jsxs)(c.A,{sx:{p:2,mb:2},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[(0,k.jsx)(u.A,{variant:"outlined",placeholder:e("pages.requirements.searchPlaceholder"),size:"small",value:q,onChange:e=>{C(e.target.value),t(0)},sx:{minWidth:250,flex:1},InputProps:{startAdornment:(0,k.jsx)(f.A,{sx:{color:"action.active",mr:1}})}}),(0,k.jsx)(h.A,{options:xe,value:w,onChange:(e,s)=>{I(s),t(0)},renderInput:s=>(0,k.jsx)(u.A,(0,n.A)((0,n.A)({},s),{},{label:e("pages.requirements.filters.customer"),size:"small",sx:{minWidth:200},InputProps:(0,n.A)((0,n.A)({},s.InputProps),{},{startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}})})}))}),(0,k.jsx)(h.A,{options:me,value:W,onChange:(e,s)=>{D(s),t(0)},renderInput:s=>(0,k.jsx)(u.A,(0,n.A)((0,n.A)({},s),{},{label:e("pages.requirements.filters.assignee"),size:"small",sx:{minWidth:200},InputProps:(0,n.A)((0,n.A)({},s.InputProps),{},{startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}})})}))}),(0,k.jsxs)(x.A,{sx:{minWidth:200},size:"small",children:[(0,k.jsx)(m.A,{children:e("pages.requirements.filters.status")}),(0,k.jsxs)(p.A,{value:P,label:e("pages.requirements.filters.status"),onChange:e=>{T(e.target.value),t(0)},startAdornment:(0,k.jsx)(b.A,{fontSize:"small",sx:{color:"action.active",mr:1}}),children:[(0,k.jsx)(A.A,{value:"all",children:e("pages.requirements.filters.all")}),pe.map(s=>(0,k.jsx)(A.A,{value:s.value,children:e(s.labelKey)},s.value))]})]})]}),(0,k.jsx)(K,{requirements:Q,page:s,rowsPerPage:v,totalCount:U.length,onPageChange:(e,s)=>{t(s)},onRowsPerPageChange:e=>{y(parseInt(e.target.value,10)),t(0)},onEdit:e=>{console.log("Edit requirement with id ".concat(e))},onDelete:e=>{_(e),N(!0)},onViewDetail:e=>{const s=z.find(s=>s.id===e);s&&(G(s),L(!0))}})]}),(0,k.jsx)(S,{open:V,onClose:()=>{N(!1),_(null)},onConfirm:()=>{null!==E&&(R(z.filter(e=>e.id!==E)),N(!1),_(null))},title:e("pages.requirements.dialogs.deleteConfirmTitle"),content:e("pages.requirements.dialogs.deleteConfirmText")}),(0,k.jsx)(he,{open:F,onClose:()=>L(!1),requirement:O}),(0,k.jsx)(oe,{open:H,onClose:()=>{M(!1)},onSave:e=>{const s=(0,n.A)((0,n.A)({},e),{},{id:Math.max(...z.map(e=>e.id),0)+1});R([s,...z]),M(!1)},customers:xe,assignees:me})]})}}}]);
//# sourceMappingURL=686.61e7cfd5.chunk.js.map